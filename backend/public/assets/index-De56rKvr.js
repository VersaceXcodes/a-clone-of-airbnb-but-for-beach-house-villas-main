var kN=Object.defineProperty;var ly=t=>{throw TypeError(t)};var SN=(t,e,r)=>e in t?kN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Rn=(t,e,r)=>SN(t,typeof e!="symbol"?e+"":e,r),qd=(t,e,r)=>e.has(t)||ly("Cannot "+r);var O=(t,e,r)=>(qd(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?ly("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ee=(t,e,r,n)=>(qd(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ye=(t,e,r)=>(qd(t,e,"access private method"),r);var Kl=(t,e,r,n)=>({set _(s){ee(t,e,s,r)},get _(){return O(t,e,n)}});function CN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function EN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var m_={exports:{}},Ju={},p_={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),PN=Symbol.for("react.portal"),ON=Symbol.for("react.fragment"),RN=Symbol.for("react.strict_mode"),TN=Symbol.for("react.profiler"),AN=Symbol.for("react.provider"),$N=Symbol.for("react.context"),LN=Symbol.for("react.forward_ref"),FN=Symbol.for("react.suspense"),MN=Symbol.for("react.memo"),IN=Symbol.for("react.lazy"),uy=Symbol.iterator;function DN(t){return t===null||typeof t!="object"?null:(t=uy&&t[uy]||t["@@iterator"],typeof t=="function"?t:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y_=Object.assign,x_={};function Xa(t,e,r){this.props=t,this.context=e,this.refs=x_,this.updater=r||g_}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v_(){}v_.prototype=Xa.prototype;function Cp(t,e,r){this.props=t,this.context=e,this.refs=x_,this.updater=r||g_}var Ep=Cp.prototype=new v_;Ep.constructor=Cp;y_(Ep,Xa.prototype);Ep.isPureReactComponent=!0;var dy=Array.isArray,__=Object.prototype.hasOwnProperty,Pp={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function w_(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)__.call(e,n)&&!b_.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fl,type:t,key:a,ref:o,props:s,_owner:Pp.current}}function BN(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Op(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function UN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var fy=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UN(""+t.key):e.toString(36)}function jc(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fl:case PN:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Vd(o,0):n,dy(s)?(r="",t!=null&&(r=t.replace(fy,"$&/")+"/"),jc(s,e,r,"",function(u){return u})):s!=null&&(Op(s)&&(s=BN(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",dy(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Vd(a,l);o+=jc(a,e,r,c,s)}else if(c=DN(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Vd(a,l++),o+=jc(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,e,r){if(t==null)return t;var n=[],s=0;return jc(t,n,"","",function(a){return e.call(r,a,s++)}),n}function zN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Nc={transition:null},qN={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:Pp};function j_(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Yl,forEach:function(t,e,r){Yl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Xa;Te.Fragment=ON;Te.Profiler=TN;Te.PureComponent=Cp;Te.StrictMode=RN;Te.Suspense=FN;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qN;Te.act=j_;Te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=y_({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Pp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)__.call(e,c)&&!b_.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fl,type:t.type,key:s,ref:a,props:n,_owner:o}};Te.createContext=function(t){return t={$$typeof:$N,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AN,_context:t},t.Consumer=t};Te.createElement=w_;Te.createFactory=function(t){var e=w_.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:LN,render:t}};Te.isValidElement=Op;Te.lazy=function(t){return{$$typeof:IN,_payload:{_status:-1,_result:t},_init:zN}};Te.memo=function(t,e){return{$$typeof:MN,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};Te.unstable_act=j_;Te.useCallback=function(t,e){return Vt.current.useCallback(t,e)};Te.useContext=function(t){return Vt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Vt.current.useEffect(t,e)};Te.useId=function(){return Vt.current.useId()};Te.useImperativeHandle=function(t,e,r){return Vt.current.useImperativeHandle(t,e,r)};Te.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Vt.current.useMemo(t,e)};Te.useReducer=function(t,e,r){return Vt.current.useReducer(t,e,r)};Te.useRef=function(t){return Vt.current.useRef(t)};Te.useState=function(t){return Vt.current.useState(t)};Te.useSyncExternalStore=function(t,e,r){return Vt.current.useSyncExternalStore(t,e,r)};Te.useTransition=function(){return Vt.current.useTransition()};Te.version="18.3.1";p_.exports=Te;var w=p_.exports;const ge=Sp(w),ph=CN({__proto__:null,default:ge},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN=w,WN=Symbol.for("react.element"),HN=Symbol.for("react.fragment"),ZN=Object.prototype.hasOwnProperty,QN=VN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KN={key:!0,ref:!0,__self:!0,__source:!0};function N_(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ZN.call(e,n)&&!KN.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:WN,type:t,key:a,ref:o,props:s,_owner:QN.current}}Ju.Fragment=HN;Ju.jsx=N_;Ju.jsxs=N_;m_.exports=Ju;var i=m_.exports,k_={exports:{}},cr={},S_={exports:{}},C_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var z=R.length;R.push(M);e:for(;0<z;){var re=z-1>>>1,K=R[re];if(0<s(K,M))R[re]=M,R[z]=K,z=re;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],z=R.pop();if(z!==M){R[0]=z;e:for(var re=0,K=R.length,$=K>>>1;re<$;){var Z=2*(re+1)-1,X=R[Z],I=Z+1,se=R[I];if(0>s(X,z))I<K&&0>s(se,X)?(R[re]=se,R[I]=z,re=I):(R[re]=X,R[Z]=z,re=Z);else if(I<K&&0>s(se,z))R[re]=se,R[I]=z,re=I;else break e}}return M}function s(R,M){var z=R.sortIndex-M.sortIndex;return z!==0?z:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,v=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=R)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(u)}}function b(R){if(y=!1,m(R),!g)if(r(c)!==null)g=!0,j(S);else{var M=r(u);M!==null&&N(b,M.startTime-R)}}function S(R,M){g=!1,y&&(y=!1,p(A),A=-1),v=!0;var z=h;try{for(m(M),d=r(c);d!==null&&(!(d.expirationTime>M)||R&&!V());){var re=d.callback;if(typeof re=="function"){d.callback=null,h=d.priorityLevel;var K=re(d.expirationTime<=M);M=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(c)&&n(c),m(M)}else n(c);d=r(c)}if(d!==null)var $=!0;else{var Z=r(u);Z!==null&&N(b,Z.startTime-M),$=!1}return $}finally{d=null,h=z,v=!1}}var T=!1,P=null,A=-1,F=5,U=-1;function V(){return!(t.unstable_now()-U<F)}function Q(){if(P!==null){var R=t.unstable_now();U=R;var M=!0;try{M=P(!0,R)}finally{M?E():(T=!1,P=null)}}else T=!1}var E;if(typeof x=="function")E=function(){x(Q)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,C=L.port2;L.port1.onmessage=Q,E=function(){C.postMessage(null)}}else E=function(){_(Q,0)};function j(R){P=R,T||(T=!0,E())}function N(R,M){A=_(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,j(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return R()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=h;h=R;try{return M()}finally{h=z}},t.unstable_scheduleCallback=function(R,M,z){var re=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?re+z:re):z=re,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=z+K,R={id:f++,callback:M,priorityLevel:R,startTime:z,expirationTime:K,sortIndex:-1},z>re?(R.sortIndex=z,e(u,R),r(c)===null&&R===r(u)&&(y?(p(A),A=-1):y=!0,N(b,z-re))):(R.sortIndex=K,e(c,R),g||v||(g=!0,j(S))),R},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(R){var M=h;return function(){var z=h;h=M;try{return R.apply(this,arguments)}finally{h=z}}}})(C_);S_.exports=C_;var YN=S_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN=w,or=YN;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E_=new Set,Jo={};function Oi(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Jo[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,JN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hy={},my={};function XN(t){return gh.call(my,t)?!0:gh.call(hy,t)?!1:JN.test(t)?my[t]=!0:(hy[t]=!0,!1)}function ek(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tk(t,e,r,n){if(e===null||typeof e>"u"||ek(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function Tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rp,Tp);Et[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rp,Tp);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rp,Tp);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ap(t,e,r,n){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tk(e,r,s,n)&&(r=null),n||s===null?XN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var En=GN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),vh=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),py=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=py&&t[py]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Wd;function Eo(t){if(Wd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wd=e&&e[1]||""}return`
`+Wd+t}var Hd=!1;function Zd(t,e){if(!t||Hd)return"";Hd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Eo(t):""}function rk(t){switch(t.tag){case 5:return Eo(t.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function _h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Zi:return"Portal";case yh:return"Profiler";case $p:return"StrictMode";case xh:return"Suspense";case vh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O_:return(t.displayName||"Context")+".Consumer";case P_:return(t._context.displayName||"Context")+".Provider";case Lp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:_h(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return _h(t(e))}catch{}}return null}function nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(e);case 8:return e===$p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sk(t){var e=T_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jl(t){t._valueTracker||(t._valueTracker=sk(t))}function A_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=T_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bh(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function gy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=bs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $_(t,e){e=e.checked,e!=null&&Ap(t,"checked",e,!1)}function wh(t,e){$_(t,e);var r=bs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jh(t,e.type,r):e.hasOwnProperty("defaultValue")&&jh(t,e.type,bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jh(t,e,r){(e!=="number"||tu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Po=Array.isArray;function aa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+bs(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xy(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Po(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:bs(r)}}function L_(t,e){var r=bs(e.value),n=bs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xl,M_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ik=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(t){ik.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Io[e]=Io[t]})});function I_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Io.hasOwnProperty(t)&&Io[t]?(""+e).trim():e+"px"}function D_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=I_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ak=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(t,e){if(e){if(ak[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Ch(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eh=null;function Mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ph=null,oa=null,la=null;function _y(t){if(t=Dl(t)){if(typeof Ph!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=nd(e),Ph(t.stateNode,t.type,e))}}function B_(t){oa?la?la.push(t):la=[t]:oa=t}function U_(){if(oa){var t=oa,e=la;if(la=oa=null,_y(t),e)for(t=0;t<e.length;t++)_y(e[t])}}function z_(t,e){return t(e)}function q_(){}var Qd=!1;function V_(t,e,r){if(Qd)return t(e,r);Qd=!0;try{return z_(t,e,r)}finally{Qd=!1,(oa!==null||la!==null)&&(q_(),U_())}}function el(t,e){var r=t.stateNode;if(r===null)return null;var n=nd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var Oh=!1;if(wn)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Oh=!1}function ok(t,e,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var Do=!1,ru=null,nu=!1,Rh=null,lk={onError:function(t){Do=!0,ru=t}};function ck(t,e,r,n,s,a,o,l,c){Do=!1,ru=null,ok.apply(lk,arguments)}function uk(t,e,r,n,s,a,o,l,c){if(ck.apply(this,arguments),Do){if(Do){var u=ru;Do=!1,ru=null}else throw Error(Y(198));nu||(nu=!0,Rh=u)}}function Ri(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function W_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function by(t){if(Ri(t)!==t)throw Error(Y(188))}function dk(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return by(s),t;if(a===n)return by(s),e;a=a.sibling}throw Error(Y(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function H_(t){return t=dk(t),t!==null?Z_(t):null}function Z_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z_(t);if(e!==null)return e;t=t.sibling}return null}var Q_=or.unstable_scheduleCallback,wy=or.unstable_cancelCallback,fk=or.unstable_shouldYield,hk=or.unstable_requestPaint,ut=or.unstable_now,mk=or.unstable_getCurrentPriorityLevel,Ip=or.unstable_ImmediatePriority,K_=or.unstable_UserBlockingPriority,su=or.unstable_NormalPriority,pk=or.unstable_LowPriority,Y_=or.unstable_IdlePriority,Xu=null,en=null;function gk(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Xu,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:vk,yk=Math.log,xk=Math.LN2;function vk(t){return t>>>=0,t===0?32:31-(yk(t)/xk|0)|0}var ec=64,tc=4194304;function Oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Oo(l):(a&=o,a!==0&&(n=Oo(a)))}else o=r&~s,o!==0?n=Oo(o):a!==0&&(n=Oo(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Lr(e),s=1<<r,n|=t[r],e&=~s;return n}function _k(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Lr(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=_k(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Th(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G_(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function Kd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ml(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=r}function wk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Lr(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function Dp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Lr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Qe=0;function J_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X_,Bp,eb,tb,rb,Ah=!1,rc=[],os=null,ls=null,cs=null,tl=new Map,rl=new Map,qn=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jy(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function mo(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Dl(e),e!==null&&Bp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Nk(t,e,r,n,s){switch(e){case"focusin":return os=mo(os,t,e,r,n,s),!0;case"dragenter":return ls=mo(ls,t,e,r,n,s),!0;case"mouseover":return cs=mo(cs,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return tl.set(a,mo(tl.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,rl.set(a,mo(rl.get(a)||null,t,e,r,n,s)),!0}return!1}function nb(t){var e=Hs(t.target);if(e!==null){var r=Ri(e);if(r!==null){if(e=r.tag,e===13){if(e=W_(r),e!==null){t.blockedOn=e,rb(t.priority,function(){eb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Eh=n,r.target.dispatchEvent(n),Eh=null}else return e=Dl(r),e!==null&&Bp(e),t.blockedOn=r,!1;e.shift()}return!0}function Ny(t,e,r){kc(t)&&r.delete(e)}function kk(){Ah=!1,os!==null&&kc(os)&&(os=null),ls!==null&&kc(ls)&&(ls=null),cs!==null&&kc(cs)&&(cs=null),tl.forEach(Ny),rl.forEach(Ny)}function po(t,e){t.blockedOn===e&&(t.blockedOn=null,Ah||(Ah=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,kk)))}function nl(t){function e(s){return po(s,t)}if(0<rc.length){po(rc[0],t);for(var r=1;r<rc.length;r++){var n=rc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(os!==null&&po(os,t),ls!==null&&po(ls,t),cs!==null&&po(cs,t),tl.forEach(e),rl.forEach(e),r=0;r<qn.length;r++)n=qn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qn.length&&(r=qn[0],r.blockedOn===null);)nb(r),r.blockedOn===null&&qn.shift()}var ca=En.ReactCurrentBatchConfig,au=!0;function Sk(t,e,r,n){var s=Qe,a=ca.transition;ca.transition=null;try{Qe=1,Up(t,e,r,n)}finally{Qe=s,ca.transition=a}}function Ck(t,e,r,n){var s=Qe,a=ca.transition;ca.transition=null;try{Qe=4,Up(t,e,r,n)}finally{Qe=s,ca.transition=a}}function Up(t,e,r,n){if(au){var s=$h(t,e,r,n);if(s===null)af(t,e,n,ou,r),jy(t,n);else if(Nk(s,t,e,r,n))n.stopPropagation();else if(jy(t,n),e&4&&-1<jk.indexOf(t)){for(;s!==null;){var a=Dl(s);if(a!==null&&X_(a),a=$h(t,e,r,n),a===null&&af(t,e,n,ou,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else af(t,e,n,null,r)}}var ou=null;function $h(t,e,r,n){if(ou=null,t=Mp(n),t=Hs(t),t!==null)if(e=Ri(t),e===null)t=null;else if(r=e.tag,r===13){if(t=W_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function sb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case Ip:return 1;case K_:return 4;case su:case pk:return 16;case Y_:return 536870912;default:return 16}default:return 16}}var rs=null,zp=null,Sc=null;function ib(){if(Sc)return Sc;var t,e=zp,r=e.length,n,s="value"in rs?rs.value:rs.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return Sc=s.slice(t,1<n?1-n:void 0)}function Cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function ky(){return!1}function ur(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nc:ky,this.isPropagationStopped=ky,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qp=ur(eo),Il=st({},eo,{view:0,detail:0}),Ek=ur(Il),Yd,Gd,go,ed=st({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==go&&(go&&t.type==="mousemove"?(Yd=t.screenX-go.screenX,Gd=t.screenY-go.screenY):Gd=Yd=0,go=t),Yd)},movementY:function(t){return"movementY"in t?t.movementY:Gd}}),Sy=ur(ed),Pk=st({},ed,{dataTransfer:0}),Ok=ur(Pk),Rk=st({},Il,{relatedTarget:0}),Jd=ur(Rk),Tk=st({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ak=ur(Tk),$k=st({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lk=ur($k),Fk=st({},eo,{data:0}),Cy=ur(Fk),Mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dk[t])?!!e[t]:!1}function Vp(){return Bk}var Uk=st({},Il,{key:function(t){if(t.key){var e=Mk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ik[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(t){return t.type==="keypress"?Cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zk=ur(Uk),qk=st({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=ur(qk),Vk=st({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),Wk=ur(Vk),Hk=st({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zk=ur(Hk),Qk=st({},ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kk=ur(Qk),Yk=[9,13,27,32],Wp=wn&&"CompositionEvent"in window,Bo=null;wn&&"documentMode"in document&&(Bo=document.documentMode);var Gk=wn&&"TextEvent"in window&&!Bo,ab=wn&&(!Wp||Bo&&8<Bo&&11>=Bo),Py=" ",Oy=!1;function ob(t,e){switch(t){case"keyup":return Yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function Jk(t,e){switch(t){case"compositionend":return lb(e);case"keypress":return e.which!==32?null:(Oy=!0,Py);case"textInput":return t=e.data,t===Py&&Oy?null:t;default:return null}}function Xk(t,e){if(Ki)return t==="compositionend"||!Wp&&ob(t,e)?(t=ib(),Sc=zp=rs=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ab&&e.locale!=="ko"?null:e.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e2[t.type]:e==="textarea"}function cb(t,e,r,n){B_(n),e=lu(e,"onChange"),0<e.length&&(r=new qp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uo=null,sl=null;function t2(t){_b(t,0)}function td(t){var e=Ji(t);if(A_(e))return t}function r2(t,e){if(t==="change")return e}var ub=!1;if(wn){var Xd;if(wn){var ef="oninput"in document;if(!ef){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),ef=typeof Ty.oninput=="function"}Xd=ef}else Xd=!1;ub=Xd&&(!document.documentMode||9<document.documentMode)}function Ay(){Uo&&(Uo.detachEvent("onpropertychange",db),sl=Uo=null)}function db(t){if(t.propertyName==="value"&&td(sl)){var e=[];cb(e,sl,t,Mp(t)),V_(t2,e)}}function n2(t,e,r){t==="focusin"?(Ay(),Uo=e,sl=r,Uo.attachEvent("onpropertychange",db)):t==="focusout"&&Ay()}function s2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return td(sl)}function i2(t,e){if(t==="click")return td(e)}function a2(t,e){if(t==="input"||t==="change")return td(e)}function o2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:o2;function il(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!gh.call(e,s)||!Ir(t[s],e[s]))return!1}return!0}function $y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var r=$y(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$y(r)}}function fb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hb(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=tu(t.document)}return e}function Hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function l2(t){var e=hb(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fb(r.ownerDocument.documentElement,r)){if(n!==null&&Hp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=Ly(r,a);var o=Ly(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c2=wn&&"documentMode"in document&&11>=document.documentMode,Yi=null,Lh=null,zo=null,Fh=!1;function Fy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||Yi==null||Yi!==tu(n)||(n=Yi,"selectionStart"in n&&Hp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zo&&il(zo,n)||(zo=n,n=lu(Lh,"onSelect"),0<n.length&&(e=new qp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yi)))}function sc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gi={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},tf={},mb={};wn&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function rd(t){if(tf[t])return tf[t];if(!Gi[t])return t;var e=Gi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mb)return tf[t]=e[r];return t}var pb=rd("animationend"),gb=rd("animationiteration"),yb=rd("animationstart"),xb=rd("transitionend"),vb=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){vb.set(t,e),Oi(e,[t])}for(var rf=0;rf<My.length;rf++){var nf=My[rf],u2=nf.toLowerCase(),d2=nf[0].toUpperCase()+nf.slice(1);Cs(u2,"on"+d2)}Cs(pb,"onAnimationEnd");Cs(gb,"onAnimationIteration");Cs(yb,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(xb,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Iy(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,uk(n,e,void 0,t),t.currentTarget=null}function _b(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Iy(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Iy(s,l,u),a=c}}}if(nu)throw t=Rh,nu=!1,Rh=null,t}function Ye(t,e){var r=e[Uh];r===void 0&&(r=e[Uh]=new Set);var n=t+"__bubble";r.has(n)||(bb(e,t,2,!1),r.add(n))}function sf(t,e,r){var n=0;e&&(n|=4),bb(r,t,n,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[ic]){t[ic]=!0,E_.forEach(function(r){r!=="selectionchange"&&(f2.has(r)||sf(r,!1,t),sf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,sf("selectionchange",!1,e))}}function bb(t,e,r,n){switch(sb(e)){case 1:var s=Sk;break;case 4:s=Ck;break;default:s=Up}r=s.bind(null,e,r,t),s=void 0,!Oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function af(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hs(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}V_(function(){var u=a,f=Mp(r),d=[];e:{var h=vb.get(t);if(h!==void 0){var v=qp,g=t;switch(t){case"keypress":if(Cc(r)===0)break e;case"keydown":case"keyup":v=zk;break;case"focusin":g="focus",v=Jd;break;case"focusout":g="blur",v=Jd;break;case"beforeblur":case"afterblur":v=Jd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ok;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wk;break;case pb:case gb:case yb:v=Ak;break;case xb:v=Zk;break;case"scroll":v=Ek;break;case"wheel":v=Kk;break;case"copy":case"cut":case"paste":v=Lk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ey}var y=(e&4)!==0,_=!y&&t==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,m;x!==null;){m=x;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,p!==null&&(b=el(x,p),b!=null&&y.push(ol(x,b,m)))),_)break;x=x.return}0<y.length&&(h=new v(h,g,null,r,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==Eh&&(g=r.relatedTarget||r.fromElement)&&(Hs(g)||g[jn]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?Hs(g):null,g!==null&&(_=Ri(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(y=Sy,b="onMouseLeave",p="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Ey,b="onPointerLeave",p="onPointerEnter",x="pointer"),_=v==null?h:Ji(v),m=g==null?h:Ji(g),h=new y(b,x+"leave",v,r,f),h.target=_,h.relatedTarget=m,b=null,Hs(f)===u&&(y=new y(p,x+"enter",g,r,f),y.target=m,y.relatedTarget=_,b=y),_=b,v&&g)t:{for(y=v,p=g,x=0,m=y;m;m=Di(m))x++;for(m=0,b=p;b;b=Di(b))m++;for(;0<x-m;)y=Di(y),x--;for(;0<m-x;)p=Di(p),m--;for(;x--;){if(y===p||p!==null&&y===p.alternate)break t;y=Di(y),p=Di(p)}y=null}else y=null;v!==null&&Dy(d,h,v,y,!1),g!==null&&_!==null&&Dy(d,_,g,y,!0)}}e:{if(h=u?Ji(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=r2;else if(Ry(h))if(ub)S=a2;else{S=s2;var T=n2}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=i2);if(S&&(S=S(t,u))){cb(d,S,r,f);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&jh(h,"number",h.value)}switch(T=u?Ji(u):window,t){case"focusin":(Ry(T)||T.contentEditable==="true")&&(Yi=T,Lh=u,zo=null);break;case"focusout":zo=Lh=Yi=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Fy(d,r,f);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":Fy(d,r,f)}var P;if(Wp)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ki?ob(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(ab&&r.locale!=="ko"&&(Ki||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ki&&(P=ib()):(rs=f,zp="value"in rs?rs.value:rs.textContent,Ki=!0)),T=lu(u,A),0<T.length&&(A=new Cy(A,t,null,r,f),d.push({event:A,listeners:T}),P?A.data=P:(P=lb(r),P!==null&&(A.data=P)))),(P=Gk?Jk(t,r):Xk(t,r))&&(u=lu(u,"onBeforeInput"),0<u.length&&(f=new Cy("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=P))}_b(d,e)})}function ol(t,e,r){return{instance:t,listener:e,currentTarget:r}}function lu(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=el(t,r),a!=null&&n.unshift(ol(t,a,s)),a=el(t,e),a!=null&&n.push(ol(t,a,s))),t=t.return}return n}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=el(r,a),c!=null&&o.unshift(ol(r,c,l))):s||(c=el(r,a),c!=null&&o.push(ol(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var h2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(h2,`
`).replace(m2,"")}function ac(t,e,r){if(e=By(e),By(t)!==e&&r)throw Error(Y(425))}function cu(){}var Mh=null,Ih=null;function Dh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(y2)}:Bh;function y2(t){setTimeout(function(){throw t})}function of(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),nl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);nl(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),Xr="__reactFiber$"+to,ll="__reactProps$"+to,jn="__reactContainer$"+to,Uh="__reactEvents$"+to,x2="__reactListeners$"+to,v2="__reactHandles$"+to;function Hs(t){var e=t[Xr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[jn]||r[Xr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zy(t);t!==null;){if(r=t[Xr])return r;t=zy(t)}return e}t=r,r=t.parentNode}return null}function Dl(t){return t=t[Xr]||t[jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function nd(t){return t[ll]||null}var zh=[],Xi=-1;function Es(t){return{current:t}}function Je(t){0>Xi||(t.current=zh[Xi],zh[Xi]=null,Xi--)}function Ke(t,e){Xi++,zh[Xi]=t.current,t.current=e}var ws={},Dt=Es(ws),Gt=Es(!1),mi=ws;function Ra(t,e){var r=t.type.contextTypes;if(!r)return ws;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(t){return t=t.childContextTypes,t!=null}function uu(){Je(Gt),Je(Dt)}function qy(t,e,r){if(Dt.current!==ws)throw Error(Y(168));Ke(Dt,e),Ke(Gt,r)}function wb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Y(108,nk(t)||"Unknown",s));return st({},r,n)}function du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,mi=Dt.current,Ke(Dt,t),Ke(Gt,Gt.current),!0}function Vy(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=wb(t,e,mi),n.__reactInternalMemoizedMergedChildContext=t,Je(Gt),Je(Dt),Ke(Dt,t)):Je(Gt),Ke(Gt,r)}var hn=null,sd=!1,lf=!1;function jb(t){hn===null?hn=[t]:hn.push(t)}function _2(t){sd=!0,jb(t)}function Ps(){if(!lf&&hn!==null){lf=!0;var t=0,e=Qe;try{var r=hn;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}hn=null,sd=!1}catch(s){throw hn!==null&&(hn=hn.slice(t+1)),Q_(Ip,Ps),s}finally{Qe=e,lf=!1}}return null}var ea=[],ta=0,fu=null,hu=0,gr=[],yr=0,pi=null,gn=1,yn="";function Bs(t,e){ea[ta++]=hu,ea[ta++]=fu,fu=t,hu=e}function Nb(t,e,r){gr[yr++]=gn,gr[yr++]=yn,gr[yr++]=pi,pi=t;var n=gn;t=yn;var s=32-Lr(n)-1;n&=~(1<<s),r+=1;var a=32-Lr(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gn=1<<32-Lr(e)+s|r<<s|n,yn=a+t}else gn=1<<a|r<<s|n,yn=t}function Zp(t){t.return!==null&&(Bs(t,1),Nb(t,1,0))}function Qp(t){for(;t===fu;)fu=ea[--ta],ea[ta]=null,hu=ea[--ta],ea[ta]=null;for(;t===pi;)pi=gr[--yr],gr[yr]=null,yn=gr[--yr],gr[yr]=null,gn=gr[--yr],gr[yr]=null}var ar=null,ir=null,Xe=!1,$r=null;function kb(t,e){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Wy(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,ir=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=pi!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ar=t,ir=null,!0):!1;default:return!1}}function qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vh(t){if(Xe){var e=ir;if(e){var r=e;if(!Wy(t,e)){if(qh(t))throw Error(Y(418));e=us(r.nextSibling);var n=ar;e&&Wy(t,e)?kb(n,r):(t.flags=t.flags&-4097|2,Xe=!1,ar=t)}}else{if(qh(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Xe=!1,ar=t}}}function Hy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function oc(t){if(t!==ar)return!1;if(!Xe)return Hy(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dh(t.type,t.memoizedProps)),e&&(e=ir)){if(qh(t))throw Sb(),Error(Y(418));for(;e;)kb(t,e),e=us(e.nextSibling)}if(Hy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ir=us(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ir=null}}else ir=ar?us(t.stateNode.nextSibling):null;return!0}function Sb(){for(var t=ir;t;)t=us(t.nextSibling)}function Ta(){ir=ar=null,Xe=!1}function Kp(t){$r===null?$r=[t]:$r.push(t)}var b2=En.ReactCurrentBatchConfig;function yo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zy(t){var e=t._init;return e(t._payload)}function Cb(t){function e(p,x){if(t){var m=p.deletions;m===null?(p.deletions=[x],p.flags|=16):m.push(x)}}function r(p,x){if(!t)return null;for(;x!==null;)e(p,x),x=x.sibling;return null}function n(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function s(p,x){return p=ms(p,x),p.index=0,p.sibling=null,p}function a(p,x,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<x?(p.flags|=2,x):m):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,x,m,b){return x===null||x.tag!==6?(x=pf(m,p.mode,b),x.return=p,x):(x=s(x,m),x.return=p,x)}function c(p,x,m,b){var S=m.type;return S===Qi?f(p,x,m.props.children,b,m.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dn&&Zy(S)===x.type)?(b=s(x,m.props),b.ref=yo(p,x,m),b.return=p,b):(b=$c(m.type,m.key,m.props,null,p.mode,b),b.ref=yo(p,x,m),b.return=p,b)}function u(p,x,m,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=gf(m,p.mode,b),x.return=p,x):(x=s(x,m.children||[]),x.return=p,x)}function f(p,x,m,b,S){return x===null||x.tag!==7?(x=ci(m,p.mode,b,S),x.return=p,x):(x=s(x,m),x.return=p,x)}function d(p,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pf(""+x,p.mode,m),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gl:return m=$c(x.type,x.key,x.props,null,p.mode,m),m.ref=yo(p,null,x),m.return=p,m;case Zi:return x=gf(x,p.mode,m),x.return=p,x;case Dn:var b=x._init;return d(p,b(x._payload),m)}if(Po(x)||fo(x))return x=ci(x,p.mode,m,null),x.return=p,x;lc(p,x)}return null}function h(p,x,m,b){var S=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,x,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gl:return m.key===S?c(p,x,m,b):null;case Zi:return m.key===S?u(p,x,m,b):null;case Dn:return S=m._init,h(p,x,S(m._payload),b)}if(Po(m)||fo(m))return S!==null?null:f(p,x,m,b,null);lc(p,m)}return null}function v(p,x,m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(m)||null,l(x,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gl:return p=p.get(b.key===null?m:b.key)||null,c(x,p,b,S);case Zi:return p=p.get(b.key===null?m:b.key)||null,u(x,p,b,S);case Dn:var T=b._init;return v(p,x,m,T(b._payload),S)}if(Po(b)||fo(b))return p=p.get(m)||null,f(x,p,b,S,null);lc(x,b)}return null}function g(p,x,m,b){for(var S=null,T=null,P=x,A=x=0,F=null;P!==null&&A<m.length;A++){P.index>A?(F=P,P=null):F=P.sibling;var U=h(p,P,m[A],b);if(U===null){P===null&&(P=F);break}t&&P&&U.alternate===null&&e(p,P),x=a(U,x,A),T===null?S=U:T.sibling=U,T=U,P=F}if(A===m.length)return r(p,P),Xe&&Bs(p,A),S;if(P===null){for(;A<m.length;A++)P=d(p,m[A],b),P!==null&&(x=a(P,x,A),T===null?S=P:T.sibling=P,T=P);return Xe&&Bs(p,A),S}for(P=n(p,P);A<m.length;A++)F=v(P,p,A,m[A],b),F!==null&&(t&&F.alternate!==null&&P.delete(F.key===null?A:F.key),x=a(F,x,A),T===null?S=F:T.sibling=F,T=F);return t&&P.forEach(function(V){return e(p,V)}),Xe&&Bs(p,A),S}function y(p,x,m,b){var S=fo(m);if(typeof S!="function")throw Error(Y(150));if(m=S.call(m),m==null)throw Error(Y(151));for(var T=S=null,P=x,A=x=0,F=null,U=m.next();P!==null&&!U.done;A++,U=m.next()){P.index>A?(F=P,P=null):F=P.sibling;var V=h(p,P,U.value,b);if(V===null){P===null&&(P=F);break}t&&P&&V.alternate===null&&e(p,P),x=a(V,x,A),T===null?S=V:T.sibling=V,T=V,P=F}if(U.done)return r(p,P),Xe&&Bs(p,A),S;if(P===null){for(;!U.done;A++,U=m.next())U=d(p,U.value,b),U!==null&&(x=a(U,x,A),T===null?S=U:T.sibling=U,T=U);return Xe&&Bs(p,A),S}for(P=n(p,P);!U.done;A++,U=m.next())U=v(P,p,A,U.value,b),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?A:U.key),x=a(U,x,A),T===null?S=U:T.sibling=U,T=U);return t&&P.forEach(function(Q){return e(p,Q)}),Xe&&Bs(p,A),S}function _(p,x,m,b){if(typeof m=="object"&&m!==null&&m.type===Qi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Gl:e:{for(var S=m.key,T=x;T!==null;){if(T.key===S){if(S=m.type,S===Qi){if(T.tag===7){r(p,T.sibling),x=s(T,m.props.children),x.return=p,p=x;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dn&&Zy(S)===T.type){r(p,T.sibling),x=s(T,m.props),x.ref=yo(p,T,m),x.return=p,p=x;break e}r(p,T);break}else e(p,T);T=T.sibling}m.type===Qi?(x=ci(m.props.children,p.mode,b,m.key),x.return=p,p=x):(b=$c(m.type,m.key,m.props,null,p.mode,b),b.ref=yo(p,x,m),b.return=p,p=b)}return o(p);case Zi:e:{for(T=m.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(p,x.sibling),x=s(x,m.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else e(p,x);x=x.sibling}x=gf(m,p.mode,b),x.return=p,p=x}return o(p);case Dn:return T=m._init,_(p,x,T(m._payload),b)}if(Po(m))return g(p,x,m,b);if(fo(m))return y(p,x,m,b);lc(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(p,x.sibling),x=s(x,m),x.return=p,p=x):(r(p,x),x=pf(m,p.mode,b),x.return=p,p=x),o(p)):r(p,x)}return _}var Aa=Cb(!0),Eb=Cb(!1),mu=Es(null),pu=null,ra=null,Yp=null;function Gp(){Yp=ra=pu=null}function Jp(t){var e=mu.current;Je(mu),t._currentValue=e}function Wh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ua(t,e){pu=t,Yp=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(Yp!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(pu===null)throw Error(Y(308));ra=t,pu.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Zs=null;function Xp(t){Zs===null?Zs=[t]:Zs.push(t)}function Pb(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Xp(e)):(r.next=s.next,s.next=r),e.interleaved=r,Nn(t,n)}function Nn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Bn=!1;function eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ob(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Nn(t,r)}return s=n.interleaved,s===null?(e.next=e,Xp(n)):(e.next=s.next,s.next=e),n.interleaved=e,Nn(t,r)}function Ec(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dp(t,r)}}function Qy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gu(t,e,r,n){var s=t.updateQueue;Bn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,f=u=c=null,l=a;do{var h=l.lane,v=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(h=e,v=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(v,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(v,d,h):g,h==null)break e;d=st({},d,h);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=v,c=d):f=f.next=v,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=d}}function Ky(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Y(191,s));s.call(n)}}}var Bl={},tn=Es(Bl),cl=Es(Bl),ul=Es(Bl);function Qs(t){if(t===Bl)throw Error(Y(174));return t}function tg(t,e){switch(Ke(ul,e),Ke(cl,t),Ke(tn,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kh(e,t)}Je(tn),Ke(tn,e)}function $a(){Je(tn),Je(cl),Je(ul)}function Rb(t){Qs(ul.current);var e=Qs(tn.current),r=kh(e,t.type);e!==r&&(Ke(cl,t),Ke(tn,r))}function rg(t){cl.current===t&&(Je(tn),Je(cl))}var rt=Es(0);function yu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cf=[];function ng(){for(var t=0;t<cf.length;t++)cf[t]._workInProgressVersionPrimary=null;cf.length=0}var Pc=En.ReactCurrentDispatcher,uf=En.ReactCurrentBatchConfig,gi=0,nt=null,vt=null,wt=null,xu=!1,qo=!1,dl=0,w2=0;function Rt(){throw Error(Y(321))}function sg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ir(t[r],e[r]))return!1;return!0}function ig(t,e,r,n,s,a){if(gi=a,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pc.current=t===null||t.memoizedState===null?S2:C2,t=r(n,s),qo){a=0;do{if(qo=!1,dl=0,25<=a)throw Error(Y(301));a+=1,wt=vt=null,e.updateQueue=null,Pc.current=E2,t=r(n,s)}while(qo)}if(Pc.current=vu,e=vt!==null&&vt.next!==null,gi=0,wt=vt=nt=null,xu=!1,e)throw Error(Y(300));return t}function ag(){var t=dl!==0;return dl=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?nt.memoizedState=wt=t:wt=wt.next=t,wt}function wr(){if(vt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=wt===null?nt.memoizedState:wt.next;if(e!==null)wt=e,vt=t;else{if(t===null)throw Error(Y(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},wt===null?nt.memoizedState=wt=t:wt=wt.next=t}return wt}function fl(t,e){return typeof e=="function"?e(t):e}function df(t){var e=wr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=vt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var f=u.lane;if((gi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,nt.lanes|=f,yi|=f}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Ir(n,e.memoizedState)||(Yt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,nt.lanes|=a,yi|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ff(t){var e=wr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Ir(a,e.memoizedState)||(Yt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Tb(){}function Ab(t,e){var r=nt,n=wr(),s=e(),a=!Ir(n.memoizedState,s);if(a&&(n.memoizedState=s,Yt=!0),n=n.queue,og(Fb.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,hl(9,Lb.bind(null,r,n,s,e),void 0,null),Nt===null)throw Error(Y(349));gi&30||$b(r,e,s)}return s}function $b(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Lb(t,e,r,n){e.value=r,e.getSnapshot=n,Mb(e)&&Ib(t)}function Fb(t,e,r){return r(function(){Mb(e)&&Ib(t)})}function Mb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ir(t,r)}catch{return!0}}function Ib(t){var e=Nn(t,1);e!==null&&Fr(e,t,1,-1)}function Yy(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=k2.bind(null,nt,t),[e.memoizedState,t]}function hl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Db(){return wr().memoizedState}function Oc(t,e,r,n){var s=Hr();nt.flags|=t,s.memoizedState=hl(1|e,r,void 0,n===void 0?null:n)}function id(t,e,r,n){var s=wr();n=n===void 0?null:n;var a=void 0;if(vt!==null){var o=vt.memoizedState;if(a=o.destroy,n!==null&&sg(n,o.deps)){s.memoizedState=hl(e,r,a,n);return}}nt.flags|=t,s.memoizedState=hl(1|e,r,a,n)}function Gy(t,e){return Oc(8390656,8,t,e)}function og(t,e){return id(2048,8,t,e)}function Bb(t,e){return id(4,2,t,e)}function Ub(t,e){return id(4,4,t,e)}function zb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qb(t,e,r){return r=r!=null?r.concat([t]):null,id(4,4,zb.bind(null,e,t),r)}function lg(){}function Vb(t,e){var r=wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Wb(t,e){var r=wr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Hb(t,e,r){return gi&21?(Ir(r,e)||(r=G_(),nt.lanes|=r,yi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=r)}function j2(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=uf.transition;uf.transition={};try{t(!1),e()}finally{Qe=r,uf.transition=n}}function Zb(){return wr().memoizedState}function N2(t,e,r){var n=hs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qb(t))Kb(e,r);else if(r=Pb(t,e,r,n),r!==null){var s=qt();Fr(r,t,n,s),Yb(r,e,n)}}function k2(t,e,r){var n=hs(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qb(t))Kb(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ir(l,o)){var c=e.interleaved;c===null?(s.next=s,Xp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Pb(t,e,s,n),r!==null&&(s=qt(),Fr(r,t,n,s),Yb(r,e,n))}}function Qb(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function Kb(t,e){qo=xu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Yb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dp(t,r)}}var vu={readContext:br,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},S2={readContext:br,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:Gy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Oc(4194308,4,zb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oc(4,2,t,e)},useMemo:function(t,e){var r=Hr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Hr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=N2.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:Yy,useDebugValue:lg,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=Yy(!1),e=t[0];return t=j2.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,s=Hr();if(Xe){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),Nt===null)throw Error(Y(349));gi&30||$b(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,Gy(Fb.bind(null,n,a,t),[t]),n.flags|=2048,hl(9,Lb.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Hr(),e=Nt.identifierPrefix;if(Xe){var r=yn,n=gn;r=(n&~(1<<32-Lr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=dl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=w2++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C2={readContext:br,useCallback:Vb,useContext:br,useEffect:og,useImperativeHandle:qb,useInsertionEffect:Bb,useLayoutEffect:Ub,useMemo:Wb,useReducer:df,useRef:Db,useState:function(){return df(fl)},useDebugValue:lg,useDeferredValue:function(t){var e=wr();return Hb(e,vt.memoizedState,t)},useTransition:function(){var t=df(fl)[0],e=wr().memoizedState;return[t,e]},useMutableSource:Tb,useSyncExternalStore:Ab,useId:Zb,unstable_isNewReconciler:!1},E2={readContext:br,useCallback:Vb,useContext:br,useEffect:og,useImperativeHandle:qb,useInsertionEffect:Bb,useLayoutEffect:Ub,useMemo:Wb,useReducer:ff,useRef:Db,useState:function(){return ff(fl)},useDebugValue:lg,useDeferredValue:function(t){var e=wr();return vt===null?e.memoizedState=t:Hb(e,vt.memoizedState,t)},useTransition:function(){var t=ff(fl)[0],e=wr().memoizedState;return[t,e]},useMutableSource:Tb,useSyncExternalStore:Ab,useId:Zb,unstable_isNewReconciler:!1};function Pr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Hh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ad={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qt(),s=hs(t),a=_n(n,s);a.payload=e,r!=null&&(a.callback=r),e=ds(t,a,s),e!==null&&(Fr(e,t,s,n),Ec(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qt(),s=hs(t),a=_n(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ds(t,a,s),e!==null&&(Fr(e,t,s,n),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qt(),n=hs(t),s=_n(r,n);s.tag=2,e!=null&&(s.callback=e),e=ds(t,s,n),e!==null&&(Fr(e,t,n,r),Ec(e,t,n))}};function Jy(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!il(r,n)||!il(s,a):!0}function Gb(t,e,r){var n=!1,s=ws,a=e.contextType;return typeof a=="object"&&a!==null?a=br(a):(s=Jt(e)?mi:Dt.current,n=e.contextTypes,a=(n=n!=null)?Ra(t,s):ws),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ad,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function Xy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ad.enqueueReplaceState(e,e.state,null)}function Zh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},eg(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=br(a):(a=Jt(e)?mi:Dt.current,s.context=Ra(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Hh(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ad.enqueueReplaceState(s,s.state,null),gu(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var r="",n=e;do r+=rk(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function hf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Qh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var P2=typeof WeakMap=="function"?WeakMap:Map;function Jb(t,e,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bu||(bu=!0,sm=n),Qh(t,e)},r}function Xb(t,e,r){r=_n(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Qh(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Qh(t,e),typeof n!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ex(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new P2;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=q2.bind(null,t,e,r),e.then(t,t))}function tx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rx(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_n(-1,1),e.tag=2,ds(r,e,1))),r.lanes|=1),t)}var O2=En.ReactCurrentOwner,Yt=!1;function zt(t,e,r,n){e.child=t===null?Eb(e,null,r,n):Aa(e,t.child,r,n)}function nx(t,e,r,n,s){r=r.render;var a=e.ref;return ua(e,s),n=ig(t,e,r,n,a,s),r=ag(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kn(t,e,s)):(Xe&&r&&Zp(e),e.flags|=1,zt(t,e,n,s),e.child)}function sx(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!gg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,ew(t,e,a,n,s)):(t=$c(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(o,n)&&t.ref===e.ref)return kn(t,e,s)}return e.flags|=1,t=ms(a,n),t.ref=e.ref,t.return=e,e.child=t}function ew(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(il(a,n)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,kn(t,e,s)}return Kh(t,e,r,n,s)}function tw(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(sa,sr),sr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(sa,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ke(sa,sr),sr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ke(sa,sr),sr|=n;return zt(t,e,s,r),e.child}function rw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Kh(t,e,r,n,s){var a=Jt(r)?mi:Dt.current;return a=Ra(e,a),ua(e,s),r=ig(t,e,r,n,a,s),n=ag(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kn(t,e,s)):(Xe&&n&&Zp(e),e.flags|=1,zt(t,e,r,s),e.child)}function ix(t,e,r,n,s){if(Jt(r)){var a=!0;du(e)}else a=!1;if(ua(e,s),e.stateNode===null)Rc(t,e),Gb(e,r,n),Zh(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Jt(r)?mi:Dt.current,u=Ra(e,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Xy(e,o,n,u),Bn=!1;var h=e.memoizedState;o.state=h,gu(e,n,o,s),c=e.memoizedState,l!==n||h!==c||Gt.current||Bn?(typeof f=="function"&&(Hh(e,r,f,n),c=e.memoizedState),(l=Bn||Jy(e,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ob(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Pr(e.type,l),o.props=u,d=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=Jt(r)?mi:Dt.current,c=Ra(e,c));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&Xy(e,o,n,c),Bn=!1,h=e.memoizedState,o.state=h,gu(e,n,o,s);var g=e.memoizedState;l!==d||h!==g||Gt.current||Bn?(typeof v=="function"&&(Hh(e,r,v,n),g=e.memoizedState),(u=Bn||Jy(e,r,u,n,h,g,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Yh(t,e,r,n,a,s)}function Yh(t,e,r,n,s,a){rw(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Vy(e,r,!1),kn(t,e,a);n=e.stateNode,O2.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Aa(e,t.child,null,a),e.child=Aa(e,null,l,a)):zt(t,e,l,a),e.memoizedState=n.state,s&&Vy(e,r,!0),e.child}function nw(t){var e=t.stateNode;e.pendingContext?qy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qy(t,e.context,!1),tg(t,e.containerInfo)}function ax(t,e,r,n,s){return Ta(),Kp(s),e.flags|=256,zt(t,e,r,n),e.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function sw(t,e,r){var n=e.pendingProps,s=rt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(rt,s&1),t===null)return Vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=cd(o,n,0,null),t=ci(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Jh(r),e.memoizedState=Gh,t):cg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return R2(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ms(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ms(l,a):(a=ci(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Jh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Gh,n}return a=t.child,t=a.sibling,n=ms(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function cg(t,e){return e=cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,r,n){return n!==null&&Kp(n),Aa(e,t.child,null,r),t=cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R2(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=hf(Error(Y(422))),cc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=cd({mode:"visible",children:n.children},s,0,null),a=ci(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Aa(e,t.child,null,o),e.child.memoizedState=Jh(o),e.memoizedState=Gh,a);if(!(e.mode&1))return cc(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Y(419)),n=hf(a,n,void 0),cc(t,e,o,n)}if(l=(o&t.childLanes)!==0,Yt||l){if(n=Nt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nn(t,s),Fr(n,t,s,-1))}return pg(),n=hf(Error(Y(421))),cc(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=V2.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,ir=us(s.nextSibling),ar=e,Xe=!0,$r=null,t!==null&&(gr[yr++]=gn,gr[yr++]=yn,gr[yr++]=pi,gn=t.id,yn=t.overflow,pi=e),e=cg(e,n.children),e.flags|=4096,e)}function ox(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Wh(t.return,e,r)}function mf(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function iw(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(zt(t,e,n.children,r),n=rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ox(t,r,e);else if(t.tag===19)ox(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ke(rt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&yu(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),mf(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}mf(e,!0,r,null,a);break;case"together":mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=ms(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ms(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function T2(t,e,r){switch(e.tag){case 3:nw(e),Ta();break;case 5:Rb(e);break;case 1:Jt(e.type)&&du(e);break;case 4:tg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ke(mu,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):r&e.child.childLanes?sw(t,e,r):(Ke(rt,rt.current&1),t=kn(t,e,r),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return iw(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return e.lanes=0,tw(t,e,r)}return kn(t,e,r)}var aw,Xh,ow,lw;aw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xh=function(){};ow=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Qs(tn.current);var a=null;switch(r){case"input":s=bh(t,s),n=bh(t,n),a=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),a=[];break;case"textarea":s=Nh(t,s),n=Nh(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cu)}Sh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};lw=function(t,e,r,n){r!==n&&(e.flags|=4)};function xo(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function A2(t,e,r){var n=e.pendingProps;switch(Qp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Jt(e.type)&&uu(),Tt(e),null;case 3:return n=e.stateNode,$a(),Je(Gt),Je(Dt),ng(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(om($r),$r=null))),Xh(t,e),Tt(e),null;case 5:rg(e);var s=Qs(ul.current);if(r=e.type,t!==null&&e.stateNode!=null)ow(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return Tt(e),null}if(t=Qs(tn.current),oc(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Xr]=e,n[ll]=a,t=(e.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<Ro.length;s++)Ye(Ro[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":gy(n,a),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n);break;case"textarea":xy(n,a),Ye("invalid",n)}Sh(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ac(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ac(n.textContent,l,t),s=["children",""+l]):Jo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Jl(n),yy(n,a,!0);break;case"textarea":Jl(n),vy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=cu)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Xr]=e,t[ll]=n,aw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ch(r,n),r){case"dialog":Ye("cancel",t),Ye("close",t),s=n;break;case"iframe":case"object":case"embed":Ye("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ro.length;s++)Ye(Ro[s],t);s=n;break;case"source":Ye("error",t),s=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=n;break;case"details":Ye("toggle",t),s=n;break;case"input":gy(t,n),s=bh(t,n),Ye("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":xy(t,n),s=Nh(t,n),Ye("invalid",t);break;default:s=n}Sh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?D_(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M_(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xo(t,c):typeof c=="number"&&Xo(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ye("scroll",t):c!=null&&Ap(t,a,c,o))}switch(r){case"input":Jl(t),yy(t,n,!1);break;case"textarea":Jl(t),vy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+bs(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?aa(t,!!n.multiple,a,!1):n.defaultValue!=null&&aa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)lw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=Qs(ul.current),Qs(tn.current),oc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xr]=e,(a=n.nodeValue!==r)&&(t=ar,t!==null))switch(t.tag){case 3:ac(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xr]=e,e.stateNode=n}return Tt(e),null;case 13:if(Je(rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&ir!==null&&e.mode&1&&!(e.flags&128))Sb(),Ta(),e.flags|=98560,a=!1;else if(a=oc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Y(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Y(317));a[Xr]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),a=!1}else $r!==null&&(om($r),$r=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?_t===0&&(_t=3):pg())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return $a(),Xh(t,e),t===null&&al(e.stateNode.containerInfo),Tt(e),null;case 10:return Jp(e.type._context),Tt(e),null;case 17:return Jt(e.type)&&uu(),Tt(e),null;case 19:if(Je(rt),a=e.memoizedState,a===null)return Tt(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)xo(a,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yu(t),o!==null){for(e.flags|=128,xo(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ut()>Fa&&(e.flags|=128,n=!0,xo(a,!1),e.lanes=4194304)}else{if(!n)if(t=yu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xe)return Tt(e),null}else 2*ut()-a.renderingStartTime>Fa&&r!==1073741824&&(e.flags|=128,n=!0,xo(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),e):(Tt(e),null);case 22:case 23:return mg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sr&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function $2(t,e){switch(Qp(e),e.tag){case 1:return Jt(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Je(Gt),Je(Dt),ng(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rg(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return $a(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var uc=!1,Lt=!1,L2=typeof WeakSet=="function"?WeakSet:Set,ce=null;function na(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(t,e,n)}else r.current=null}function em(t,e,r){try{r()}catch(n){ot(t,e,n)}}var lx=!1;function F2(t,e){if(Mh=au,t=hb(),Hp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var v;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==a||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)h=d,d=v;for(;;){if(d===t)break t;if(h===r&&++u===s&&(l=o),h===a&&++f===n&&(c=o),(v=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ih={focusedElem:t,selectionRange:r},au=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,p=e.stateNode,x=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pr(e.type,y),_);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(b){ot(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=lx,lx=!1,g}function Vo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&em(e,r,a)}s=s.next}while(s!==n)}}function od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function tm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cw(t){var e=t.alternate;e!==null&&(t.alternate=null,cw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[ll],delete e[Uh],delete e[x2],delete e[v2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uw(t){return t.tag===5||t.tag===3||t.tag===4}function cx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cu));else if(n!==4&&(t=t.child,t!==null))for(rm(t,e,r),t=t.sibling;t!==null;)rm(t,e,r),t=t.sibling}function nm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nm(t,e,r),t=t.sibling;t!==null;)nm(t,e,r),t=t.sibling}var St=null,Tr=!1;function Tn(t,e,r){for(r=r.child;r!==null;)dw(t,e,r),r=r.sibling}function dw(t,e,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Xu,r)}catch{}switch(r.tag){case 5:Lt||na(r,e);case 6:var n=St,s=Tr;St=null,Tn(t,e,r),St=n,Tr=s,St!==null&&(Tr?(t=St,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(Tr?(t=St,r=r.stateNode,t.nodeType===8?of(t.parentNode,r):t.nodeType===1&&of(t,r),nl(t)):of(St,r.stateNode));break;case 4:n=St,s=Tr,St=r.stateNode.containerInfo,Tr=!0,Tn(t,e,r),St=n,Tr=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&em(r,e,o),s=s.next}while(s!==n)}Tn(t,e,r);break;case 1:if(!Lt&&(na(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,e,l)}Tn(t,e,r);break;case 21:Tn(t,e,r);break;case 22:r.mode&1?(Lt=(n=Lt)||r.memoizedState!==null,Tn(t,e,r),Lt=n):Tn(t,e,r);break;default:Tn(t,e,r)}}function ux(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new L2),e.forEach(function(n){var s=W2.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Sr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,Tr=!1;break e;case 3:St=l.stateNode.containerInfo,Tr=!0;break e;case 4:St=l.stateNode.containerInfo,Tr=!0;break e}l=l.return}if(St===null)throw Error(Y(160));dw(a,o,s),St=null,Tr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fw(e,t),e=e.sibling}function fw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),qr(t),n&4){try{Vo(3,t,t.return),od(3,t)}catch(y){ot(t,t.return,y)}try{Vo(5,t,t.return)}catch(y){ot(t,t.return,y)}}break;case 1:Sr(e,t),qr(t),n&512&&r!==null&&na(r,r.return);break;case 5:if(Sr(e,t),qr(t),n&512&&r!==null&&na(r,r.return),t.flags&32){var s=t.stateNode;try{Xo(s,"")}catch(y){ot(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&$_(s,a),Ch(l,o);var u=Ch(l,a);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?D_(s,d):f==="dangerouslySetInnerHTML"?M_(s,d):f==="children"?Xo(s,d):Ap(s,f,d,u)}switch(l){case"input":wh(s,a);break;case"textarea":L_(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?aa(s,!!a.multiple,v,!1):h!==!!a.multiple&&(a.defaultValue!=null?aa(s,!!a.multiple,a.defaultValue,!0):aa(s,!!a.multiple,a.multiple?[]:"",!1))}s[ll]=a}catch(y){ot(t,t.return,y)}}break;case 6:if(Sr(e,t),qr(t),n&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(y){ot(t,t.return,y)}}break;case 3:if(Sr(e,t),qr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(y){ot(t,t.return,y)}break;case 4:Sr(e,t),qr(t);break;case 13:Sr(e,t),qr(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(fg=ut())),n&4&&ux(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||f,Sr(e,t),Lt=u):Sr(e,t),qr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(d=ce=f;ce!==null;){switch(h=ce,v=h.child,h.tag){case 0:case 11:case 14:case 15:Vo(4,h,h.return);break;case 1:na(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ot(n,r,y)}}break;case 5:na(h,h.return);break;case 22:if(h.memoizedState!==null){fx(d);continue}}v!==null?(v.return=h,ce=v):fx(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I_("display",o))}catch(y){ot(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ot(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sr(e,t),qr(t),n&4&&ux(t);break;case 21:break;default:Sr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(uw(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xo(s,""),n.flags&=-33);var a=cx(t);nm(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=cx(t);rm(t,l,o);break;default:throw Error(Y(161))}}catch(c){ot(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M2(t,e,r){ce=t,hw(t)}function hw(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var s=ce,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||uc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Lt;l=uc;var u=Lt;if(uc=o,(Lt=c)&&!u)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?hx(s):c!==null?(c.return=o,ce=c):hx(s);for(;a!==null;)ce=a,hw(a),a=a.sibling;ce=s,uc=l,Lt=u}dx(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ce=a):dx(t)}}function dx(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||od(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Lt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Pr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Ky(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ky(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&nl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Lt||e.flags&512&&tm(e)}catch(h){ot(e,e.return,h)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function fx(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function hx(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{od(4,e)}catch(c){ot(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ot(e,s,c)}}var a=e.return;try{tm(e)}catch(c){ot(e,a,c)}break;case 5:var o=e.return;try{tm(e)}catch(c){ot(e,o,c)}}}catch(c){ot(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var I2=Math.ceil,_u=En.ReactCurrentDispatcher,ug=En.ReactCurrentOwner,_r=En.ReactCurrentBatchConfig,Me=0,Nt=null,gt=null,Ct=0,sr=0,sa=Es(0),_t=0,ml=null,yi=0,ld=0,dg=0,Wo=null,Kt=null,fg=0,Fa=1/0,un=null,bu=!1,sm=null,fs=null,dc=!1,ns=null,wu=0,Ho=0,im=null,Tc=-1,Ac=0;function qt(){return Me&6?ut():Tc!==-1?Tc:Tc=ut()}function hs(t){return t.mode&1?Me&2&&Ct!==0?Ct&-Ct:b2.transition!==null?(Ac===0&&(Ac=G_()),Ac):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:sb(t.type)),t):1}function Fr(t,e,r,n){if(50<Ho)throw Ho=0,im=null,Error(Y(185));Ml(t,r,n),(!(Me&2)||t!==Nt)&&(t===Nt&&(!(Me&2)&&(ld|=r),_t===4&&Vn(t,Ct)),Xt(t,n),r===1&&Me===0&&!(e.mode&1)&&(Fa=ut()+500,sd&&Ps()))}function Xt(t,e){var r=t.callbackNode;bk(t,e);var n=iu(t,t===Nt?Ct:0);if(n===0)r!==null&&wy(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wy(r),e===1)t.tag===0?_2(mx.bind(null,t)):jb(mx.bind(null,t)),g2(function(){!(Me&6)&&Ps()}),r=null;else{switch(J_(n)){case 1:r=Ip;break;case 4:r=K_;break;case 16:r=su;break;case 536870912:r=Y_;break;default:r=su}r=bw(r,mw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function mw(t,e){if(Tc=-1,Ac=0,Me&6)throw Error(Y(327));var r=t.callbackNode;if(da()&&t.callbackNode!==r)return null;var n=iu(t,t===Nt?Ct:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ju(t,n);else{e=n;var s=Me;Me|=2;var a=gw();(Nt!==t||Ct!==e)&&(un=null,Fa=ut()+500,li(t,e));do try{U2();break}catch(l){pw(t,l)}while(!0);Gp(),_u.current=a,Me=s,gt!==null?e=0:(Nt=null,Ct=0,e=_t)}if(e!==0){if(e===2&&(s=Th(t),s!==0&&(n=s,e=am(t,s))),e===1)throw r=ml,li(t,0),Vn(t,n),Xt(t,ut()),r;if(e===6)Vn(t,n);else{if(s=t.current.alternate,!(n&30)&&!D2(s)&&(e=ju(t,n),e===2&&(a=Th(t),a!==0&&(n=a,e=am(t,a))),e===1))throw r=ml,li(t,0),Vn(t,n),Xt(t,ut()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:Us(t,Kt,un);break;case 3:if(Vn(t,n),(n&130023424)===n&&(e=fg+500-ut(),10<e)){if(iu(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bh(Us.bind(null,t,Kt,un),e);break}Us(t,Kt,un);break;case 4:if(Vn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Lr(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I2(n/1960))-n,10<n){t.timeoutHandle=Bh(Us.bind(null,t,Kt,un),n);break}Us(t,Kt,un);break;case 5:Us(t,Kt,un);break;default:throw Error(Y(329))}}}return Xt(t,ut()),t.callbackNode===r?mw.bind(null,t):null}function am(t,e){var r=Wo;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=ju(t,e),t!==2&&(e=Kt,Kt=r,e!==null&&om(e)),t}function om(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function D2(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Ir(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vn(t,e){for(e&=~dg,e&=~ld,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Lr(e),n=1<<r;t[r]=-1,e&=~n}}function mx(t){if(Me&6)throw Error(Y(327));da();var e=iu(t,0);if(!(e&1))return Xt(t,ut()),null;var r=ju(t,e);if(t.tag!==0&&r===2){var n=Th(t);n!==0&&(e=n,r=am(t,n))}if(r===1)throw r=ml,li(t,0),Vn(t,e),Xt(t,ut()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,Kt,un),Xt(t,ut()),null}function hg(t,e){var r=Me;Me|=1;try{return t(e)}finally{Me=r,Me===0&&(Fa=ut()+500,sd&&Ps())}}function xi(t){ns!==null&&ns.tag===0&&!(Me&6)&&da();var e=Me;Me|=1;var r=_r.transition,n=Qe;try{if(_r.transition=null,Qe=1,t)return t()}finally{Qe=n,_r.transition=r,Me=e,!(Me&6)&&Ps()}}function mg(){sr=sa.current,Je(sa)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,p2(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(Qp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&uu();break;case 3:$a(),Je(Gt),Je(Dt),ng();break;case 5:rg(n);break;case 4:$a();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Jp(n.type._context);break;case 22:case 23:mg()}r=r.return}if(Nt=t,gt=t=ms(t.current,null),Ct=sr=e,_t=0,ml=null,dg=ld=yi=0,Kt=Wo=null,Zs!==null){for(e=0;e<Zs.length;e++)if(r=Zs[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Zs=null}return t}function pw(t,e){do{var r=gt;try{if(Gp(),Pc.current=vu,xu){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xu=!1}if(gi=0,wt=vt=nt=null,qo=!1,dl=0,ug.current=null,r===null||r.return===null){_t=1,ml=e,gt=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=tx(o);if(v!==null){v.flags&=-257,rx(v,o,l,a,e),v.mode&1&&ex(a,u,e),e=v,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){ex(a,u,e),pg();break e}c=Error(Y(426))}}else if(Xe&&l.mode&1){var _=tx(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),rx(_,o,l,a,e),Kp(La(c,l));break e}}a=c=La(c,l),_t!==4&&(_t=2),Wo===null?Wo=[a]:Wo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=Jb(a,c,e);Qy(a,p);break e;case 1:l=c;var x=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=Xb(a,l,e);Qy(a,b);break e}}a=a.return}while(a!==null)}xw(r)}catch(S){e=S,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function gw(){var t=_u.current;return _u.current=vu,t===null?vu:t}function pg(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(yi&268435455)&&!(ld&268435455)||Vn(Nt,Ct)}function ju(t,e){var r=Me;Me|=2;var n=gw();(Nt!==t||Ct!==e)&&(un=null,li(t,e));do try{B2();break}catch(s){pw(t,s)}while(!0);if(Gp(),Me=r,_u.current=n,gt!==null)throw Error(Y(261));return Nt=null,Ct=0,_t}function B2(){for(;gt!==null;)yw(gt)}function U2(){for(;gt!==null&&!fk();)yw(gt)}function yw(t){var e=_w(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?xw(t):gt=e,ug.current=null}function xw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$2(r,e),r!==null){r.flags&=32767,gt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,gt=null;return}}else if(r=A2(r,e,sr),r!==null){gt=r;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);_t===0&&(_t=5)}function Us(t,e,r){var n=Qe,s=_r.transition;try{_r.transition=null,Qe=1,z2(t,e,r,n)}finally{_r.transition=s,Qe=n}return null}function z2(t,e,r,n){do da();while(ns!==null);if(Me&6)throw Error(Y(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(wk(t,a),t===Nt&&(gt=Nt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dc||(dc=!0,bw(su,function(){return da(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=_r.transition,_r.transition=null;var o=Qe;Qe=1;var l=Me;Me|=4,ug.current=null,F2(t,r),fw(r,t),l2(Ih),au=!!Mh,Ih=Mh=null,t.current=r,M2(r),hk(),Me=l,Qe=o,_r.transition=a}else t.current=r;if(dc&&(dc=!1,ns=t,wu=s),a=t.pendingLanes,a===0&&(fs=null),gk(r.stateNode),Xt(t,ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(bu)throw bu=!1,t=sm,sm=null,t;return wu&1&&t.tag!==0&&da(),a=t.pendingLanes,a&1?t===im?Ho++:(Ho=0,im=t):Ho=0,Ps(),null}function da(){if(ns!==null){var t=J_(wu),e=_r.transition,r=Qe;try{if(_r.transition=null,Qe=16>t?16:t,ns===null)var n=!1;else{if(t=ns,ns=null,wu=0,Me&6)throw Error(Y(331));var s=Me;for(Me|=4,ce=t.current;ce!==null;){var a=ce,o=a.child;if(ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Vo(8,f,a)}var d=f.child;if(d!==null)d.return=f,ce=d;else for(;ce!==null;){f=ce;var h=f.sibling,v=f.return;if(cw(f),f===u){ce=null;break}if(h!==null){h.return=v,ce=h;break}ce=v}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ce=o;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vo(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,ce=p;break e}ce=a.return}}var x=t.current;for(ce=x;ce!==null;){o=ce;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,ce=m;else e:for(o=x;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:od(9,l)}}catch(S){ot(l,l.return,S)}if(l===o){ce=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ce=b;break e}ce=l.return}}if(Me=s,Ps(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Xu,t)}catch{}n=!0}return n}finally{Qe=r,_r.transition=e}}return!1}function px(t,e,r){e=La(r,e),e=Jb(t,e,1),t=ds(t,e,1),e=qt(),t!==null&&(Ml(t,1,e),Xt(t,e))}function ot(t,e,r){if(t.tag===3)px(t,t,r);else for(;e!==null;){if(e.tag===3){px(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fs===null||!fs.has(n))){t=La(r,t),t=Xb(e,t,1),e=ds(e,t,1),t=qt(),e!==null&&(Ml(e,1,t),Xt(e,t));break}}e=e.return}}function q2(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&r,Nt===t&&(Ct&r)===r&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>ut()-fg?li(t,0):dg|=r),Xt(t,e)}function vw(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var r=qt();t=Nn(t,e),t!==null&&(Ml(t,e,r),Xt(t,r))}function V2(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),vw(t,r)}function W2(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),vw(t,r)}var _w;_w=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)Yt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yt=!1,T2(t,e,r);Yt=!!(t.flags&131072)}else Yt=!1,Xe&&e.flags&1048576&&Nb(e,hu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rc(t,e),t=e.pendingProps;var s=Ra(e,Dt.current);ua(e,r),s=ig(null,e,n,t,s,r);var a=ag();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(n)?(a=!0,du(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eg(e),s.updater=ad,e.stateNode=s,s._reactInternals=e,Zh(e,n,t,r),e=Yh(null,e,n,!0,a,r)):(e.tag=0,Xe&&a&&Zp(e),zt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Z2(n),t=Pr(n,t),s){case 0:e=Kh(null,e,n,t,r);break e;case 1:e=ix(null,e,n,t,r);break e;case 11:e=nx(null,e,n,t,r);break e;case 14:e=sx(null,e,n,Pr(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Pr(n,s),Kh(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Pr(n,s),ix(t,e,n,s,r);case 3:e:{if(nw(e),t===null)throw Error(Y(387));n=e.pendingProps,a=e.memoizedState,s=a.element,Ob(t,e),gu(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=La(Error(Y(423)),e),e=ax(t,e,n,r,s);break e}else if(n!==s){s=La(Error(Y(424)),e),e=ax(t,e,n,r,s);break e}else for(ir=us(e.stateNode.containerInfo.firstChild),ar=e,Xe=!0,$r=null,r=Eb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ta(),n===s){e=kn(t,e,r);break e}zt(t,e,n,r)}e=e.child}return e;case 5:return Rb(e),t===null&&Vh(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,Dh(n,s)?o=null:a!==null&&Dh(n,a)&&(e.flags|=32),rw(t,e),zt(t,e,o,r),e.child;case 6:return t===null&&Vh(e),null;case 13:return sw(t,e,r);case 4:return tg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Aa(e,null,n,r):zt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Pr(n,s),nx(t,e,n,s,r);case 7:return zt(t,e,e.pendingProps,r),e.child;case 8:return zt(t,e,e.pendingProps.children,r),e.child;case 12:return zt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Ke(mu,n._currentValue),n._currentValue=o,a!==null)if(Ir(a.value,o)){if(a.children===s.children&&!Gt.current){e=kn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=_n(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Wh(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Y(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Wh(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}zt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ua(e,r),s=br(s),n=n(s),e.flags|=1,zt(t,e,n,r),e.child;case 14:return n=e.type,s=Pr(n,e.pendingProps),s=Pr(n.type,s),sx(t,e,n,s,r);case 15:return ew(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Pr(n,s),Rc(t,e),e.tag=1,Jt(n)?(t=!0,du(e)):t=!1,ua(e,r),Gb(e,n,s),Zh(e,n,s,r),Yh(null,e,n,!0,t,r);case 19:return iw(t,e,r);case 22:return tw(t,e,r)}throw Error(Y(156,e.tag))};function bw(t,e){return Q_(t,e)}function H2(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,r,n){return new H2(t,e,r,n)}function gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z2(t){if(typeof t=="function")return gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lp)return 11;if(t===Fp)return 14}return 2}function ms(t,e){var r=t.alternate;return r===null?(r=vr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $c(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")gg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qi:return ci(r.children,s,a,e);case $p:o=8,s|=8;break;case yh:return t=vr(12,r,e,s|2),t.elementType=yh,t.lanes=a,t;case xh:return t=vr(13,r,e,s),t.elementType=xh,t.lanes=a,t;case vh:return t=vr(19,r,e,s),t.elementType=vh,t.lanes=a,t;case R_:return cd(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P_:o=10;break e;case O_:o=9;break e;case Lp:o=11;break e;case Fp:o=14;break e;case Dn:o=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=vr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function ci(t,e,r,n){return t=vr(7,t,n,e),t.lanes=r,t}function cd(t,e,r,n){return t=vr(22,t,n,e),t.elementType=R_,t.lanes=r,t.stateNode={isHidden:!1},t}function pf(t,e,r){return t=vr(6,t,null,e),t.lanes=r,t}function gf(t,e,r){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q2(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yg(t,e,r,n,s,a,o,l,c){return t=new Q2(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=vr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(a),t}function K2(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ww(t){if(!t)return ws;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(Jt(r))return wb(t,r,e)}return e}function jw(t,e,r,n,s,a,o,l,c){return t=yg(r,n,!0,t,s,a,o,l,c),t.context=ww(null),r=t.current,n=qt(),s=hs(r),a=_n(n,s),a.callback=e??null,ds(r,a,s),t.current.lanes=s,Ml(t,s,n),Xt(t,n),t}function ud(t,e,r,n){var s=e.current,a=qt(),o=hs(s);return r=ww(r),e.context===null?e.context=r:e.pendingContext=r,e=_n(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ds(s,e,o),t!==null&&(Fr(t,s,o,a),Ec(t,s,o)),o}function Nu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xg(t,e){gx(t,e),(t=t.alternate)&&gx(t,e)}function Y2(){return null}var Nw=typeof reportError=="function"?reportError:function(t){console.error(t)};function vg(t){this._internalRoot=t}dd.prototype.render=vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));ud(t,e,null,null)};dd.prototype.unmount=vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){ud(null,t,null,null)}),e[jn]=null}};function dd(t){this._internalRoot=t}dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=tb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qn.length&&e!==0&&e<qn[r].priority;r++);qn.splice(r,0,t),r===0&&nb(t)}};function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yx(){}function G2(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Nu(o);a.call(u)}}var o=jw(e,n,t,0,null,!1,!1,"",yx);return t._reactRootContainer=o,t[jn]=o.current,al(t.nodeType===8?t.parentNode:t),xi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Nu(c);l.call(u)}}var c=yg(t,0,!1,null,null,!1,!1,"",yx);return t._reactRootContainer=c,t[jn]=c.current,al(t.nodeType===8?t.parentNode:t),xi(function(){ud(e,c,r,n)}),c}function hd(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Nu(o);l.call(c)}}ud(e,o,t,s)}else o=G2(r,e,t,s,n);return Nu(o)}X_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Oo(e.pendingLanes);r!==0&&(Dp(e,r|1),Xt(e,ut()),!(Me&6)&&(Fa=ut()+500,Ps()))}break;case 13:xi(function(){var n=Nn(t,1);if(n!==null){var s=qt();Fr(n,t,1,s)}}),xg(t,1)}};Bp=function(t){if(t.tag===13){var e=Nn(t,134217728);if(e!==null){var r=qt();Fr(e,t,134217728,r)}xg(t,134217728)}};eb=function(t){if(t.tag===13){var e=hs(t),r=Nn(t,e);if(r!==null){var n=qt();Fr(r,t,e,n)}xg(t,e)}};tb=function(){return Qe};rb=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};Ph=function(t,e,r){switch(e){case"input":if(wh(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=nd(n);if(!s)throw Error(Y(90));A_(n),wh(n,s)}}}break;case"textarea":L_(t,r);break;case"select":e=r.value,e!=null&&aa(t,!!r.multiple,e,!1)}};z_=hg;q_=xi;var J2={usingClientEntryPoint:!1,Events:[Dl,Ji,nd,B_,U_,hg]},vo={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X2={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=H_(t),t===null?null:t.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||Y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Xu=fc.inject(X2),en=fc}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2;cr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_g(e))throw Error(Y(200));return K2(t,e,null,r)};cr.createRoot=function(t,e){if(!_g(t))throw Error(Y(299));var r=!1,n="",s=Nw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yg(t,1,!1,null,null,r,!1,n,s),t[jn]=e.current,al(t.nodeType===8?t.parentNode:t),new vg(e)};cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=H_(e),t=t===null?null:t.stateNode,t};cr.flushSync=function(t){return xi(t)};cr.hydrate=function(t,e,r){if(!fd(e))throw Error(Y(200));return hd(null,t,e,!0,r)};cr.hydrateRoot=function(t,e,r){if(!_g(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Nw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=jw(e,null,t,1,r??null,s,!1,a,o),t[jn]=e.current,al(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new dd(e)};cr.render=function(t,e,r){if(!fd(e))throw Error(Y(200));return hd(null,t,e,!1,r)};cr.unmountComponentAtNode=function(t){if(!fd(t))throw Error(Y(40));return t._reactRootContainer?(xi(function(){hd(null,null,t,!1,function(){t._reactRootContainer=null,t[jn]=null})}),!0):!1};cr.unstable_batchedUpdates=hg;cr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fd(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return hd(t,e,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function kw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kw)}catch(t){console.error(t)}}kw(),k_.exports=cr;var eS=k_.exports,Sw,xx=eS;Sw=xx.createRoot,xx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pl.apply(this,arguments)}var ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ss||(ss={}));const vx="popstate";function tS(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return lm("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ku(s)}return nS(e,r,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substr(2,8)}function _x(t,e){return{usr:t.state,key:t.key,idx:e}}function lm(t,e,r,n){return r===void 0&&(r=null),pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:r,key:e&&e.key||n||rS()})}function ku(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ro(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function nS(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=ss.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(pl({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=ss.Pop;let _=f(),p=_==null?null:_-u;u=_,c&&c({action:l,location:y.location,delta:p})}function h(_,p){l=ss.Push;let x=lm(y.location,_,p);u=f()+1;let m=_x(x,u),b=y.createHref(x);try{o.pushState(m,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}a&&c&&c({action:l,location:y.location,delta:1})}function v(_,p){l=ss.Replace;let x=lm(y.location,_,p);u=f();let m=_x(x,u),b=y.createHref(x);o.replaceState(m,"",b),a&&c&&c({action:l,location:y.location,delta:0})}function g(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof _=="string"?_:ku(_);return x=x.replace(/ $/,"%20"),dt(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let y={get action(){return l},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(vx,d),c=_,()=>{s.removeEventListener(vx,d),c=null}},createHref(_){return e(s,_)},createURL:g,encodeLocation(_){let p=g(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:v,go(_){return o.go(_)}};return y}var bx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bx||(bx={}));function sS(t,e,r){return r===void 0&&(r="/"),iS(t,e,r)}function iS(t,e,r,n){let s=typeof e=="string"?ro(e):e,a=bg(s.pathname||"/",r);if(a==null)return null;let o=Ew(t);aS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=xS(a);l=pS(o[c],u)}return l}function Ew(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ps([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ew(a.children,e,f,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:hS(u,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Pw(a.path))s(a,o,c)}),e}function Pw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Pw(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function aS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mS(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oS=/^:[\w-]+$/,lS=3,cS=2,uS=1,dS=10,fS=-2,wx=t=>t==="*";function hS(t,e){let r=t.split("/"),n=r.length;return r.some(wx)&&(n+=fS),e&&(n+=cS),r.filter(s=>!wx(s)).reduce((s,a)=>s+(oS.test(a)?lS:a===""?uS:dS),n)}function mS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function pS(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",d=gS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ps([a,d.pathname]),pathnameBase:wS(ps([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=ps([a,d.pathnameBase]))}return o}function gS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=yS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:v}=f;if(h==="*"){let y=l[d]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[d];return v&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function yS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Cw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function xS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function vS(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ro(t):t;return{pathname:r?r.startsWith("/")?r:_S(r,e):e,search:jS(n),hash:NS(s)}}function _S(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wg(t,e){let r=bS(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jg(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ro(t):(s=pl({},t),dt(!s.pathname||!s.pathname.includes("?"),yf("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),yf("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),yf("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=vS(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ps=t=>t.join("/").replace(/\/\/+/g,"/"),wS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ow=["post","put","patch","delete"];new Set(Ow);const SS=["get",...Ow];new Set(SS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(this,arguments)}const Ng=w.createContext(null),CS=w.createContext(null),Os=w.createContext(null),md=w.createContext(null),Pn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Rw=w.createContext(null);function ES(t,e){let{relative:r}=e===void 0?{}:e;no()||dt(!1);let{basename:n,navigator:s}=w.useContext(Os),{hash:a,pathname:o,search:l}=Aw(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ps([n,o])),s.createHref({pathname:c,search:l,hash:a})}function no(){return w.useContext(md)!=null}function Br(){return no()||dt(!1),w.useContext(md).location}function Tw(t){w.useContext(Os).static||w.useLayoutEffect(t)}function et(){let{isDataRoute:t}=w.useContext(Pn);return t?US():PS()}function PS(){no()||dt(!1);let t=w.useContext(Ng),{basename:e,future:r,navigator:n}=w.useContext(Os),{matches:s}=w.useContext(Pn),{pathname:a}=Br(),o=JSON.stringify(wg(s,r.v7_relativeSplatPath)),l=w.useRef(!1);return Tw(()=>{l.current=!0}),w.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=jg(u,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ps([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,o,a,t])}function an(){let{matches:t}=w.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function Aw(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Os),{matches:s}=w.useContext(Pn),{pathname:a}=Br(),o=JSON.stringify(wg(s,n.v7_relativeSplatPath));return w.useMemo(()=>jg(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function OS(t,e){return RS(t,e)}function RS(t,e,r,n){no()||dt(!1);let{navigator:s}=w.useContext(Os),{matches:a}=w.useContext(Pn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Br(),f;if(e){var d;let _=typeof e=="string"?ro(e):e;c==="/"||(d=_.pathname)!=null&&d.startsWith(c)||dt(!1),f=_}else f=u;let h=f.pathname||"/",v=h;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=sS(t,{pathname:v}),y=FS(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ps([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ps([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return e&&y?w.createElement(md.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ss.Pop}},y):y}function TS(){let t=BS(),e=kS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:s},r):null,null)}const AS=w.createElement(TS,null);class $S extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Pn.Provider,{value:this.props.routeContext},w.createElement(Rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LS(t){let{routeContext:e,match:r,children:n}=t,s=w.useContext(Ng);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Pn.Provider,{value:e},n)}function FS(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||dt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:v}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let v,g=!1,y=null,_=null;r&&(v=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||AS,c&&(u<0&&h===0?(zS("route-fallback"),g=!0,_=null):u===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),x=()=>{let m;return v?m=y:g?m=_:d.route.Component?m=w.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=f,w.createElement(LS,{match:d,routeContext:{outlet:f,matches:p,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement($S,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var $w=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($w||{}),Lw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lw||{});function MS(t){let e=w.useContext(Ng);return e||dt(!1),e}function IS(t){let e=w.useContext(CS);return e||dt(!1),e}function DS(t){let e=w.useContext(Pn);return e||dt(!1),e}function Fw(t){let e=DS(),r=e.matches[e.matches.length-1];return r.route.id||dt(!1),r.route.id}function BS(){var t;let e=w.useContext(Rw),r=IS(),n=Fw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function US(){let{router:t}=MS($w.UseNavigateStable),e=Fw(Lw.UseNavigateStable),r=w.useRef(!1);return Tw(()=>{r.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gl({fromRouteId:e},a)))},[t,e])}const jx={};function zS(t,e,r){jx[t]||(jx[t]=!0)}function qS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function VS(t){let{to:e,replace:r,state:n,relative:s}=t;no()||dt(!1);let{future:a,static:o}=w.useContext(Os),{matches:l}=w.useContext(Pn),{pathname:c}=Br(),u=et(),f=jg(e,wg(l,a.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return w.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function We(t){dt(!1)}function WS(t){let{basename:e="/",children:r=null,location:n,navigationType:s=ss.Pop,navigator:a,static:o=!1,future:l}=t;no()&&dt(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:gl({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ro(n));let{pathname:f="/",search:d="",hash:h="",state:v=null,key:g="default"}=n,y=w.useMemo(()=>{let _=bg(f,c);return _==null?null:{location:{pathname:_,search:d,hash:h,state:v,key:g},navigationType:s}},[c,f,d,h,v,g,s]);return y==null?null:w.createElement(Os.Provider,{value:u},w.createElement(md.Provider,{children:r,value:y}))}function HS(t){let{children:e,location:r}=t;return OS(cm(e),r)}new Promise(()=>{});function cm(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,s)=>{if(!w.isValidElement(n))return;let a=[...e,s];if(n.type===w.Fragment){r.push.apply(r,cm(n.props.children,a));return}n.type!==We&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cm(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}function ZS(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function QS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KS(t,e){return t.button===0&&(!e||e==="_self")&&!QS(t)}function dm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function YS(t,e){let r=dm(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const GS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JS="6";try{window.__reactRouterVersion=JS}catch{}const XS="startTransition",Nx=ph[XS];function eC(t){let{basename:e,children:r,future:n,window:s}=t,a=w.useRef();a.current==null&&(a.current=tS({window:s,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=w.useCallback(d=>{u&&Nx?Nx(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>qS(n),[n]),w.createElement(WS,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const tC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=w.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=e,h=ZS(e,GS),{basename:v}=w.useContext(Os),g,y=!1;if(typeof u=="string"&&rC.test(u)&&(g=u,tC))try{let m=new URL(window.location.href),b=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=bg(b.pathname,v);b.origin===m.origin&&S!=null?u=S+b.search+b.hash:y=!0}catch{}let _=ES(u,{relative:s}),p=nC(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function x(m){n&&n(m),m.defaultPrevented||p(m)}return w.createElement("a",um({},h,{href:g||_,onClick:y||a?n:x,ref:r,target:c}))});var kx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kx||(kx={}));var Sx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sx||(Sx={}));function nC(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=et(),u=Br(),f=Aw(t,{relative:o});return w.useCallback(d=>{if(KS(d,r)){d.preventDefault();let h=n!==void 0?n:ku(u)===ku(f);c(t,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,f,n,s,r,t,a,o,l])}function Mw(t){let e=w.useRef(dm(t)),r=w.useRef(!1),n=Br(),s=w.useMemo(()=>YS(n.search,r.current?null:e.current),[n.search]),a=et(),o=w.useCallback((l,c)=>{const u=dm(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vi=typeof window>"u"||"Deno"in globalThis;function $t(){}function sC(t,e){return typeof t=="function"?t(e):t}function fm(t){return typeof t=="number"&&t>=0&&t!==1/0}function Iw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gs(t,e){return typeof t=="function"?t(e):t}function pr(t,e){return typeof t=="function"?t(e):t}function Cx(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==kg(o,e.options))return!1}else if(!yl(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function Ex(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(_i(e.options.mutationKey)!==_i(a))return!1}else if(!yl(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function kg(t,e){return((e==null?void 0:e.queryKeyHashFn)||_i)(t)}function _i(t){return JSON.stringify(t,(e,r)=>hm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function yl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>yl(t[r],e[r])):!1}function Sg(t,e){if(t===e)return t;const r=Px(t)&&Px(e);if(r||hm(t)&&hm(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const d=r?f:a[f];(!r&&c.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,u++):(l[d]=Sg(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function Su(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Px(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hm(t){if(!Ox(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ox(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function iC(t){return new Promise(e=>{setTimeout(e,t)})}function mm(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Sg(t,e):e}function aC(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function oC(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Cg=Symbol();function Dw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Bw(t,e){return typeof t=="function"?t(...e):!!t}var Js,Wn,pa,n_,lC=(n_=class extends Ti{constructor(){super();ue(this,Js);ue(this,Wn);ue(this,pa);ee(this,pa,e=>{if(!vi&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,Wn)||this.setEventListener(O(this,pa))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Wn))==null||e.call(this),ee(this,Wn,void 0))}setEventListener(e){var r;ee(this,pa,e),(r=O(this,Wn))==null||r.call(this),ee(this,Wn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){O(this,Js)!==e&&(ee(this,Js,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof O(this,Js)=="boolean"?O(this,Js):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Js=new WeakMap,Wn=new WeakMap,pa=new WeakMap,n_),Eg=new lC,ga,Hn,ya,s_,cC=(s_=class extends Ti{constructor(){super();ue(this,ga,!0);ue(this,Hn);ue(this,ya);ee(this,ya,e=>{if(!vi&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Hn)||this.setEventListener(O(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Hn))==null||e.call(this),ee(this,Hn,void 0))}setEventListener(e){var r;ee(this,ya,e),(r=O(this,Hn))==null||r.call(this),ee(this,Hn,e(this.setOnline.bind(this)))}setOnline(e){O(this,ga)!==e&&(ee(this,ga,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return O(this,ga)}},ga=new WeakMap,Hn=new WeakMap,ya=new WeakMap,s_),Cu=new cC;function pm(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function uC(t){return Math.min(1e3*2**t,3e4)}function Uw(t){return(t??"online")==="online"?Cu.isOnline():!0}var zw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xf(t){return t instanceof zw}function qw(t){let e=!1,r=0,n=!1,s;const a=pm(),o=y=>{var _;n||(h(new zw(y)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Eg.isFocused()&&(t.networkMode==="always"||Cu.isOnline())&&t.canRun(),f=()=>Uw(t.networkMode)&&t.canRun(),d=y=>{var _;n||(n=!0,(_=t.onSuccess)==null||_.call(t,y),s==null||s(),a.resolve(y))},h=y=>{var _;n||(n=!0,(_=t.onError)==null||_.call(t,y),s==null||s(),a.reject(y))},v=()=>new Promise(y=>{var _;s=p=>{(n||u())&&y(p)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;s=void 0,n||(y=t.onContinue)==null||y.call(t)}),g=()=>{if(n)return;let y;const _=r===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(d).catch(p=>{var T;if(n)return;const x=t.retry??(vi?0:3),m=t.retryDelay??uC,b=typeof m=="function"?m(r,p):m,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,p);if(e||!S){h(p);return}r++,(T=t.onFail)==null||T.call(t,r,p),iC(b).then(()=>u()?void 0:v()).then(()=>{e?h(p):g()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():v().then(g),a)}}var dC=t=>setTimeout(t,0);function fC(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=dC;const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var lt=fC(),Xs,i_,Vw=(i_=class{constructor(){ue(this,Xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fm(this.gcTime)&&ee(this,Xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Xs)&&(clearTimeout(O(this,Xs)),ee(this,Xs,void 0))}},Xs=new WeakMap,i_),xa,ei,fr,ti,At,Pl,ri,Or,cn,a_,hC=(a_=class extends Vw{constructor(e){super();ue(this,Or);ue(this,xa);ue(this,ei);ue(this,fr);ue(this,ti);ue(this,At);ue(this,Pl);ue(this,ri);ee(this,ri,!1),ee(this,Pl,e.defaultOptions),this.setOptions(e.options),this.observers=[],ee(this,ti,e.client),ee(this,fr,O(this,ti).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ee(this,xa,mC(this.options)),this.state=e.state??O(this,xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,At))==null?void 0:e.promise}setOptions(e){this.options={...O(this,Pl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,fr).remove(this)}setData(e,r){const n=mm(this.state.data,e,this.options);return ye(this,Or,cn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ye(this,Or,cn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=O(this,At))==null?void 0:n.promise;return(s=O(this,At))==null||s.cancel(e),r?r.then($t).catch($t):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,xa))}isActive(){return this.observers.some(e=>pr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Iw(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=O(this,At))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=O(this,At))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,fr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(O(this,At)&&(O(this,ri)?O(this,At).cancel({revert:!0}):O(this,At).cancelRetry()),this.scheduleGc()),O(this,fr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,Or,cn).call(this,{type:"invalidate"})}fetch(e,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,At))return O(this,At).continueRetry(),O(this,At).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(v=>v.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ee(this,ri,!0),n.signal)})},a=()=>{const h=Dw(this.options,r),g=(()=>{const y={client:O(this,ti),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return ee(this,ri,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,ti),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ee(this,ei,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ye(this,Or,cn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var v,g,y,_;xf(h)&&h.silent||ye(this,Or,cn).call(this,{type:"error",error:h}),xf(h)||((g=(v=O(this,fr).config).onError)==null||g.call(v,h,this),(_=(y=O(this,fr).config).onSettled)==null||_.call(y,this.state.data,h,this)),this.scheduleGc()};return ee(this,At,qw({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var v,g,y,_;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(p){c(p);return}(g=(v=O(this,fr).config).onSuccess)==null||g.call(v,h,this),(_=(y=O(this,fr).config).onSettled)==null||_.call(y,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,v)=>{ye(this,Or,cn).call(this,{type:"failed",failureCount:h,error:v})},onPause:()=>{ye(this,Or,cn).call(this,{type:"pause"})},onContinue:()=>{ye(this,Or,cn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),O(this,At).start()}},xa=new WeakMap,ei=new WeakMap,fr=new WeakMap,ti=new WeakMap,At=new WeakMap,Pl=new WeakMap,ri=new WeakMap,Or=new WeakSet,cn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ww(n.data,this.options),fetchMeta:e.meta??null};case"success":return ee(this,ei,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return xf(s)&&s.revert&&O(this,ei)?{...O(this,ei),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,fr).notify({query:this,type:"updated",action:e})})},a_);function Ww(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qr,o_,pC=(o_=class extends Ti{constructor(e={}){super();ue(this,Qr);this.config=e,ee(this,Qr,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??kg(s,r);let o=this.get(a);return o||(o=new hC({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,Qr).has(e.queryHash)||(O(this,Qr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=O(this,Qr).get(e.queryHash);r&&(e.destroy(),r===e&&O(this,Qr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Qr).get(e)}getAll(){return[...O(this,Qr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Cx(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Cx(e,n)):r}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qr=new WeakMap,o_),Kr,Bt,ni,Yr,Mn,l_,gC=(l_=class extends Vw{constructor(e){super();ue(this,Yr);ue(this,Kr);ue(this,Bt);ue(this,ni);this.mutationId=e.mutationId,ee(this,Bt,e.mutationCache),ee(this,Kr,[]),this.state=e.state||Hw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,Kr).includes(e)||(O(this,Kr).push(e),this.clearGcTimeout(),O(this,Bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ee(this,Kr,O(this,Kr).filter(r=>r!==e)),this.scheduleGc(),O(this,Bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,Kr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Bt).remove(this))}continue(){var e;return((e=O(this,ni))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,u,f,d,h,v,g,y,_,p,x,m,b,S,T,P,A;const r=()=>{ye(this,Yr,Mn).call(this,{type:"continue"})};ee(this,ni,qw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,U)=>{ye(this,Yr,Mn).call(this,{type:"failed",failureCount:F,error:U})},onPause:()=>{ye(this,Yr,Mn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Bt).canRun(this)}));const n=this.state.status==="pending",s=!O(this,ni).canStart();try{if(n)r();else{ye(this,Yr,Mn).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=O(this,Bt).config).onMutate)==null?void 0:o.call(a,e,this));const U=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));U!==this.state.context&&ye(this,Yr,Mn).call(this,{type:"pending",context:U,variables:e,isPaused:s})}const F=await O(this,ni).start();return await((f=(u=O(this,Bt).config).onSuccess)==null?void 0:f.call(u,F,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,F,e,this.state.context)),await((g=(v=O(this,Bt).config).onSettled)==null?void 0:g.call(v,F,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,F,null,e,this.state.context)),ye(this,Yr,Mn).call(this,{type:"success",data:F}),F}catch(F){try{throw await((x=(p=O(this,Bt).config).onError)==null?void 0:x.call(p,F,e,this.state.context,this)),await((b=(m=this.options).onError)==null?void 0:b.call(m,F,e,this.state.context)),await((T=(S=O(this,Bt).config).onSettled)==null?void 0:T.call(S,void 0,F,this.state.variables,this.state.context,this)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,F,e,this.state.context)),F}finally{ye(this,Yr,Mn).call(this,{type:"error",error:F})}}finally{O(this,Bt).runNext(this)}}},Kr=new WeakMap,Bt=new WeakMap,ni=new WeakMap,Yr=new WeakSet,Mn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{O(this,Kr).forEach(n=>{n.onMutationUpdate(e)}),O(this,Bt).notify({mutation:this,type:"updated",action:e})})},l_);function Hw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mn,Rr,Ol,c_,yC=(c_=class extends Ti{constructor(e={}){super();ue(this,mn);ue(this,Rr);ue(this,Ol);this.config=e,ee(this,mn,new Set),ee(this,Rr,new Map),ee(this,Ol,0)}build(e,r,n){const s=new gC({mutationCache:this,mutationId:++Kl(this,Ol)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){O(this,mn).add(e);const r=hc(e);if(typeof r=="string"){const n=O(this,Rr).get(r);n?n.push(e):O(this,Rr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,mn).delete(e)){const r=hc(e);if(typeof r=="string"){const n=O(this,Rr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&O(this,Rr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=hc(e);if(typeof r=="string"){const n=O(this,Rr).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=hc(e);if(typeof r=="string"){const s=(n=O(this,Rr).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{O(this,mn).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,mn).clear(),O(this,Rr).clear()})}getAll(){return Array.from(O(this,mn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ex(r,n))}findAll(e={}){return this.getAll().filter(r=>Ex(e,r))}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return lt.batch(()=>Promise.all(e.map(r=>r.continue().catch($t))))}},mn=new WeakMap,Rr=new WeakMap,Ol=new WeakMap,c_);function hc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Rx(t){return{onFetch:(e,r)=>{var f,d,h,v,g;const n=e.options,s=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const _=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},p=Dw(e.options,e.fetchOptions),x=async(m,b,S)=>{if(y)return Promise.reject();if(b==null&&m.pages.length)return Promise.resolve(m);const P=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};return _(V),V})(),A=await p(P),{maxPages:F}=e.options,U=S?oC:aC;return{pages:U(m.pages,A,F),pageParams:U(m.pageParams,b,F)}};if(s&&a.length){const m=s==="backward",b=m?xC:Tx,S={pages:a,pageParams:o},T=b(n,S);l=await x(S,T,m)}else{const m=t??a.length;do{const b=c===0?o[0]??n.initialPageParam:Tx(n,l);if(c>0&&b==null)break;l=await x(l,b),c++}while(c<m)}return l};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Tx(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function xC(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var at,Zn,Qn,va,_a,Kn,ba,wa,u_,vC=(u_=class{constructor(t={}){ue(this,at);ue(this,Zn);ue(this,Qn);ue(this,va);ue(this,_a);ue(this,Kn);ue(this,ba);ue(this,wa);ee(this,at,t.queryCache||new pC),ee(this,Zn,t.mutationCache||new yC),ee(this,Qn,t.defaultOptions||{}),ee(this,va,new Map),ee(this,_a,new Map),ee(this,Kn,0)}mount(){Kl(this,Kn)._++,O(this,Kn)===1&&(ee(this,ba,Eg.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,at).onFocus())})),ee(this,wa,Cu.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,at).onOnline())})))}unmount(){var t,e;Kl(this,Kn)._--,O(this,Kn)===0&&((t=O(this,ba))==null||t.call(this),ee(this,ba,void 0),(e=O(this,wa))==null||e.call(this),ee(this,wa,void 0))}isFetching(t){return O(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Zn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,at).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=O(this,at).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(gs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return O(this,at).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=O(this,at).get(n.queryHash),a=s==null?void 0:s.state.data,o=sC(e,a);if(o!==void 0)return O(this,at).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return lt.batch(()=>O(this,at).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,at).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=O(this,at);lt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=O(this,at);return lt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=lt.batch(()=>O(this,at).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then($t).catch($t)}invalidateQueries(t,e={}){return lt.batch(()=>(O(this,at).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=lt.batch(()=>O(this,at).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch($t)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then($t)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=O(this,at).build(this,e);return r.isStaleByTime(gs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($t).catch($t)}fetchInfiniteQuery(t){return t.behavior=Rx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($t).catch($t)}ensureInfiniteQueryData(t){return t.behavior=Rx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cu.isOnline()?O(this,Zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,at)}getMutationCache(){return O(this,Zn)}getDefaultOptions(){return O(this,Qn)}setDefaultOptions(t){ee(this,Qn,t)}setQueryDefaults(t,e){O(this,va).set(_i(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,va).values()],r={};return e.forEach(n=>{yl(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){O(this,_a).set(_i(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,_a).values()],r={};return e.forEach(n=>{yl(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Qn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Qn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,at).clear(),O(this,Zn).clear()}},at=new WeakMap,Zn=new WeakMap,Qn=new WeakMap,va=new WeakMap,_a=new WeakMap,Kn=new WeakMap,ba=new WeakMap,wa=new WeakMap,u_),Zt,Le,Rl,Ut,si,ja,Yn,Gn,Tl,Na,ka,ii,ai,Jn,Sa,Ve,To,gm,ym,xm,vm,_m,bm,wm,Zw,d_,Pg=(d_=class extends Ti{constructor(e,r){super();ue(this,Ve);ue(this,Zt);ue(this,Le);ue(this,Rl);ue(this,Ut);ue(this,si);ue(this,ja);ue(this,Yn);ue(this,Gn);ue(this,Tl);ue(this,Na);ue(this,ka);ue(this,ii);ue(this,ai);ue(this,Jn);ue(this,Sa,new Set);this.options=r,ee(this,Zt,e),ee(this,Gn,null),ee(this,Yn,pm()),this.options.experimental_prefetchInRender||O(this,Yn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,Le).addObserver(this),Ax(O(this,Le),this.options)?ye(this,Ve,To).call(this):this.updateResult(),ye(this,Ve,vm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jm(O(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jm(O(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,Ve,_m).call(this),ye(this,Ve,bm).call(this),O(this,Le).removeObserver(this)}setOptions(e){const r=this.options,n=O(this,Le);if(this.options=O(this,Zt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pr(this.options.enabled,O(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,Ve,wm).call(this),O(this,Le).setOptions(this.options),r._defaulted&&!Su(this.options,r)&&O(this,Zt).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,Le),observer:this});const s=this.hasListeners();s&&$x(O(this,Le),n,this.options,r)&&ye(this,Ve,To).call(this),this.updateResult(),s&&(O(this,Le)!==n||pr(this.options.enabled,O(this,Le))!==pr(r.enabled,O(this,Le))||gs(this.options.staleTime,O(this,Le))!==gs(r.staleTime,O(this,Le)))&&ye(this,Ve,gm).call(this);const a=ye(this,Ve,ym).call(this);s&&(O(this,Le)!==n||pr(this.options.enabled,O(this,Le))!==pr(r.enabled,O(this,Le))||a!==O(this,Jn))&&ye(this,Ve,xm).call(this,a)}getOptimisticResult(e){const r=O(this,Zt).getQueryCache().build(O(this,Zt),e),n=this.createResult(r,e);return bC(this,n)&&(ee(this,Ut,n),ee(this,ja,this.options),ee(this,si,O(this,Le).state)),n}getCurrentResult(){return O(this,Ut)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(e){O(this,Sa).add(e)}getCurrentQuery(){return O(this,Le)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=O(this,Zt).defaultQueryOptions(e),n=O(this,Zt).getQueryCache().build(O(this,Zt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ye(this,Ve,To).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Ut)))}createResult(e,r){var F;const n=O(this,Le),s=this.options,a=O(this,Ut),o=O(this,si),l=O(this,ja),u=e!==n?e.state:O(this,Rl),{state:f}=e;let d={...f},h=!1,v;if(r._optimisticResults){const U=this.hasListeners(),V=!U&&Ax(e,r),Q=U&&$x(e,n,r,s);(V||Q)&&(d={...d,...Ww(f.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:_}=d;v=d.data;let p=!1;if(r.placeholderData!==void 0&&v===void 0&&_==="pending"){let U;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(U=a.data,p=!0):U=typeof r.placeholderData=="function"?r.placeholderData((F=O(this,ka))==null?void 0:F.state.data,O(this,ka)):r.placeholderData,U!==void 0&&(_="success",v=mm(a==null?void 0:a.data,U,r),h=!0)}if(r.select&&v!==void 0&&!p)if(a&&v===(o==null?void 0:o.data)&&r.select===O(this,Tl))v=O(this,Na);else try{ee(this,Tl,r.select),v=r.select(v),v=mm(a==null?void 0:a.data,v,r),ee(this,Na,v),ee(this,Gn,null)}catch(U){ee(this,Gn,U)}O(this,Gn)&&(g=O(this,Gn),v=O(this,Na),y=Date.now(),_="error");const x=d.fetchStatus==="fetching",m=_==="pending",b=_==="error",S=m&&x,T=v!==void 0,A={status:_,fetchStatus:d.fetchStatus,isPending:m,isSuccess:_==="success",isError:b,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!m,isLoadingError:b&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&T,isStale:Og(e,r),refetch:this.refetch,promise:O(this,Yn),isEnabled:pr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const U=E=>{A.status==="error"?E.reject(A.error):A.data!==void 0&&E.resolve(A.data)},V=()=>{const E=ee(this,Yn,A.promise=pm());U(E)},Q=O(this,Yn);switch(Q.status){case"pending":e.queryHash===n.queryHash&&U(Q);break;case"fulfilled":(A.status==="error"||A.data!==Q.value)&&V();break;case"rejected":(A.status!=="error"||A.error!==Q.reason)&&V();break}}return A}updateResult(){const e=O(this,Ut),r=this.createResult(O(this,Le),this.options);if(ee(this,si,O(this,Le).state),ee(this,ja,this.options),O(this,si).data!==void 0&&ee(this,ka,O(this,Le)),Su(r,e))return;ee(this,Ut,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!O(this,Sa).size)return!0;const o=new Set(a??O(this,Sa));return this.options.throwOnError&&o.add("error"),Object.keys(O(this,Ut)).some(l=>{const c=l;return O(this,Ut)[c]!==e[c]&&o.has(c)})};ye(this,Ve,Zw).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,Ve,vm).call(this)}},Zt=new WeakMap,Le=new WeakMap,Rl=new WeakMap,Ut=new WeakMap,si=new WeakMap,ja=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,Tl=new WeakMap,Na=new WeakMap,ka=new WeakMap,ii=new WeakMap,ai=new WeakMap,Jn=new WeakMap,Sa=new WeakMap,Ve=new WeakSet,To=function(e){ye(this,Ve,wm).call(this);let r=O(this,Le).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch($t)),r},gm=function(){ye(this,Ve,_m).call(this);const e=gs(this.options.staleTime,O(this,Le));if(vi||O(this,Ut).isStale||!fm(e))return;const n=Iw(O(this,Ut).dataUpdatedAt,e)+1;ee(this,ii,setTimeout(()=>{O(this,Ut).isStale||this.updateResult()},n))},ym=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,Le)):this.options.refetchInterval)??!1},xm=function(e){ye(this,Ve,bm).call(this),ee(this,Jn,e),!(vi||pr(this.options.enabled,O(this,Le))===!1||!fm(O(this,Jn))||O(this,Jn)===0)&&ee(this,ai,setInterval(()=>{(this.options.refetchIntervalInBackground||Eg.isFocused())&&ye(this,Ve,To).call(this)},O(this,Jn)))},vm=function(){ye(this,Ve,gm).call(this),ye(this,Ve,xm).call(this,ye(this,Ve,ym).call(this))},_m=function(){O(this,ii)&&(clearTimeout(O(this,ii)),ee(this,ii,void 0))},bm=function(){O(this,ai)&&(clearInterval(O(this,ai)),ee(this,ai,void 0))},wm=function(){const e=O(this,Zt).getQueryCache().build(O(this,Zt),this.options);if(e===O(this,Le))return;const r=O(this,Le);ee(this,Le,e),ee(this,Rl,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Zw=function(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(O(this,Ut))}),O(this,Zt).getQueryCache().notify({query:O(this,Le),type:"observerResultsUpdated"})})},d_);function _C(t,e){return pr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ax(t,e){return _C(t,e)||t.state.data!==void 0&&jm(t,e,e.refetchOnMount)}function jm(t,e,r){if(pr(e.enabled,t)!==!1&&gs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Og(t,e)}return!1}function $x(t,e,r,n){return(t!==e||pr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Og(t,r)}function Og(t,e){return pr(e.enabled,t)!==!1&&t.isStaleByTime(gs(e.staleTime,t))}function bC(t,e){return!Su(t.getCurrentResult(),e)}function Lx(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function wC(t,e,r){const n=t.slice(0);return n[e]=r,n}var Ca,hr,Ea,Pa,mr,Xn,Al,$l,Ll,Pt,Nm,km,Sm,Cm,Em,f_,jC=(f_=class extends Ti{constructor(e,r,n){super();ue(this,Pt);ue(this,Ca);ue(this,hr);ue(this,Ea);ue(this,Pa);ue(this,mr);ue(this,Xn);ue(this,Al);ue(this,$l);ue(this,Ll,[]);ee(this,Ca,e),ee(this,Pa,n),ee(this,Ea,[]),ee(this,mr,[]),ee(this,hr,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&O(this,mr).forEach(e=>{e.subscribe(r=>{ye(this,Pt,Cm).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,O(this,mr).forEach(e=>{e.destroy()})}setQueries(e,r){ee(this,Ea,e),ee(this,Pa,r),lt.batch(()=>{const n=O(this,mr),s=ye(this,Pt,Sm).call(this,O(this,Ea));ee(this,Ll,s),s.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions));const a=s.map(c=>c.observer),o=a.map(c=>c.getCurrentResult()),l=a.some((c,u)=>c!==n[u]);n.length===a.length&&!l||(ee(this,mr,a),ee(this,hr,o),this.hasListeners()&&(Lx(n,a).forEach(c=>{c.destroy()}),Lx(a,n).forEach(c=>{c.subscribe(u=>{ye(this,Pt,Cm).call(this,c,u)})}),ye(this,Pt,Em).call(this)))})}getCurrentResult(){return O(this,hr)}getQueries(){return O(this,mr).map(e=>e.getCurrentQuery())}getObservers(){return O(this,mr)}getOptimisticResult(e,r){const n=ye(this,Pt,Sm).call(this,e),s=n.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[s,a=>ye(this,Pt,km).call(this,a??s,r),()=>ye(this,Pt,Nm).call(this,s,n)]}},Ca=new WeakMap,hr=new WeakMap,Ea=new WeakMap,Pa=new WeakMap,mr=new WeakMap,Xn=new WeakMap,Al=new WeakMap,$l=new WeakMap,Ll=new WeakMap,Pt=new WeakSet,Nm=function(e,r){return r.map((n,s)=>{const a=e[s];return n.defaultedQueryOptions.notifyOnChangeProps?a:n.observer.trackResult(a,o=>{r.forEach(l=>{l.observer.trackProp(o)})})})},km=function(e,r){return r?((!O(this,Xn)||O(this,hr)!==O(this,$l)||r!==O(this,Al))&&(ee(this,Al,r),ee(this,$l,O(this,hr)),ee(this,Xn,Sg(O(this,Xn),r(e)))),O(this,Xn)):e},Sm=function(e){const r=new Map(O(this,mr).map(s=>[s.options.queryHash,s])),n=[];return e.forEach(s=>{const a=O(this,Ca).defaultQueryOptions(s),o=r.get(a.queryHash);o?n.push({defaultedQueryOptions:a,observer:o}):n.push({defaultedQueryOptions:a,observer:new Pg(O(this,Ca),a)})}),n},Cm=function(e,r){const n=O(this,mr).indexOf(e);n!==-1&&(ee(this,hr,wC(O(this,hr),n,r)),ye(this,Pt,Em).call(this))},Em=function(){var e;if(this.hasListeners()){const r=O(this,Xn),n=ye(this,Pt,Nm).call(this,O(this,hr),O(this,Ll)),s=ye(this,Pt,km).call(this,n,(e=O(this,Pa))==null?void 0:e.combine);r!==s&&lt.batch(()=>{this.listeners.forEach(a=>{a(O(this,hr))})})}},f_),es,ts,Qt,pn,bn,Lc,Pm,h_,NC=(h_=class extends Ti{constructor(r,n){super();ue(this,bn);ue(this,es);ue(this,ts);ue(this,Qt);ue(this,pn);ee(this,es,r),this.setOptions(n),this.bindMethods(),ye(this,bn,Lc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=O(this,es).defaultMutationOptions(r),Su(this.options,n)||O(this,es).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Qt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&_i(n.mutationKey)!==_i(this.options.mutationKey)?this.reset():((s=O(this,Qt))==null?void 0:s.state.status)==="pending"&&O(this,Qt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=O(this,Qt))==null||r.removeObserver(this)}onMutationUpdate(r){ye(this,bn,Lc).call(this),ye(this,bn,Pm).call(this,r)}getCurrentResult(){return O(this,ts)}reset(){var r;(r=O(this,Qt))==null||r.removeObserver(this),ee(this,Qt,void 0),ye(this,bn,Lc).call(this),ye(this,bn,Pm).call(this)}mutate(r,n){var s;return ee(this,pn,n),(s=O(this,Qt))==null||s.removeObserver(this),ee(this,Qt,O(this,es).getMutationCache().build(O(this,es),this.options)),O(this,Qt).addObserver(this),O(this,Qt).execute(r)}},es=new WeakMap,ts=new WeakMap,Qt=new WeakMap,pn=new WeakMap,bn=new WeakSet,Lc=function(){var n;const r=((n=O(this,Qt))==null?void 0:n.state)??Hw();ee(this,ts,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pm=function(r){lt.batch(()=>{var n,s,a,o,l,c,u,f;if(O(this,pn)&&this.hasListeners()){const d=O(this,ts).variables,h=O(this,ts).context;(r==null?void 0:r.type)==="success"?((s=(n=O(this,pn)).onSuccess)==null||s.call(n,r.data,d,h),(o=(a=O(this,pn)).onSettled)==null||o.call(a,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=O(this,pn)).onError)==null||c.call(l,r.error,d,h),(f=(u=O(this,pn)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(O(this,ts))})})},h_),Qw=w.createContext(void 0),Ot=t=>{const e=w.useContext(Qw);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kC=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Qw.Provider,{value:t,children:e})),Kw=w.createContext(!1),Yw=()=>w.useContext(Kw);Kw.Provider;function SC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var CC=w.createContext(SC()),Gw=()=>w.useContext(CC),Jw=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Xw=t=>{w.useEffect(()=>{t.clearReset()},[t])},e1=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||Bw(r,[t.error,n])),t1=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},r1=(t,e)=>t.isLoading&&t.isFetching&&!e,Om=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Eu=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Rm({queries:t,...e},r){const n=Ot(r),s=Yw(),a=Gw(),o=w.useMemo(()=>t.map(y=>{const _=n.defaultQueryOptions(y);return _._optimisticResults=s?"isRestoring":"optimistic",_}),[t,n,s]);o.forEach(y=>{t1(y),Jw(y,a)}),Xw(a);const[l]=w.useState(()=>new jC(n,o,e)),[c,u,f]=l.getOptimisticResult(o,e.combine),d=!s&&e.subscribed!==!1;w.useSyncExternalStore(w.useCallback(y=>d?l.subscribe(lt.batchCalls(y)):$t,[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setQueries(o,e)},[o,e,l]);const v=c.some((y,_)=>Om(o[_],y))?c.flatMap((y,_)=>{const p=o[_];if(p){const x=new Pg(n,p);if(Om(p,y))return Eu(p,x,a);r1(y,s)&&Eu(p,x,a)}return[]}):[];if(v.length>0)throw Promise.all(v);const g=c.find((y,_)=>{const p=o[_];return p&&e1({result:y,errorResetBoundary:a,throwOnError:p.throwOnError,query:n.getQueryCache().get(p.queryHash),suspense:p.suspense})});if(g!=null&&g.error)throw g.error;return u(f())}function EC(t,e,r){var d,h,v,g,y;const n=Yw(),s=Gw(),a=Ot(r),o=a.defaultQueryOptions(t);(h=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",t1(o),Jw(o,s),Xw(s);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new e(a,o)),u=c.getOptimisticResult(o),f=!n&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(_=>{const p=f?c.subscribe(lt.batchCalls(_)):$t;return c.updateResult(),p},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Om(o,u))throw Eu(o,c,s);if(e1({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,u),o.experimental_prefetchInRender&&!vi&&r1(u,n)){const _=l?Eu(o,c,s):(y=a.getQueryCache().get(o.queryHash))==null?void 0:y.promise;_==null||_.catch($t).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ve(t,e){return EC(t,Pg,e)}function Ze(t,e){const r=Ot(e),[n]=w.useState(()=>new NC(r,t));w.useEffect(()=>{n.setOptions(t)},[n,t]);const s=w.useSyncExternalStore(w.useCallback(o=>n.subscribe(lt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=w.useCallback((o,l)=>{n.mutate(o,l).catch($t)},[n]);if(s.error&&Bw(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}var It=function(){return It=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},It.apply(this,arguments)};function Pu(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Ge="-ms-",Zo="-moz-",qe="-webkit-",n1="comm",pd="rule",Rg="decl",PC="@import",s1="@keyframes",OC="@layer",i1=Math.abs,Tg=String.fromCharCode,Tm=Object.assign;function RC(t,e){return jt(t,0)^45?(((e<<2^jt(t,0))<<2^jt(t,1))<<2^jt(t,2))<<2^jt(t,3):0}function a1(t){return t.trim()}function dn(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,r){return t.replace(e,r)}function Fc(t,e,r){return t.indexOf(e,r)}function jt(t,e){return t.charCodeAt(e)|0}function Ma(t,e,r){return t.slice(e,r)}function Gr(t){return t.length}function o1(t){return t.length}function Ao(t,e){return e.push(t),t}function TC(t,e){return t.map(e).join("")}function Fx(t,e){return t.filter(function(r){return!dn(r,e)})}var gd=1,Ia=1,l1=0,jr=0,pt=0,so="";function yd(t,e,r,n,s,a,o,l){return{value:t,root:e,parent:r,type:n,props:s,children:a,line:gd,column:Ia,length:o,return:"",siblings:l}}function In(t,e){return Tm(yd("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Bi(t){for(;t.root;)t=In(t.root,{children:[t]});Ao(t,t.siblings)}function AC(){return pt}function $C(){return pt=jr>0?jt(so,--jr):0,Ia--,pt===10&&(Ia=1,gd--),pt}function Mr(){return pt=jr<l1?jt(so,jr++):0,Ia++,pt===10&&(Ia=1,gd++),pt}function ui(){return jt(so,jr)}function Mc(){return jr}function xd(t,e){return Ma(so,t,e)}function Am(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LC(t){return gd=Ia=1,l1=Gr(so=t),jr=0,[]}function FC(t){return so="",t}function vf(t){return a1(xd(jr-1,$m(t===91?t+2:t===40?t+1:t)))}function MC(t){for(;(pt=ui())&&pt<33;)Mr();return Am(t)>2||Am(pt)>3?"":" "}function IC(t,e){for(;--e&&Mr()&&!(pt<48||pt>102||pt>57&&pt<65||pt>70&&pt<97););return xd(t,Mc()+(e<6&&ui()==32&&Mr()==32))}function $m(t){for(;Mr();)switch(pt){case t:return jr;case 34:case 39:t!==34&&t!==39&&$m(pt);break;case 40:t===41&&$m(t);break;case 92:Mr();break}return jr}function DC(t,e){for(;Mr()&&t+pt!==57;)if(t+pt===84&&ui()===47)break;return"/*"+xd(e,jr-1)+"*"+Tg(t===47?t:Mr())}function BC(t){for(;!Am(ui());)Mr();return xd(t,jr)}function UC(t){return FC(Ic("",null,null,null,[""],t=LC(t),0,[0],t))}function Ic(t,e,r,n,s,a,o,l,c){for(var u=0,f=0,d=o,h=0,v=0,g=0,y=1,_=1,p=1,x=0,m="",b=s,S=a,T=n,P=m;_;)switch(g=x,x=Mr()){case 40:if(g!=108&&jt(P,d-1)==58){Fc(P+=Ee(vf(x),"&","&\f"),"&\f",i1(u?l[u-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:P+=vf(x);break;case 9:case 10:case 13:case 32:P+=MC(g);break;case 92:P+=IC(Mc()-1,7);continue;case 47:switch(ui()){case 42:case 47:Ao(zC(DC(Mr(),Mc()),e,r,c),c);break;default:P+="/"}break;case 123*y:l[u++]=Gr(P)*p;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+f:p==-1&&(P=Ee(P,/\f/g,"")),v>0&&Gr(P)-d&&Ao(v>32?Ix(P+";",n,r,d-1,c):Ix(Ee(P," ","")+";",n,r,d-2,c),c);break;case 59:P+=";";default:if(Ao(T=Mx(P,e,r,u,f,s,l,m,b=[],S=[],d,a),a),x===123)if(f===0)Ic(P,e,T,T,b,a,d,l,S);else switch(h===99&&jt(P,3)===110?100:h){case 100:case 108:case 109:case 115:Ic(t,T,T,n&&Ao(Mx(t,T,T,0,0,s,l,m,s,b=[],d,S),S),s,S,d,l,n?b:S);break;default:Ic(P,T,T,T,[""],S,0,l,S)}}u=f=v=0,y=p=1,m=P="",d=o;break;case 58:d=1+Gr(P),v=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&$C()==125)continue}switch(P+=Tg(x),x*y){case 38:p=f>0?1:(P+="\f",-1);break;case 44:l[u++]=(Gr(P)-1)*p,p=1;break;case 64:ui()===45&&(P+=vf(Mr())),h=ui(),f=d=Gr(m=P+=BC(Mc())),x++;break;case 45:g===45&&Gr(P)==2&&(y=0)}}return a}function Mx(t,e,r,n,s,a,o,l,c,u,f,d){for(var h=s-1,v=s===0?a:[""],g=o1(v),y=0,_=0,p=0;y<n;++y)for(var x=0,m=Ma(t,h+1,h=i1(_=o[y])),b=t;x<g;++x)(b=a1(_>0?v[x]+" "+m:Ee(m,/&\f/g,v[x])))&&(c[p++]=b);return yd(t,e,r,s===0?pd:l,c,u,f,d)}function zC(t,e,r,n){return yd(t,e,r,n1,Tg(AC()),Ma(t,2,-2),0,n)}function Ix(t,e,r,n,s){return yd(t,e,r,Rg,Ma(t,0,n),Ma(t,n+1,-1),n,s)}function c1(t,e,r){switch(RC(t,e)){case 5103:return qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+t+t;case 4789:return Zo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+t+Zo+t+Ge+t+t;case 5936:switch(jt(t,e+11)){case 114:return qe+t+Ge+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qe+t+Ge+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qe+t+Ge+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return qe+t+Ge+t+t;case 6165:return qe+t+Ge+"flex-"+t+t;case 5187:return qe+t+Ee(t,/(\w+).+(:[^]+)/,qe+"box-$1$2"+Ge+"flex-$1$2")+t;case 5443:return qe+t+Ge+"flex-item-"+Ee(t,/flex-|-self/g,"")+(dn(t,/flex-|baseline/)?"":Ge+"grid-row-"+Ee(t,/flex-|-self/g,""))+t;case 4675:return qe+t+Ge+"flex-line-pack"+Ee(t,/align-content|flex-|-self/g,"")+t;case 5548:return qe+t+Ge+Ee(t,"shrink","negative")+t;case 5292:return qe+t+Ge+Ee(t,"basis","preferred-size")+t;case 6060:return qe+"box-"+Ee(t,"-grow","")+qe+t+Ge+Ee(t,"grow","positive")+t;case 4554:return qe+Ee(t,/([^-])(transform)/g,"$1"+qe+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+t+t;case 4200:if(!dn(t,/flex-|baseline/))return Ge+"grid-column-align"+Ma(t,e)+t;break;case 2592:case 3360:return Ge+Ee(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,s){return e=s,dn(n.props,/grid-\w+-end/)})?~Fc(t+(r=r[e].value),"span",0)?t:Ge+Ee(t,"-start","")+t+Ge+"grid-row-span:"+(~Fc(r,"span",0)?dn(r,/\d+/):+dn(r,/\d+/)-+dn(t,/\d+/))+";":Ge+Ee(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return dn(n.props,/grid-\w+-start/)})?t:Ge+Ee(Ee(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gr(t)-1-e>6)switch(jt(t,e+1)){case 109:if(jt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+Zo+(jt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fc(t,"stretch",0)?c1(Ee(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ee(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,a,o,l,c,u){return Ge+s+":"+a+u+(o?Ge+s+"-span:"+(l?c:+c-+a)+u:"")+t});case 4949:if(jt(t,e+6)===121)return Ee(t,":",":"+qe)+t;break;case 6444:switch(jt(t,jt(t,14)===45?18:11)){case 120:return Ee(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+qe+(jt(t,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+Ge+"$2box$3")+t;case 100:return Ee(t,":",":"+Ge)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ee(t,"scroll-","scroll-snap-")+t}return t}function Ou(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function qC(t,e,r,n){switch(t.type){case OC:if(t.children.length)break;case PC:case Rg:return t.return=t.return||t.value;case n1:return"";case s1:return t.return=t.value+"{"+Ou(t.children,n)+"}";case pd:if(!Gr(t.value=t.props.join(",")))return""}return Gr(r=Ou(t.children,n))?t.return=t.value+"{"+r+"}":""}function VC(t){var e=o1(t);return function(r,n,s,a){for(var o="",l=0;l<e;l++)o+=t[l](r,n,s,a)||"";return o}}function WC(t){return function(e){e.root||(e=e.return)&&t(e)}}function HC(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case Rg:t.return=c1(t.value,t.length,r);return;case s1:return Ou([In(t,{value:Ee(t.value,"@","@"+qe)})],n);case pd:if(t.length)return TC(r=t.props,function(s){switch(dn(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Bi(In(t,{props:[Ee(s,/:(read-\w+)/,":"+Zo+"$1")]})),Bi(In(t,{props:[s]})),Tm(t,{props:Fx(r,n)});break;case"::placeholder":Bi(In(t,{props:[Ee(s,/:(plac\w+)/,":"+qe+"input-$1")]})),Bi(In(t,{props:[Ee(s,/:(plac\w+)/,":"+Zo+"$1")]})),Bi(In(t,{props:[Ee(s,/:(plac\w+)/,Ge+"input-$1")]})),Bi(In(t,{props:[s]})),Tm(t,{props:Fx(r,n)});break}return""})}}var ZC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nr={},Da=typeof process<"u"&&nr!==void 0&&(nr.REACT_APP_SC_ATTR||nr.SC_ATTR)||"data-styled",u1="active",d1="data-styled-version",vd="6.1.19",Ag=`/*!sc*/
`,Ru=typeof window<"u"&&typeof document<"u",QC=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&nr!==void 0&&nr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&nr.REACT_APP_SC_DISABLE_SPEEDY!==""?nr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&nr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&nr!==void 0&&nr.SC_DISABLE_SPEEDY!==void 0&&nr.SC_DISABLE_SPEEDY!==""&&nr.SC_DISABLE_SPEEDY!=="false"&&nr.SC_DISABLE_SPEEDY),_d=Object.freeze([]),Ba=Object.freeze({});function KC(t,e,r){return r===void 0&&(r=Ba),t.theme!==r.theme&&t.theme||e||r.theme}var f1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),YC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,GC=/(^-|-$)/g;function Dx(t){return t.replace(YC,"-").replace(GC,"")}var JC=/(a)(d)/gi,mc=52,Bx=function(t){return String.fromCharCode(t+(t>25?39:97))};function Lm(t){var e,r="";for(e=Math.abs(t);e>mc;e=e/mc|0)r=Bx(e%mc)+r;return(Bx(e%mc)+r).replace(JC,"$1-$2")}var _f,h1=5381,ia=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},m1=function(t){return ia(h1,t)};function XC(t){return Lm(m1(t)>>>0)}function eE(t){return t.displayName||t.name||"Component"}function bf(t){return typeof t=="string"&&!0}var p1=typeof Symbol=="function"&&Symbol.for,g1=p1?Symbol.for("react.memo"):60115,tE=p1?Symbol.for("react.forward_ref"):60112,rE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sE=((_f={})[tE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_f[g1]=y1,_f);function Ux(t){return("type"in(e=t)&&e.type.$$typeof)===g1?y1:"$$typeof"in t?sE[t.$$typeof]:rE;var e}var iE=Object.defineProperty,aE=Object.getOwnPropertyNames,zx=Object.getOwnPropertySymbols,oE=Object.getOwnPropertyDescriptor,lE=Object.getPrototypeOf,qx=Object.prototype;function x1(t,e,r){if(typeof e!="string"){if(qx){var n=lE(e);n&&n!==qx&&x1(t,n,r)}var s=aE(e);zx&&(s=s.concat(zx(e)));for(var a=Ux(t),o=Ux(e),l=0;l<s.length;++l){var c=s[l];if(!(c in nE||r&&r[c]||o&&c in o||a&&c in a)){var u=oE(e,c);try{iE(t,c,u)}catch{}}}}return t}function bi(t){return typeof t=="function"}function $g(t){return typeof t=="object"&&"styledComponentId"in t}function Ks(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Vx(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function xl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Fm(t,e,r){if(r===void 0&&(r=!1),!r&&!xl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=Fm(t[n],e[n]);else if(xl(e))for(var n in e)t[n]=Fm(t[n],e[n]);return t}function Lg(t,e){Object.defineProperty(t,"toString",{value:e})}function wi(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var cE=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,a=s;e>=a;)if((a<<=1)<0)throw wi(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var o=s;o<a;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),c=(o=0,r.length);o<c;o++)this.tag.insertRule(l,r[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),s=n+r;this.groupSizes[e]=0;for(var a=n;a<s;a++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),a=s+n,o=s;o<a;o++)r+="".concat(this.tag.getRule(o)).concat(Ag);return r},t}(),Dc=new Map,Tu=new Map,Bc=1,pc=function(t){if(Dc.has(t))return Dc.get(t);for(;Tu.has(Bc);)Bc++;var e=Bc++;return Dc.set(t,e),Tu.set(e,t),e},uE=function(t,e){Bc=e+1,Dc.set(t,e),Tu.set(e,t)},dE="style[".concat(Da,"][").concat(d1,'="').concat(vd,'"]'),fE=new RegExp("^".concat(Da,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hE=function(t,e,r){for(var n,s=r.split(","),a=0,o=s.length;a<o;a++)(n=s[a])&&t.registerName(e,n)},mE=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(Ag),s=[],a=0,o=n.length;a<o;a++){var l=n[a].trim();if(l){var c=l.match(fE);if(c){var u=0|parseInt(c[1],10),f=c[2];u!==0&&(uE(f,u),hE(t,f,c[3]),t.getTag().insertRules(u,s)),s.length=0}else s.push(l)}}},Wx=function(t){for(var e=document.querySelectorAll(dE),r=0,n=e.length;r<n;r++){var s=e[r];s&&s.getAttribute(Da)!==u1&&(mE(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function pE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var v1=function(t){var e=document.head,r=t||e,n=document.createElement("style"),s=function(l){var c=Array.from(l.querySelectorAll("style[".concat(Da,"]")));return c[c.length-1]}(r),a=s!==void 0?s.nextSibling:null;n.setAttribute(Da,u1),n.setAttribute(d1,vd);var o=pE();return o&&n.setAttribute("nonce",o),r.insertBefore(n,a),n},gE=function(){function t(e){this.element=v1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,s=0,a=n.length;s<a;s++){var o=n[s];if(o.ownerNode===r)return o}throw wi(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),yE=function(){function t(e){this.element=v1(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),xE=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Hx=Ru,vE={isServer:!Ru,useCSSOMInjection:!QC},_1=function(){function t(e,r,n){e===void 0&&(e=Ba),r===void 0&&(r={});var s=this;this.options=It(It({},vE),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ru&&Hx&&(Hx=!1,Wx(this)),Lg(this,function(){return function(a){for(var o=a.getTag(),l=o.length,c="",u=function(d){var h=function(p){return Tu.get(p)}(d);if(h===void 0)return"continue";var v=a.names.get(h),g=o.getGroup(d);if(v===void 0||!v.size||g.length===0)return"continue";var y="".concat(Da,".g").concat(d,'[id="').concat(h,'"]'),_="";v!==void 0&&v.forEach(function(p){p.length>0&&(_+="".concat(p,","))}),c+="".concat(g).concat(y,'{content:"').concat(_,'"}').concat(Ag)},f=0;f<l;f++)u(f);return c}(s)})}return t.registerId=function(e){return pc(e)},t.prototype.rehydrate=function(){!this.server&&Ru&&Wx(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(It(It({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,s=r.target;return r.isServer?new xE(s):n?new gE(s):new yE(s)}(this.options),new cE(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(pc(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(pc(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(pc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),_E=/&/g,bE=/^\s*\/\/.*$/gm;function b1(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=b1(r.children,e)),r})}function wE(t){var e,r,n,s=Ba,a=s.options,o=a===void 0?Ba:a,l=s.plugins,c=l===void 0?_d:l,u=function(h,v,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):h},f=c.slice();f.push(function(h){h.type===pd&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(_E,r).replace(n,u))}),o.prefix&&f.push(HC),f.push(qC);var d=function(h,v,g,y){v===void 0&&(v=""),g===void 0&&(g=""),y===void 0&&(y="&"),e=y,r=v,n=new RegExp("\\".concat(r,"\\b"),"g");var _=h.replace(bE,""),p=UC(g||v?"".concat(g," ").concat(v," { ").concat(_," }"):_);o.namespace&&(p=b1(p,o.namespace));var x=[];return Ou(p,VC(f.concat(WC(function(m){return x.push(m)})))),x};return d.hash=c.length?c.reduce(function(h,v){return v.name||wi(15),ia(h,v.name)},h1).toString():"",d}var jE=new _1,Mm=wE(),w1=ge.createContext({shouldForwardProp:void 0,styleSheet:jE,stylis:Mm});w1.Consumer;ge.createContext(void 0);function Zx(){return w.useContext(w1)}var NE=function(){function t(e,r){var n=this;this.inject=function(s,a){a===void 0&&(a=Mm);var o=n.name+a.hash;s.hasNameForId(n.id,o)||s.insertRules(n.id,o,a(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,Lg(this,function(){throw wi(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Mm),this.name+e.hash},t}(),kE=function(t){return t>="A"&&t<="Z"};function Qx(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;kE(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var j1=function(t){return t==null||t===!1||t===""},N1=function(t){var e,r,n=[];for(var s in t){var a=t[s];t.hasOwnProperty(s)&&!j1(a)&&(Array.isArray(a)&&a.isCss||bi(a)?n.push("".concat(Qx(s),":"),a,";"):xl(a)?n.push.apply(n,Pu(Pu(["".concat(s," {")],N1(a),!1),["}"],!1)):n.push("".concat(Qx(s),": ").concat((e=s,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in ZC||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function di(t,e,r,n){if(j1(t))return[];if($g(t))return[".".concat(t.styledComponentId)];if(bi(t)){if(!bi(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var s=t(e);return di(s,e,r,n)}var a;return t instanceof NE?r?(t.inject(r,n),[t.getName(n)]):[t]:xl(t)?N1(t):Array.isArray(t)?Array.prototype.concat.apply(_d,t.map(function(o){return di(o,e,r,n)})):[t.toString()]}function SE(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(bi(r)&&!$g(r))return!1}return!0}var CE=m1(vd),EE=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&SE(e),this.componentId=r,this.baseHash=ia(CE,r),this.baseStyle=n,_1.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=Ks(s,this.staticRulesId);else{var a=Vx(di(this.rules,e,r,n)),o=Lm(ia(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,o)){var l=n(a,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,l)}s=Ks(s,o),this.staticRulesId=o}else{for(var c=ia(this.baseHash,n.hash),u="",f=0;f<this.rules.length;f++){var d=this.rules[f];if(typeof d=="string")u+=d;else if(d){var h=Vx(di(d,e,r,n));c=ia(c,h+f),u+=h}}if(u){var v=Lm(c>>>0);r.hasNameForId(this.componentId,v)||r.insertRules(this.componentId,v,n(u,".".concat(v),void 0,this.componentId)),s=Ks(s,v)}}return s},t}(),Au=ge.createContext(void 0);Au.Consumer;function PE(t){var e=ge.useContext(Au),r=w.useMemo(function(){return function(n,s){if(!n)throw wi(14);if(bi(n)){var a=n(s);return a}if(Array.isArray(n)||typeof n!="object")throw wi(8);return s?It(It({},s),n):n}(t.theme,e)},[t.theme,e]);return t.children?ge.createElement(Au.Provider,{value:r},t.children):null}var wf={};function OE(t,e,r){var n=$g(t),s=t,a=!bf(t),o=e.attrs,l=o===void 0?_d:o,c=e.componentId,u=c===void 0?function(b,S){var T=typeof b!="string"?"sc":Dx(b);wf[T]=(wf[T]||0)+1;var P="".concat(T,"-").concat(XC(vd+T+wf[T]));return S?"".concat(S,"-").concat(P):P}(e.displayName,e.parentComponentId):c,f=e.displayName,d=f===void 0?function(b){return bf(b)?"styled.".concat(b):"Styled(".concat(eE(b),")")}(t):f,h=e.displayName&&e.componentId?"".concat(Dx(e.displayName),"-").concat(e.componentId):e.componentId||u,v=n&&s.attrs?s.attrs.concat(l).filter(Boolean):l,g=e.shouldForwardProp;if(n&&s.shouldForwardProp){var y=s.shouldForwardProp;if(e.shouldForwardProp){var _=e.shouldForwardProp;g=function(b,S){return y(b,S)&&_(b,S)}}else g=y}var p=new EE(r,h,n?s.componentStyle:void 0);function x(b,S){return function(T,P,A){var F=T.attrs,U=T.componentStyle,V=T.defaultProps,Q=T.foldedComponentIds,E=T.styledComponentId,L=T.target,C=ge.useContext(Au),j=Zx(),N=T.shouldForwardProp||j.shouldForwardProp,R=KC(P,C,V)||Ba,M=function(X,I,se){for(var Ce,xe=It(It({},I),{className:void 0,theme:se}),ze=0;ze<X.length;ze+=1){var ct=bi(Ce=X[ze])?Ce(xe):Ce;for(var ft in ct)xe[ft]=ft==="className"?Ks(xe[ft],ct[ft]):ft==="style"?It(It({},xe[ft]),ct[ft]):ct[ft]}return I.className&&(xe.className=Ks(xe.className,I.className)),xe}(F,P,R),z=M.as||L,re={};for(var K in M)M[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&M.theme===R||(K==="forwardedAs"?re.as=M.forwardedAs:N&&!N(K,z)||(re[K]=M[K]));var $=function(X,I){var se=Zx(),Ce=X.generateAndInjectStyles(I,se.styleSheet,se.stylis);return Ce}(U,M),Z=Ks(Q,E);return $&&(Z+=" "+$),M.className&&(Z+=" "+M.className),re[bf(z)&&!f1.has(z)?"class":"className"]=Z,A&&(re.ref=A),w.createElement(z,re)}(m,b,S)}x.displayName=d;var m=ge.forwardRef(x);return m.attrs=v,m.componentStyle=p,m.displayName=d,m.shouldForwardProp=g,m.foldedComponentIds=n?Ks(s.foldedComponentIds,s.styledComponentId):"",m.styledComponentId=h,m.target=n?s.target:t,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=n?function(S){for(var T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];for(var A=0,F=T;A<F.length;A++)Fm(S,F[A],!0);return S}({},s.defaultProps,b):b}}),Lg(m,function(){return".".concat(m.styledComponentId)}),a&&x1(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function Kx(t,e){for(var r=[t[0]],n=0,s=e.length;n<s;n+=1)r.push(e[n],t[n+1]);return r}var Yx=function(t){return Object.assign(t,{isCss:!0})};function RE(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(bi(t)||xl(t))return Yx(di(Kx(_d,Pu([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?di(n):Yx(di(Kx(n,e)))}function Im(t,e,r){if(r===void 0&&(r=Ba),!e)throw wi(1,e);var n=function(s){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return t(e,r,RE.apply(void 0,Pu([s],a,!1)))};return n.attrs=function(s){return Im(t,e,It(It({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return Im(t,e,It(It({},r),s))},n}var k1=function(t){return Im(OE,t)},TE=k1;f1.forEach(function(t){TE[t]=k1(t)});var S1=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(S1||{}),jf={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(S1);var Fg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(Fg).reduce((t,[e,r])=>(t[r]=e,t),{});var vl="data-rh",AE=t=>Array.isArray(t)?t.join(""):t,$E=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},Nf=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>($E(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},LE=["noscript","script","style"],Dm=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),C1=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),FE=(t,e,r,n)=>{const s=C1(r),a=AE(e);return s?`<${t} ${vl}="true" ${s}>${Dm(a,n)}</${t}>`:`<${t} ${vl}="true">${Dm(a,n)}</${t}>`},ME=(t,e,r=!0)=>e.reduce((n,s)=>{const a=s,o=Object.keys(a).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,f)=>{const d=typeof a[f]>"u"?f:`${f}="${Dm(a[f],r)}"`;return u?`${u} ${d}`:d},""),l=a.innerHTML||a.cssText||"",c=LE.indexOf(t)===-1;return`${n}<${t} ${vl}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),E1=(t,e={})=>Object.keys(t).reduce((r,n)=>{const s=Fg[n];return r[s||n]=t[n],r},e),IE=(t,e,r)=>{const n={key:e,[vl]:!0},s=E1(r,n);return[ge.createElement("title",s,e)]},Uc=(t,e)=>e.map((r,n)=>{const s={key:n,[vl]:!0};return Object.keys(r).forEach(a=>{const l=Fg[a]||a;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[a]}),ge.createElement(t,s)}),dr=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>IE(t,e.title,e.titleAttributes),toString:()=>FE(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>E1(e),toString:()=>C1(e)};default:return{toComponent:()=>Uc(t,e),toString:()=>ME(t,e,r)}}},DE=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const s=Nf(t,jf.meta),a=Nf(e,jf.link),o=Nf(r,jf.script);return{priorityMethods:{toComponent:()=>[...Uc("meta",s.priority),...Uc("link",a.priority),...Uc("script",o.priority)],toString:()=>`${dr("meta",s.priority,n)} ${dr("link",a.priority,n)} ${dr("script",o.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:o.default}},BE=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:f,metaTags:d,scriptTags:h}=t,v={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:v,linkTags:f,metaTags:d,scriptTags:h}=DE(t)),{priority:v,base:dr("base",e,n),bodyAttributes:dr("bodyAttributes",r,n),htmlAttributes:dr("htmlAttributes",s,n),link:dr("link",f,n),meta:dr("meta",d,n),noscript:dr("noscript",a,n),script:dr("script",h,n),style:dr("style",o,n),title:dr("title",{title:l,titleAttributes:c},n)}},UE=BE,gc=[],P1=!!(typeof window<"u"&&window.document&&window.document.createElement),zE=class{constructor(t,e){Rn(this,"instances",[]);Rn(this,"canUseDOM",P1);Rn(this,"context");Rn(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?gc:this.instances,add:t=>{(this.canUseDOM?gc:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?gc:this.instances).indexOf(t);(this.canUseDOM?gc:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=UE({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},qE={},VE=ge.createContext(qE),oi,WE=(oi=class extends w.Component{constructor(r){super(r);Rn(this,"helmetData");this.helmetData=new zE(this.props.context||{},oi.canUseDOM)}render(){return ge.createElement(VE.Provider,{value:this.helmetData.value},this.props.children)}},Rn(oi,"canUseDOM",P1),oi);const HE={},Gx=t=>{let e;const r=new Set,n=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const v=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(g=>g(e,v))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(HE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,c);return c},ZE=t=>t?Gx(t):Gx;var O1={exports:{}},R1={},T1={exports:{}},A1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=w;function QE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KE=typeof Object.is=="function"?Object.is:QE,YE=Ua.useState,GE=Ua.useEffect,JE=Ua.useLayoutEffect,XE=Ua.useDebugValue;function e4(t,e){var r=e(),n=YE({inst:{value:r,getSnapshot:e}}),s=n[0].inst,a=n[1];return JE(function(){s.value=r,s.getSnapshot=e,kf(s)&&a({inst:s})},[t,r,e]),GE(function(){return kf(s)&&a({inst:s}),t(function(){kf(s)&&a({inst:s})})},[t]),XE(r),r}function kf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!KE(t,r)}catch{return!0}}function t4(t,e){return e()}var r4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t4:e4;A1.useSyncExternalStore=Ua.useSyncExternalStore!==void 0?Ua.useSyncExternalStore:r4;T1.exports=A1;var n4=T1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=w,s4=n4;function i4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a4=typeof Object.is=="function"?Object.is:i4,o4=s4.useSyncExternalStore,l4=bd.useRef,c4=bd.useEffect,u4=bd.useMemo,d4=bd.useDebugValue;R1.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var a=l4(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=u4(function(){function c(v){if(!u){if(u=!0,f=v,v=n(v),s!==void 0&&o.hasValue){var g=o.value;if(s(g,v))return d=g}return d=v}if(g=d,a4(f,v))return g;var y=n(v);return s!==void 0&&s(g,y)?(f=v,g):(f=v,d=y)}var u=!1,f,d,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,s]);var l=o4(t,a[0],a[1]);return c4(function(){o.hasValue=!0,o.value=l},[l]),d4(l),l};O1.exports=R1;var f4=O1.exports;const h4=Sp(f4),$1={},{useDebugValue:m4}=ge,{useSyncExternalStoreWithSelector:p4}=h4;let Jx=!1;const g4=t=>t;function y4(t,e=g4,r){($1?"production":void 0)!=="production"&&r&&!Jx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jx=!0);const n=p4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return m4(n),n}const x4=t=>{($1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?ZE(t):t,r=(n,s)=>y4(e,n,s);return Object.assign(r,e),r},L1=t=>x4,v4={};function _4(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>r.removeItem(s)}}const _l=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return _l(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return _l(n)(r)}}}},b4=(t,e)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,p)=>({...p,..._}),...e},o=!1;const l=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(..._)},n,s);const f=_l(a.serialize),d=()=>{const _=a.partialize({...n()});let p;const x=f({state:_,version:a.version}).then(m=>u.setItem(a.name,m)).catch(m=>{p=m});if(p)throw p;return x},h=s.setState;s.setState=(_,p)=>{h(_,p),d()};const v=t((..._)=>{r(..._),d()},n,s);let g;const y=()=>{var _;if(!u)return;o=!1,l.forEach(x=>x(n()));const p=((_=a.onRehydrateStorage)==null?void 0:_.call(a,n()))||void 0;return _l(u.getItem.bind(u))(a.name).then(x=>{if(x)return a.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==a.version){if(a.migrate)return a.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var m;return g=a.merge(x,(m=n())!=null?m:v),r(g,!0),d()}).then(()=>{p==null||p(g,void 0),o=!0,c.forEach(x=>x(g))}).catch(x=>{p==null||p(void 0,x)})};return s.persist={setOptions:_=>{a={...a,..._},_.getStorage&&(u=_.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:_=>(l.add(_),()=>{l.delete(_)}),onFinishHydration:_=>(c.add(_),()=>{c.delete(_)})},y(),g||v},w4=(t,e)=>(r,n,s)=>{let a={storage:_4(()=>localStorage),partialize:y=>y,version:0,merge:(y,_)=>({..._,...y}),...e},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...y)},n,s);const f=()=>{const y=a.partialize({...n()});return u.setItem(a.name,{state:y,version:a.version})},d=s.setState;s.setState=(y,_)=>{d(y,_),f()};const h=t((...y)=>{r(...y),f()},n,s);s.getInitialState=()=>h;let v;const g=()=>{var y,_;if(!u)return;o=!1,l.forEach(x=>{var m;return x((m=n())!=null?m:h)});const p=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(y=n())!=null?y:h))||void 0;return _l(u.getItem.bind(u))(a.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==a.version){if(a.migrate)return[!0,a.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var m;const[b,S]=x;if(v=a.merge(S,(m=n())!=null?m:h),r(v,!0),b)return f()}).then(()=>{p==null||p(v,void 0),v=n(),o=!0,c.forEach(x=>x(v))}).catch(x=>{p==null||p(void 0,x)})};return s.persist={setOptions:y=>{a={...a,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||g(),v||h},j4=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((v4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),b4(t,e)):w4(t,e),F1=j4,Xx={user_id:null,is_authenticated:!1,is_host:!1,token:null,display_name:null,profile_photo_url:null,superhost_status:!1,unread_message_count:0,last_active_at:null,email:null},N4=L1()(F1((t,e)=>({user:Xx,login:r=>{t({user:{...e().user,...r,is_authenticated:!0}})},logout:()=>{t({user:Xx})},updateUser:r=>{t({user:{...e().user,...r}})},setUnreadCount:r=>{t({user:{...e().user,unread_message_count:r}})}}),{name:"user-session"})),sn=Object.create(null);sn.open="0";sn.close="1";sn.ping="2";sn.pong="3";sn.message="4";sn.upgrade="5";sn.noop="6";const zc=Object.create(null);Object.keys(sn).forEach(t=>{zc[sn[t]]=t});const Bm={type:"error",data:"parser error"},M1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",I1=typeof ArrayBuffer=="function",D1=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Mg=({type:t,data:e},r,n)=>M1&&e instanceof Blob?r?n(e):e0(e,n):I1&&(e instanceof ArrayBuffer||D1(e))?r?n(e):e0(new Blob([e]),n):n(sn[t]+(e||"")),e0=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function t0(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Sf;function k4(t,e){if(M1&&t.data instanceof Blob)return t.data.arrayBuffer().then(t0).then(e);if(I1&&(t.data instanceof ArrayBuffer||D1(t.data)))return e(t0(t.data));Mg(t,!1,r=>{Sf||(Sf=new TextEncoder),e(Sf.encode(r))})}const r0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$o=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<r0.length;t++)$o[r0.charCodeAt(t)]=t;const S4=t=>{let e=t.length*.75,r=t.length,n,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),f=new Uint8Array(u);for(n=0;n<r;n+=4)a=$o[t.charCodeAt(n)],o=$o[t.charCodeAt(n+1)],l=$o[t.charCodeAt(n+2)],c=$o[t.charCodeAt(n+3)],f[s++]=a<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return u},C4=typeof ArrayBuffer=="function",Ig=(t,e)=>{if(typeof t!="string")return{type:"message",data:B1(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:E4(t.substring(1),e)}:zc[r]?t.length>1?{type:zc[r],data:t.substring(1)}:{type:zc[r]}:Bm},E4=(t,e)=>{if(C4){const r=S4(t);return B1(r,e)}else return{base64:!0,data:t}},B1=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},U1="",P4=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((a,o)=>{Mg(a,!1,l=>{n[o]=l,++s===r&&e(n.join(U1))})})},O4=(t,e)=>{const r=t.split(U1),n=[];for(let s=0;s<r.length;s++){const a=Ig(r[s],e);if(n.push(a),a.type==="error")break}return n};function R4(){return new TransformStream({transform(t,e){k4(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let Cf;function yc(t){return t.reduce((e,r)=>e+r.length,0)}function xc(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function T4(t,e){Cf||(Cf=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(yc(r)<1)break;const c=xc(r,1);a=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(yc(r)<2)break;const c=xc(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(yc(r)<8)break;const c=xc(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(Bm);break}s=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(yc(r)<s)break;const c=xc(r,s);l.enqueue(Ig(a?c:Cf.decode(c),e)),n=0}if(s===0||s>t){l.enqueue(Bm);break}}}})}const z1=4;function yt(t){if(t)return A4(t)}function A4(t){for(var e in yt.prototype)t[e]=yt.prototype[e];return t}yt.prototype.on=yt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};yt.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};yt.prototype.off=yt.prototype.removeListener=yt.prototype.removeAllListeners=yt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};yt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};yt.prototype.emitReserved=yt.prototype.emit;yt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};yt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const wd=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),xr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),$4="arraybuffer";function q1(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const L4=xr.setTimeout,F4=xr.clearTimeout;function jd(t,e){e.useNativeTimers?(t.setTimeoutFn=L4.bind(xr),t.clearTimeoutFn=F4.bind(xr)):(t.setTimeoutFn=xr.setTimeout.bind(xr),t.clearTimeoutFn=xr.clearTimeout.bind(xr))}const M4=1.33;function I4(t){return typeof t=="string"?D4(t):Math.ceil((t.byteLength||t.size)*M4)}function D4(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function V1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function B4(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function U4(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class z4 extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Dg extends yt{constructor(e){super(),this.writable=!1,jd(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new z4(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Ig(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=B4(e);return r.length?"?"+r:""}}class q4 extends Dg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};O4(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,P4(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=V1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let W1=!1;try{W1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const V4=W1;function W4(){}class H4 extends q4{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let fa=class qc extends yt{constructor(e,r,n){super(),this.createRequest=e,jd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=q1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=qc.requestsCount++,qc.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=W4,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qc.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};fa.requestsCount=0;fa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",n0);else if(typeof addEventListener=="function"){const t="onpagehide"in xr?"pagehide":"unload";addEventListener(t,n0,!1)}}function n0(){for(let t in fa.requests)fa.requests.hasOwnProperty(t)&&fa.requests[t].abort()}const Z4=function(){const t=H1({xdomain:!1});return t&&t.responseType!==null}();class Q4 extends H4{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Z4&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new fa(H1,this.uri(),e)}}function H1(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||V4))return new XMLHttpRequest}catch{}if(!e)try{return new xr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Z1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class K4 extends Dg{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=Z1?{}:q1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;Mg(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=V1()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Ef=xr.WebSocket||xr.MozWebSocket;class Y4 extends K4{createSocket(e,r,n){return Z1?new Ef(e,r,n):r?new Ef(e,r):new Ef(e)}doWrite(e,r){this.ws.send(r)}}class G4 extends Dg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=T4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=R4();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const J4={websocket:Y4,webtransport:G4,polling:Q4},X4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Um(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=X4.exec(t||""),a={},o=14;for(;o--;)a[eP[o]]=s[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=tP(a,a.path),a.queryKey=rP(a,a.query),a}function tP(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function rP(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(r[s]=a)}),r}const zm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Vc=[];zm&&addEventListener("offline",()=>{Vc.forEach(t=>t())},!1);class ys extends yt{constructor(e,r){if(super(),this.binaryType=$4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Um(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Um(r.host).host);jd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U4(this.opts.query)),zm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Vc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=z1,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ys.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ys.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=I4(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ys.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Vc.indexOf(this._offlineEventListener);n!==-1&&Vc.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}ys.protocol=z1;class nP extends ys{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;ys.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ys.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function a(){n||(n=!0,f(),r.close(),r=null)}const o=d=>{const h=new Error("probe error: "+d);h.transport=r.name,a(),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function c(){o("socket closed")}function u(d){r&&d.name!==r.name&&a()}const f=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let sP=class extends nP{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>J4[s]).filter(s=>!!s)),super(e,n)}};function iP(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Um(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const aP=typeof ArrayBuffer=="function",oP=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Q1=Object.prototype.toString,lP=typeof Blob=="function"||typeof Blob<"u"&&Q1.call(Blob)==="[object BlobConstructor]",cP=typeof File=="function"||typeof File<"u"&&Q1.call(File)==="[object FileConstructor]";function Bg(t){return aP&&(t instanceof ArrayBuffer||oP(t))||lP&&t instanceof Blob||cP&&t instanceof File}function Wc(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Wc(t[r]))return!0;return!1}if(Bg(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Wc(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Wc(t[r]))return!0;return!1}function uP(t){const e=[],r=t.data,n=t;return n.data=qm(r,e),n.attachments=e.length,{packet:n,buffers:e}}function qm(t,e){if(!t)return t;if(Bg(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=qm(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=qm(t[n],e));return r}return t}function dP(t,e){return t.data=Vm(t.data,e),delete t.attachments,t}function Vm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Vm(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Vm(t[r],e));return t}const fP=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hP=5;var Fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Fe||(Fe={}));class mP{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Wc(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=uP(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function s0(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ug extends yt{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Fe.BINARY_EVENT;n||r.type===Fe.BINARY_ACK?(r.type=n?Fe.EVENT:Fe.ACK,this.reconstructor=new pP(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Bg(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Fe.BINARY_EVENT||n.type===Fe.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(Ug.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Fe.CONNECT:return s0(r);case Fe.DISCONNECT:return r===void 0;case Fe.CONNECT_ERROR:return typeof r=="string"||s0(r);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&fP.indexOf(r[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pP{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=dP(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ug,Encoder:mP,get PacketType(){return Fe},protocol:hP},Symbol.toStringTag,{value:"Module"}));function Ar(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const yP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class K1 extends yt{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ar(e,"open",this.onopen.bind(this)),Ar(e,"packet",this.onpacket.bind(this)),Ar(e,"error",this.onerror.bind(this)),Ar(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,a;if(yP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Fe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,d=r.pop();this._registerAckCallback(f,d),o.id=f}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const a=(o,l)=>o?s(o):n(l);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Fe.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function io(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}io.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};io.prototype.reset=function(){this.attempts=0};io.prototype.setMin=function(t){this.ms=t};io.prototype.setMax=function(t){this.max=t};io.prototype.setJitter=function(t){this.jitter=t};class Wm extends yt{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,jd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new io({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||gP;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new sP(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Ar(r,"open",function(){n.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ar(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ar(e,"ping",this.onping.bind(this)),Ar(e,"data",this.ondata.bind(this)),Ar(e,"error",this.onerror.bind(this)),Ar(e,"close",this.onclose.bind(this)),Ar(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){wd(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new K1(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _o={};function Hc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=iP(t,e.path||"/socket.io"),n=r.source,s=r.id,a=r.path,o=_o[s]&&a in _o[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Wm(n,e):(_o[s]||(_o[s]=new Wm(n,e)),c=_o[s]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Hc,{Manager:Wm,Socket:K1,io:Hc,connect:Hc});const Pf={user_id:null,is_authenticated:!1,is_host:!1,token:null,display_name:null,profile_photo_url:null,superhost_status:!1,unread_message_count:0,last_active_at:null},i0={location:"",checkin_date:null,checkout_date:null,num_guests:1,filters:{price_min:null,price_max:null,bedrooms:null,beds:null,bathrooms:null,amenities:[],is_beachfront:null,is_pet_friendly:null,is_instant_book:null},sort:"recommended",page:1},Of={items:[],unread_count:0},Rf={threads:[]},Tf={villa_id:null,checkin_date:null,checkout_date:null,num_guests:1,guest_details:{name:"",email:"",phone:null,special_requests:null},price_summary:{nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0},status:"idle"},Af={wishlists:[]},$f={villas:[],revenue_summary:{total:0,upcoming:0},notifications:[]},a0={booking_id:null,villa_id:null,is_open:!1,type:null},ie=L1()(F1((t,e)=>({user_session:{...Pf},set_user_session:r=>t(n=>({user_session:{...n.user_session,...r}})),reset_user_session:()=>t(()=>({user_session:{...Pf}})),logout:()=>{t({user_session:{...Pf},notifications:{...Of},messaging_threads:{...Rf},wishlist_state:{...Af},booking_cart:{...Tf},host_dashboard_state:{...$f}}),e().disconnect_socket()},search_state:{...i0},set_search_state:r=>t(n=>({search_state:{...n.search_state,...r}})),reset_search_state:()=>t(()=>({search_state:{...i0}})),notifications:{...Of},set_notifications:r=>t(()=>({notifications:r})),add_notification:r=>t(n=>({notifications:{...n.notifications,items:[r,...n.notifications.items],unread_count:n.notifications.unread_count+(r.is_read?0:1)}})),mark_notification_read:r=>t(n=>{const s=n.notifications.items.map(o=>o.id===r?{...o,is_read:!0}:o),a=s.reduce((o,l)=>l.is_read?o:o+1,0);return{notifications:{items:s,unread_count:a}}}),reset_notifications:()=>t(()=>({notifications:{...Of}})),messaging_threads:{...Rf},set_messaging_threads:r=>t(()=>({messaging_threads:r})),add_message_thread:r=>t(n=>({messaging_threads:{...n.messaging_threads,threads:[r,...n.messaging_threads.threads.filter(s=>s.thread_id!==r.thread_id)]}})),update_message_thread:(r,n)=>t(s=>({messaging_threads:{...s.messaging_threads,threads:s.messaging_threads.threads.map(a=>a.thread_id===r?{...a,...n}:a)}})),reset_messaging_threads:()=>t(()=>({messaging_threads:{...Rf}})),booking_cart:{...Tf},set_booking_cart:r=>t(n=>({booking_cart:{...n.booking_cart,...r}})),reset_booking_cart:()=>t(()=>({booking_cart:{...Tf}})),wishlist_state:{...Af},set_wishlist_state:r=>t(()=>({wishlist_state:r})),reset_wishlist_state:()=>t(()=>({wishlist_state:{...Af}})),host_dashboard_state:{...$f},set_host_dashboard_state:r=>t(n=>({host_dashboard_state:{...n.host_dashboard_state,...r}})),reset_host_dashboard_state:()=>t(()=>({host_dashboard_state:{...$f}})),review_modal_state:{...a0},set_review_modal_state:r=>t(n=>({review_modal_state:{...n.review_modal_state,...r}})),reset_review_modal_state:()=>t(()=>({review_modal_state:{...a0}})),socket_connected:!1,last_event_received:null,connect_socket:r=>{if(typeof window>"u"||(e().disconnect_socket(),!r))return;const s=Hc("https://123testing-project-yes-api.launchpulse.ai/api",{auth:{token:r},autoConnect:!0,transports:["websocket"]});s.on("connect",()=>t({socket_connected:!0})),s.on("disconnect",()=>t({socket_connected:!1})),s.on("notification_new",a=>{t(o=>({last_event_received:{type:"notification_new",payload:a},notifications:{...o.notifications,items:[a,...o.notifications.items],unread_count:(o.notifications.unread_count||0)+1}}))}),s.on("message_new",a=>{t(o=>{let l=o.messaging_threads.threads.slice();const c=l.findIndex(u=>u.thread_id===a.thread_id);if(c!==-1){const u=l[c];l[c]={...u,last_message_preview:a.content,updated_at:a.sent_at,unread_count:(u.unread_count||0)+1}}return{last_event_received:{type:"message_new",payload:a},messaging_threads:{threads:l}}})}),s.on("thread_unread_update",a=>{t(o=>{let l=o.messaging_threads.threads.slice();const c=l.findIndex(u=>u.thread_id===a.thread_id);return c!==-1&&(l[c]={...l[c],unread_count:a.unread_count}),{last_event_received:{type:"thread_unread_update",payload:a},messaging_threads:{threads:l}}})}),e()._socket=s},disconnect_socket:()=>{if(typeof window>"u")return;const r=e();r._socket&&(r._socket.disconnect(),r._socket=null),t({socket_connected:!1})}}),{name:"beachstay-villas-store",partialize:t=>{const{_socket:e,connect_socket:r,disconnect_socket:n,...s}=t;return s}}));var xP=Object.defineProperty,vP=(t,e,r)=>e in t?xP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lf=(t,e,r)=>(vP(t,typeof e!="symbol"?e+"":e,r),r);let _P=class{constructor(){Lf(this,"current",this.detect()),Lf(this,"handoffState","pending"),Lf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zc=new _P;function bP(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Nd(){let t=[],e={addEventListener(r,n,s,a){return r.addEventListener(n,s,a),e.add(()=>r.removeEventListener(n,s,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return bP(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=Nd();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}function Y1(){let[t]=w.useState(Nd);return w.useEffect(()=>()=>t.dispose(),[t]),t}let xs=(t,e)=>{Zc.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function G1(t){let e=w.useRef(t);return xs(()=>{e.current=t},[t]),e}let xn=function(t){let e=G1(t);return ge.useCallback((...r)=>e.current(...r),[e])};function Hm(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function kd(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kd),n}var J1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(J1||{}),is=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(is||{});function X1(){let t=jP();return w.useCallback(e=>wP({mergeRefs:t,...e}),[t])}function wP({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:s,visible:a=!0,name:o,mergeRefs:l}){l=l??NP;let c=ej(e,t);if(a)return vc(c,r,n,o,l);let u=s??0;if(u&2){let{static:f=!1,...d}=c;if(f)return vc(d,r,n,o,l)}if(u&1){let{unmount:f=!0,...d}=c;return kd(f?0:1,{0(){return null},1(){return vc({...d,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return vc(c,r,n,o,l)}function vc(t,e={},r,n,s){let{as:a=r,children:o,refName:l="ref",...c}=Ff(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},f=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(e){let h=!1,v=[];for(let[g,y]of Object.entries(e))typeof y=="boolean"&&(h=!0),y===!0&&v.push(g.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(h){d["data-headlessui-state"]=v.join(" ");for(let g of v)d[`data-${g}`]=""}}if(a===w.Fragment&&(Object.keys(zs(c)).length>0||Object.keys(zs(d)).length>0))if(!w.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(zs(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(zs(c)).concat(Object.keys(zs(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,v=h==null?void 0:h.className,g=typeof v=="function"?(...p)=>Hm(v(...p),c.className):Hm(v,c.className),y=g?{className:g}:{},_=ej(f.props,zs(Ff(c,["ref"])));for(let p in d)p in _&&delete d[p];return w.cloneElement(f,Object.assign({},_,d,u,{ref:s(kP(f),u.ref)},y))}return w.createElement(a,Object.assign({},Ff(c,["ref"]),a!==w.Fragment&&u,a!==w.Fragment&&d),f)}function jP(){let t=w.useRef([]),e=w.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function NP(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function ej(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let n in r)Object.assign(e,{[n](s,...a){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...a)}}});return e}function zg(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function zs(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function Ff(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function kP(t){return ge.version.split(".")[0]>="19"?t.props.ref:t.ref}let SP=Symbol();function tj(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=xn(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return t.every(n=>n==null||(n==null?void 0:n[SP]))?void 0:r}function CP(t=0){let[e,r]=w.useState(t),n=w.useCallback(c=>r(c),[e]),s=w.useCallback(c=>r(u=>u|c),[e]),a=w.useCallback(c=>(e&c)===c,[e]),o=w.useCallback(c=>r(u=>u&~c),[r]),l=w.useCallback(c=>r(u=>u^c),[r]);return{flags:e,setFlag:n,addFlag:s,hasFlag:a,removeFlag:o,toggleFlag:l}}var EP={},o0,l0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((o0=process==null?void 0:EP)==null?void 0:o0.NODE_ENV)==="test"&&typeof((l0=Element==null?void 0:Element.prototype)==null?void 0:l0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var PP=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(PP||{});function OP(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function RP(t,e,r,n){let[s,a]=w.useState(r),{hasFlag:o,addFlag:l,removeFlag:c}=CP(t&&s?3:0),u=w.useRef(!1),f=w.useRef(!1),d=Y1();return xs(()=>{var h;if(t){if(r&&a(!0),!e){r&&l(3);return}return(h=n==null?void 0:n.start)==null||h.call(n,r),TP(e,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(r?(l(3),c(4)):(l(4),c(2)))},run(){f.current?r?(c(3),l(4)):(c(4),l(3)):r?c(1):l(1)},done(){var v;f.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,c(7),r||a(!1),(v=n==null?void 0:n.end)==null||v.call(n,r))}})}},[t,r,e,d]),t?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function TP(t,{prepare:e,run:r,done:n,inFlight:s}){let a=Nd();return $P(t,{prepare:e,inFlight:s}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(AP(t,n))})}),a.dispose}function AP(t,e){var r,n;let s=Nd();if(!t)return s.dispose;let a=!1;s.add(()=>{a=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{a||e()}),s.dispose)}function $P(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}let qg=w.createContext(null);qg.displayName="OpenClosedContext";var Ys=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ys||{});function rj(){return w.useContext(qg)}function LP({value:t,children:e}){return ge.createElement(qg.Provider,{value:t},e)}function FP(){let t=typeof document>"u";return"useSyncExternalStore"in ph?(e=>e.useSyncExternalStore)(ph)(()=>()=>{},()=>!1,()=>!t):!1}function nj(){let t=FP(),[e,r]=w.useState(Zc.isHandoffComplete);return e&&Zc.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>Zc.handoff(),[]),t?!1:e}function MP(){let t=w.useRef(!1);return xs(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function sj(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:aj)!==w.Fragment||ge.Children.count(t.children)===1}let Sd=w.createContext(null);Sd.displayName="TransitionContext";var IP=(t=>(t.Visible="visible",t.Hidden="hidden",t))(IP||{});function DP(){let t=w.useContext(Sd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function BP(){let t=w.useContext(Cd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Cd=w.createContext(null);Cd.displayName="NestingContext";function Ed(t){return"children"in t?Ed(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ij(t,e){let r=G1(t),n=w.useRef([]),s=MP(),a=Y1(),o=xn((v,g=is.Hidden)=>{let y=n.current.findIndex(({el:_})=>_===v);y!==-1&&(kd(g,{[is.Unmount](){n.current.splice(y,1)},[is.Hidden](){n.current[y].state="hidden"}}),a.microTask(()=>{var _;!Ed(n)&&s.current&&((_=r.current)==null||_.call(r))}))}),l=xn(v=>{let g=n.current.find(({el:y})=>y===v);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,is.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),f=w.useRef({enter:[],leave:[]}),d=xn((v,g,y)=>{c.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([_])=>_!==v)),e==null||e.chains.current[g].push([v,new Promise(_=>{c.current.push(_)})]),e==null||e.chains.current[g].push([v,new Promise(_=>{Promise.all(f.current[g].map(([p,x])=>x)).then(()=>_())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(g)):y(g)}),h=xn((v,g,y)=>{Promise.all(f.current[g].splice(0).map(([_,p])=>p)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>y(g))});return w.useMemo(()=>({children:n,register:l,unregister:o,onStart:d,onStop:h,wait:u,chains:f}),[l,o,n,d,h,f,u])}let aj=w.Fragment,oj=J1.RenderStrategy;function UP(t,e){var r,n;let{transition:s=!0,beforeEnter:a,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:f,enterTo:d,entered:h,leave:v,leaveFrom:g,leaveTo:y,..._}=t,[p,x]=w.useState(null),m=w.useRef(null),b=sj(t),S=tj(...b?[m,e,x]:e===null?[]:[e]),T=(r=_.unmount)==null||r?is.Unmount:is.Hidden,{show:P,appear:A,initial:F}=DP(),[U,V]=w.useState(P?"visible":"hidden"),Q=BP(),{register:E,unregister:L}=Q;xs(()=>E(m),[E,m]),xs(()=>{if(T===is.Hidden&&m.current){if(P&&U!=="visible"){V("visible");return}return kd(U,{hidden:()=>L(m),visible:()=>E(m)})}},[U,m,E,L,P,T]);let C=nj();xs(()=>{if(b&&C&&U==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,U,C,b]);let j=F&&!A,N=A&&P&&F,R=w.useRef(!1),M=ij(()=>{R.current||(V("hidden"),L(m))},Q),z=xn(se=>{R.current=!0;let Ce=se?"enter":"leave";M.onStart(m,Ce,xe=>{xe==="enter"?a==null||a():xe==="leave"&&(l==null||l())})}),re=xn(se=>{let Ce=se?"enter":"leave";R.current=!1,M.onStop(m,Ce,xe=>{xe==="enter"?o==null||o():xe==="leave"&&(c==null||c())}),Ce==="leave"&&!Ed(M)&&(V("hidden"),L(m))});w.useEffect(()=>{b&&s||(z(P),re(P))},[P,b,s]);let K=!(!s||!b||!C||j),[,$]=RP(K,p,P,{start:z,end:re}),Z=zs({ref:S,className:((n=Hm(_.className,N&&u,N&&f,$.enter&&u,$.enter&&$.closed&&f,$.enter&&!$.closed&&d,$.leave&&v,$.leave&&!$.closed&&g,$.leave&&$.closed&&y,!$.transition&&P&&h))==null?void 0:n.trim())||void 0,...OP($)}),X=0;U==="visible"&&(X|=Ys.Open),U==="hidden"&&(X|=Ys.Closed),P&&U==="hidden"&&(X|=Ys.Opening),!P&&U==="visible"&&(X|=Ys.Closing);let I=X1();return ge.createElement(Cd.Provider,{value:M},ge.createElement(LP,{value:X},I({ourProps:Z,theirProps:_,defaultTag:aj,features:oj,visible:U==="visible",name:"Transition.Child"})))}function zP(t,e){let{show:r,appear:n=!1,unmount:s=!0,...a}=t,o=w.useRef(null),l=sj(t),c=tj(...l?[o,e]:e===null?[]:[e]);nj();let u=rj();if(r===void 0&&u!==null&&(r=(u&Ys.Open)===Ys.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=w.useState(r?"visible":"hidden"),h=ij(()=>{r||d("hidden")}),[v,g]=w.useState(!0),y=w.useRef([r]);xs(()=>{v!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),g(!1))},[y,r]);let _=w.useMemo(()=>({show:r,appear:n,initial:v}),[r,n,v]);xs(()=>{r?d("visible"):!Ed(h)&&o.current!==null&&d("hidden")},[r,h]);let p={unmount:s},x=xn(()=>{var S;v&&g(!1),(S=t.beforeEnter)==null||S.call(t)}),m=xn(()=>{var S;v&&g(!1),(S=t.beforeLeave)==null||S.call(t)}),b=X1();return ge.createElement(Cd.Provider,{value:h},ge.createElement(Sd.Provider,{value:_},b({ourProps:{...p,as:w.Fragment,children:ge.createElement(lj,{ref:c,...p,...a,beforeEnter:x,beforeLeave:m})},theirProps:{},defaultTag:w.Fragment,features:oj,visible:f==="visible",name:"Transition"})))}function qP(t,e){let r=w.useContext(Sd)!==null,n=rj()!==null;return ge.createElement(ge.Fragment,null,!r&&n?ge.createElement(Zm,{ref:e,...t}):ge.createElement(lj,{ref:e,...t}))}let Zm=zg(zP),lj=zg(UP),VP=zg(qP),c0=Object.assign(Zm,{Child:VP,Root:Zm});function Ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ji(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const cj=6048e5,WP=864e5;let HP={};function Pd(){return HP}function bl(t,e){var l,c,u,f;const r=Pd(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Ur(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function $u(t){return bl(t,{weekStartsOn:1})}function uj(t){const e=Ur(t),r=e.getFullYear(),n=ji(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=$u(n),a=ji(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=$u(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function u0(t){const e=Ur(t);return e.setHours(0,0,0,0),e}function d0(t){const e=Ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ZP(t,e){const r=u0(t),n=u0(e),s=+r-d0(r),a=+n-d0(n);return Math.round((s-a)/WP)}function QP(t){const e=uj(t),r=ji(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),$u(r)}function KP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function YP(t){if(!KP(t)&&typeof t!="number")return!1;const e=Ur(t);return!isNaN(Number(e))}function GP(t){const e=Ur(t),r=ji(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const JP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XP=(t,e,r)=>{let n;const s=JP[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const eO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nO={date:Mf({formats:eO,defaultWidth:"full"}),time:Mf({formats:tO,defaultWidth:"full"}),dateTime:Mf({formats:rO,defaultWidth:"full"})},sO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iO=(t,e,r,n)=>sO[t];function bo(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const aO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fO=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hO={ordinalNumber:fO,era:bo({values:aO,defaultWidth:"wide"}),quarter:bo({values:oO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bo({values:lO,defaultWidth:"wide"}),day:bo({values:cO,defaultWidth:"wide"}),dayPeriod:bo({values:uO,defaultWidth:"wide",formattingValues:dO,defaultFormattingWidth:"wide"})};function wo(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?pO(l,d=>d.test(o)):mO(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function mO(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function pO(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function gO(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const yO=/^(\d+)(th|st|nd|rd)?/i,xO=/\d+/i,vO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_O={any:[/^b/i,/^(a|c)/i]},bO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wO={any:[/1/i,/2/i,/3/i,/4/i]},jO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PO={ordinalNumber:gO({matchPattern:yO,parsePattern:xO,valueCallback:t=>parseInt(t,10)}),era:wo({matchPatterns:vO,defaultMatchWidth:"wide",parsePatterns:_O,defaultParseWidth:"any"}),quarter:wo({matchPatterns:bO,defaultMatchWidth:"wide",parsePatterns:wO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wo({matchPatterns:jO,defaultMatchWidth:"wide",parsePatterns:NO,defaultParseWidth:"any"}),day:wo({matchPatterns:kO,defaultMatchWidth:"wide",parsePatterns:SO,defaultParseWidth:"any"}),dayPeriod:wo({matchPatterns:CO,defaultMatchWidth:"any",parsePatterns:EO,defaultParseWidth:"any"})},OO={code:"en-US",formatDistance:XP,formatLong:nO,formatRelative:iO,localize:hO,match:PO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RO(t){const e=Ur(t);return ZP(e,GP(e))+1}function TO(t){const e=Ur(t),r=+$u(e)-+QP(e);return Math.round(r/cj)+1}function dj(t,e){var f,d,h,v;const r=Ur(t),n=r.getFullYear(),s=Pd(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,o=ji(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=bl(o,e),c=ji(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=bl(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function AO(t,e){var l,c,u,f;const r=Pd(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=dj(t,e),a=ji(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),bl(a,e)}function $O(t,e){const r=Ur(t),n=+bl(r,e)-+AO(r,e);return Math.round(n/cj)+1}function He(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const An={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return He(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):He(r+1,2)},d(t,e){return He(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return He(t.getHours()%12||12,e.length)},H(t,e){return He(t.getHours(),e.length)},m(t,e){return He(t.getMinutes(),e.length)},s(t,e){return He(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return He(s,e.length)}},Ui={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f0={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return An.y(t,e)},Y:function(t,e,r,n){const s=dj(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return He(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):He(a,e.length)},R:function(t,e){const r=uj(t);return He(r,e.length)},u:function(t,e){const r=t.getFullYear();return He(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return He(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return He(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return An.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return He(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=$O(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):He(s,e.length)},I:function(t,e,r){const n=TO(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):He(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):An.d(t,e)},D:function(t,e,r){const n=RO(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):He(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return He(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return He(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return He(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Ui.noon:n===0?s=Ui.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Ui.evening:n>=12?s=Ui.afternoon:n>=4?s=Ui.morning:s=Ui.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return An.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):An.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):He(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):He(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):An.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):An.s(t,e)},S:function(t,e){return An.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return m0(n);case"XXXX":case"XX":return qs(n);case"XXXXX":case"XXX":default:return qs(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return m0(n);case"xxxx":case"xx":return qs(n);case"xxxxx":case"xxx":default:return qs(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+h0(n,":");case"OOOO":default:return"GMT"+qs(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+h0(n,":");case"zzzz":default:return"GMT"+qs(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return He(n,e.length)},T:function(t,e,r){const n=t.getTime();return He(n,e.length)}};function h0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+He(a,2)}function m0(t,e){return t%60===0?(t>0?"-":"+")+He(Math.abs(t)/60,2):qs(t,e)}function qs(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=He(Math.trunc(n/60),2),a=He(n%60,2);return r+s+e+a}const p0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LO=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return p0(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",p0(n,e)).replace("{{time}}",fj(s,e))},FO={p:fj,P:LO},MO=/^D+$/,IO=/^Y+$/,DO=["D","DD","YY","YYYY"];function BO(t){return MO.test(t)}function UO(t){return IO.test(t)}function zO(t,e,r){const n=qO(t,e,r);if(console.warn(n),DO.includes(t))throw new RangeError(n)}function qO(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HO=/^'([^]*?)'?$/,ZO=/''/g,QO=/[a-zA-Z]/;function g0(t,e,r){var f,d,h,v;const n=Pd(),s=n.locale??OO,a=n.firstWeekContainsDate??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(h=n.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,l=Ur(t);if(!YP(l))throw new RangeError("Invalid time value");let c=e.match(WO).map(g=>{const y=g[0];if(y==="p"||y==="P"){const _=FO[y];return _(g,s.formatLong)}return g}).join("").match(VO).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:KO(g)};if(f0[y])return{isToken:!0,value:g};if(y.match(QO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(UO(y)||BO(y))&&zO(y,e,String(t));const _=f0[y[0]];return _(l,y,s.localize,u)}).join("")}function KO(t){const e=t.match(HO);return e?e[1].replace(ZO,"'"):t}var hj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y0=ge.createContext&&ge.createContext(hj),YO=["attr","size","title"];function GO(t,e){if(t==null)return{};var r=JO(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JO(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function x0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x0(Object(r),!0).forEach(function(n){XO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XO(t,e,r){return e=eR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eR(t){var e=tR(t,"string");return typeof e=="symbol"?e:e+""}function tR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mj(t){return t&&t.map((e,r)=>ge.createElement(e.tag,Fu({key:r},e.attr),mj(e.child)))}function ao(t){return e=>ge.createElement(rR,Lu({attr:Fu({},t.attr)},e),mj(t.child))}function rR(t){var e=r=>{var{attr:n,size:s,title:a}=t,o=GO(t,YO),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),ge.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Fu(Fu({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&ge.createElement("title",null,a),t.children)};return y0!==void 0?ge.createElement(y0.Consumer,null,r=>e(r)):e(hj)}function nR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(t)}function sR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},child:[]}]})(t)}function v0(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function iR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(t)}function aR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function oR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}const lR=t=>`https://picsum.photos/seed/beachstay_user_${t}/40`,cR=()=>{const t=ie(E=>E.user_session.is_authenticated),e=ie(E=>E.user_session.is_host),r=ie(E=>E.user_session.display_name),n=ie(E=>E.user_session.profile_photo_url),s=ie(E=>E.user_session.superhost_status),a=ie(E=>E.user_session.unread_message_count),o=ie(E=>E.user_session.user_id),l=ie(E=>E.search_state),c=ie(E=>E.set_search_state);ie(E=>E.reset_search_state);const u=ie(E=>E.logout),f=et(),d=Br(),[h,v]=w.useState(l.location||""),[g,y]=w.useState(l.checkin_date||null),[_,p]=w.useState(l.checkout_date||null),[x,m]=w.useState(l.num_guests||1),[b,S]=w.useState(!1),[T,P]=w.useState(!1),A=w.useRef(null),F=w.useRef(null);w.useEffect(()=>{S(!1),P(!1),v(l.location||""),y(l.checkin_date||null),p(l.checkout_date||null),m(l.num_guests||1)},[d.pathname,l.location,l.checkin_date,l.checkout_date,l.num_guests]),w.useEffect(()=>{if(T&&F.current){const E=F.current.querySelector('[role="menuitem"]');E&&E.focus()}},[T]),w.useEffect(()=>{function E(C){T&&A.current&&!A.current.contains(C.target)&&F.current&&!F.current.contains(C.target)&&P(!1)}function L(C){if(T&&C.key==="Escape"&&(P(!1),A.current&&A.current.focus()),T&&F.current&&C.key==="Tab"){const j=Array.from(F.current.querySelectorAll('[role="menuitem"]'));if(j.length===0)return;const N=j[0],R=j[j.length-1];C.shiftKey&&document.activeElement===N?(C.preventDefault(),R.focus()):!C.shiftKey&&document.activeElement===R&&(C.preventDefault(),N.focus())}}return document.addEventListener("mousedown",E),document.addEventListener("keydown",L),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("keydown",L)}},[T]);const U=E=>{E.preventDefault(),c({...l,location:h,checkin_date:g||null,checkout_date:_||null,num_guests:x,page:1});const L=new URLSearchParams;h&&L.set("location",h),g&&L.set("checkin_date",g),_&&L.set("checkout_date",_),x>0&&L.set("num_guests",String(x));const{filters:C,sort:j}=l||{};C&&(C.price_min!==null&&L.set("price_min",String(C.price_min)),C.price_max!==null&&L.set("price_max",String(C.price_max)),C.bedrooms!==null&&L.set("bedrooms",String(C.bedrooms)),C.beds!==null&&L.set("beds",String(C.beds)),C.bathrooms!==null&&L.set("bathrooms",String(C.bathrooms)),Array.isArray(C.amenities)&&C.amenities.length>0&&L.set("amenities",C.amenities.join(",")),C.is_beachfront!==null&&L.set("is_beachfront",String(C.is_beachfront)),C.is_pet_friendly!==null&&L.set("is_pet_friendly",String(C.is_pet_friendly)),C.is_instant_book!==null&&L.set("is_instant_book",String(C.is_instant_book))),j&&L.set("sort",j),f(`/search?${L.toString()}`)},V=()=>{u(),f("/")},Q=i.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg z-40 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",tabIndex:-1,ref:F,children:t?i.jsxs(i.Fragment,{children:[e?i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/host/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Host Dashboard"}),i.jsx(q,{to:"/host/profile/edit",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Edit Profile"}),i.jsxs(q,{to:"/messaging",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:["Inbox ",a>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-500 text-white rounded-full text-xs",children:a})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/guest/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Guest Dashboard"}),i.jsx(q,{to:"/guest/my-trips",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"My Trips"}),i.jsx(q,{to:"/guest/wishlists",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Wishlists"}),i.jsxs(q,{to:"/messaging",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:["Inbox ",a>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-500 text-white rounded-full text-xs",children:a})]}),i.jsx(q,{to:"/guest/profile/edit",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Edit Profile"})]}),i.jsx("button",{onClick:V,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",role:"menuitem",tabIndex:0,children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(v0,{className:"mr-2"})," Log Out"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/guest/login",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Log In"}),i.jsx(q,{to:"/guest/signup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Sign Up"})]})});return i.jsx(i.Fragment,{children:i.jsxs("nav",{className:"w-full z-30 border-b border-slate-100 sticky top-0 bg-white",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 space-x-2",children:i.jsxs(q,{to:"/",className:"flex items-center flex-shrink-0 group",children:[i.jsx("span",{className:"inline-block bg-gradient-to-br from-blue-400 to-sky-600 rounded-lg p-1",children:i.jsx(nR,{className:"h-7 w-7 text-white drop-shadow-md"})}),i.jsx("span",{className:"ml-2 text-xl tracking-wide font-bold text-slate-800 group-hover:text-sky-600 transition",children:"BeachStay Villas"})]})}),i.jsx("form",{onSubmit:U,className:"hidden md:flex flex-1 justify-center mx-4","aria-label":"Villa search",children:i.jsxs("div",{className:"flex bg-gray-50 border border-gray-300 rounded-full shadow-sm overflow-hidden py-1 px-2 w-full max-w-xl items-center",children:[i.jsx("input",{type:"text",name:"location",value:h,onChange:E=>v(E.target.value),placeholder:"Search location (e.g. Cancun Beach)",className:"flex-1 py-1 px-3 text-gray-800 bg-transparent focus:outline-none focus:placeholder:text-gray-500","aria-label":"Location",autoComplete:"off"}),i.jsx("input",{type:"date",name:"checkin",value:g||"",onChange:E=>y(E.target.value||null),className:"w-32 mr-1 bg-transparent text-gray-700 focus:outline-none cursor-pointer","aria-label":"Check-in",min:g0(new Date,"yyyy-MM-dd")}),i.jsx("input",{type:"date",name:"checkout",value:_||"",onChange:E=>p(E.target.value||null),className:"w-32 mr-1 bg-transparent text-gray-700 focus:outline-none cursor-pointer","aria-label":"Check-out",min:g||g0(new Date,"yyyy-MM-dd")}),i.jsx("input",{type:"number",name:"num_guests",min:1,max:64,value:x,onChange:E=>m(Math.max(1,Number(E.target.value))),className:"w-16 mx-1 text-center bg-transparent text-gray-700 focus:outline-none","aria-label":"Guests","aria-valuemin":1}),i.jsx("button",{type:"submit",className:"ml-2 flex-shrink-0 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-1.5 ml-2 transition focus:ring ring-blue-300","aria-label":"Search",children:"Search"})]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(q,{to:"/host/onboarding",className:"hidden md:inline-flex px-4 py-2 bg-sky-600 text-white font-semibold rounded-full hover:bg-sky-700 transition whitespace-nowrap",children:"List Your Villa"}),t&&i.jsxs(q,{to:"/messaging",className:"relative flex items-center justify-center text-sky-600 hover:text-sky-700 focus:outline-none mx-1","aria-label":"Inbox",children:[i.jsx(sR,{className:"w-7 h-7"}),a>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 font-bold",children:a})]}),i.jsxs("div",{className:"relative ml-2",children:[i.jsx("button",{ref:A,onClick:()=>P(E=>!E),className:"flex items-center focus:outline-none focus:ring-2 rounded-full group",id:"user-menu","aria-label":"User Profile menu","aria-haspopup":"true","aria-expanded":T,children:t?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:n||lR(o||"default"),alt:"Profile",className:"h-9 w-9 rounded-full object-cover border border-gray-200"}),i.jsx("span",{className:"ml-2 font-semibold text-base text-slate-800 group-hover:text-blue-700 transition",children:r}),s&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs rounded bg-yellow-300 text-yellow-800 font-semibold border border-yellow-500 ml-1",title:"Superhost",children:"Superhost"})]}):i.jsx(i.Fragment,{children:i.jsx(aR,{className:"h-9 w-9 text-gray-400"})})}),i.jsx(c0,{show:T,as:ge.Fragment,enter:"transition ease-out duration-150",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-100",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:i.jsx("div",{style:{minWidth:200},children:Q})})]}),i.jsx("button",{className:"ml-2 p-2 rounded-md md:hidden border border-gray-200 focus:outline-none hover:bg-gray-50",onClick:()=>S(!b),"aria-label":"Open Mobile Menu",children:b?i.jsx(oR,{className:"w-7 h-7"}):i.jsx(iR,{className:"w-7 h-7"})})]})]}),i.jsx(c0,{show:b,as:ge.Fragment,enter:"transition ease-out duration-150",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-100",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:i.jsxs("div",{className:"md:hidden bg-white border-t border-gray-100 px-3 py-4 shadow-lg",children:[i.jsx("form",{onSubmit:U,className:"mb-4",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("input",{type:"text",name:"location",value:h,onChange:E=>v(E.target.value),placeholder:"Search location",className:"bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-gray-800 focus:outline-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"date",name:"checkin",value:g||"",onChange:E=>y(E.target.value||null),className:"bg-gray-50 border border-gray-300 rounded-md px-2 py-1 flex-1","aria-label":"Check-in"}),i.jsx("input",{type:"date",name:"checkout",value:_||"",onChange:E=>p(E.target.value||null),className:"bg-gray-50 border border-gray-300 rounded-md px-2 py-1 flex-1","aria-label":"Check-out"})]}),i.jsx("input",{type:"number",name:"num_guests",min:1,value:x,onChange:E=>m(Math.max(1,Number(E.target.value))),className:"bg-gray-50 border border-gray-300 rounded-md px-2 py-1 w-20","aria-label":"Guests"}),i.jsx("button",{type:"submit",className:"mt-2 rounded-md bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 w-full","aria-label":"Search",children:"Search"})]})}),i.jsxs("div",{className:"flex flex-col gap-2 px-1",children:[i.jsx(q,{to:"/",className:"py-2 text-lg font-medium text-sky-600 hover:underline",onClick:()=>S(!1),children:"Home"}),i.jsx(q,{to:"/host/onboarding",className:"py-2 text-lg font-medium text-blue-600 hover:underline",onClick:()=>S(!1),children:"List Your Villa"}),t?i.jsxs(i.Fragment,{children:[e?i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/host/dashboard",className:"py-2 text-base text-gray-700",onClick:()=>S(!1),children:"Host Dashboard"}),i.jsx(q,{to:"/host/profile/edit",className:"py-2 text-base text-gray-700",onClick:()=>S(!1),children:"Edit Profile"})]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/guest/dashboard",className:"py-2 text-base text-gray-700",onClick:()=>S(!1),children:"Guest Dashboard"}),i.jsx(q,{to:"/guest/my-trips",className:"py-2 text-base text-gray-700",onClick:()=>S(!1),children:"My Trips"}),i.jsx(q,{to:"/guest/wishlists",className:"py-2 text-base text-gray-700",onClick:()=>S(!1),children:"Wishlists"}),i.jsx(q,{to:"/guest/profile/edit",className:"py-2 text-base text-gray-700",onClick:()=>S(!1),children:"Edit Profile"})]}),i.jsxs(q,{to:"/messaging",className:"flex items-center py-2 text-base text-gray-700",onClick:()=>S(!1),children:[i.jsx("span",{children:"Inbox"}),a>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-500 text-white rounded-full text-xs",children:a})]}),i.jsxs("button",{className:"py-2 text-base text-red-600 flex items-center",onClick:()=>{S(!1),V()},children:[i.jsx(v0,{className:"mr-2"})," Log Out"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/guest/login",className:"py-2 text-blue-500",onClick:()=>S(!1),children:"Log In"}),i.jsx(q,{to:"/guest/signup",className:"py-2 text-blue-500",onClick:()=>S(!1),children:"Sign Up"})]})]})]})})]})})},uR=[{label:"About",url:"/info/about"},{label:"Privacy Policy",url:"/info/privacy"},{label:"Terms of Service",url:"/info/terms"},{label:"Contact",url:"/info/contact"}],dR=[{icon:"instagram",url:"https://instagram.com/beachstay"},{icon:"facebook",url:"https://facebook.com/beachstay"},{icon:"twitter",url:"https://twitter.com/beachstay"}],fR="© 2024 BeachStay Villas",hR=({icon:t,className:e="w-6 h-6"})=>{switch(t){case"instagram":return i.jsxs("svg",{className:e,"aria-label":"Instagram",fill:"none",viewBox:"0 0 24 24",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"22",height:"22",x:"1",y:"1",rx:"6",fill:"none",stroke:"#374151",strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#374151",strokeWidth:"2",fill:"none"}),i.jsx("circle",{cx:"17.5",cy:"6.5",r:"1",fill:"#374151"})]});case"facebook":return i.jsxs("svg",{className:e,"aria-label":"Facebook",viewBox:"0 0 24 24",fill:"none",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"22",height:"22",x:"1",y:"1",rx:"6",fill:"none",stroke:"#374151",strokeWidth:"2"}),i.jsx("path",{d:"M16.45 8.97h-1.34a.2.2 0 0 0-.21.22v1.29h1.41a.18.18 0 0 1 .19.19l-.04 1.59a.18.18 0 0 1-.16.2h-1.4v4.32c0 .1-.08.18-.18.18h-1.7a.18.18 0 0 1-.18-.18v-4.32h-1.07a.18.18 0 0 1-.18-.18v-1.53c0-.1.08-.18.18-.18h1.07v-1.08c0-1.08.63-2.04 2.16-2.04h1.35c.1 0 .18.08.18.18v1.46c0 .1-.08.18-.18.18z",fill:"#374151"})]});case"twitter":return i.jsxs("svg",{className:e,"aria-label":"Twitter",viewBox:"0 0 24 24",fill:"none",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"22",height:"22",x:"1",y:"1",rx:"6",fill:"none",stroke:"#374151",strokeWidth:"2"}),i.jsx("path",{d:"M17.75 9.05c-.39.17-.8.28-1.23.33a2.06 2.06 0 0 0 .91-1.14c-.4.24-.85.41-1.32.5A2.07 2.07 0 0 0 9.7 10.49c-2.13 0-3.33-1.62-3.35-1.66a2.03 2.03 0 0 0 .91 2.76c-.37-.01-.72-.1-1.03-.28 0 1.1.78 2.02 1.82 2.24a2.1 2.1 0 0 1-.92.03c.26.8 1.01 1.38 1.9 1.39a4.16 4.16 0 0 1-2.56.88c-.17 0-.34-.01-.5-.03a5.83 5.83 0 0 0 3.17.93c3.8 0 5.89-3.15 5.89-5.89v-.27c.4-.28.75-.63 1.02-1.02z",fill:"#374151"})]});default:return null}},mR=()=>{const t=Br(),e=ge.useCallback(()=>{typeof window<"u"&&window.location.assign("/info/contact")},[]);return i.jsxs("footer",{className:"w-full bg-gray-50 border-t border-gray-200 py-4 px-4 md:px-12 flex flex-col md:flex-row items-center justify-between gap-4 md:gap-0 text-sm z-10",role:"contentinfo",children:[i.jsx("nav",{className:"flex flex-wrap gap-4 md:gap-6 items-center mb-2 md:mb-0",children:uR.map(r=>{const n=t.pathname.toLowerCase().startsWith(r.url.toLowerCase());return r.label==="Contact"?i.jsx("button",{type:"button",className:"text-gray-700 hover:text-blue-600 font-medium transition-colors bg-transparent border-none p-0 m-0 cursor-pointer "+(n?"underline underline-offset-2 text-blue-600":""),"aria-label":r.label,onClick:e,children:r.label},r.label):i.jsx(q,{to:r.url,className:"text-gray-700 hover:text-blue-600 font-medium transition-colors "+(n?"underline underline-offset-2 text-blue-600":""),"aria-label":r.label,children:r.label},r.label)})}),i.jsx("div",{className:"flex gap-4 md:gap-5 items-center mb-2 md:mb-0",children:dR.map(r=>i.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer","aria-label":r.icon.charAt(0).toUpperCase()+r.icon.slice(1),className:"group",title:r.icon.charAt(0).toUpperCase()+r.icon.slice(1),children:i.jsx(hR,{icon:r.icon,className:"w-6 h-6 text-gray-600 group-hover:text-blue-600 transition-colors"})},r.icon))}),i.jsx("div",{className:"text-gray-500 text-xs md:text-sm",children:fR})]})};function pj(t,e){return function(){return t.apply(e,arguments)}}const{toString:pR}=Object.prototype,{getPrototypeOf:Vg}=Object,{iterator:Od,toStringTag:gj}=Symbol,Rd=(t=>e=>{const r=pR.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),zr=t=>(t=t.toLowerCase(),e=>Rd(e)===t),Td=t=>e=>typeof e===t,{isArray:oo}=Array,wl=Td("undefined");function Ul(t){return t!==null&&!wl(t)&&t.constructor!==null&&!wl(t.constructor)&&er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yj=zr("ArrayBuffer");function gR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yj(t.buffer),e}const yR=Td("string"),er=Td("function"),xj=Td("number"),zl=t=>t!==null&&typeof t=="object",xR=t=>t===!0||t===!1,Qc=t=>{if(Rd(t)!=="object")return!1;const e=Vg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gj in t)&&!(Od in t)},vR=t=>{if(!zl(t)||Ul(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},_R=zr("Date"),bR=zr("File"),wR=zr("Blob"),jR=zr("FileList"),NR=t=>zl(t)&&er(t.pipe),kR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||er(t.append)&&((e=Rd(t))==="formdata"||e==="object"&&er(t.toString)&&t.toString()==="[object FormData]"))},SR=zr("URLSearchParams"),[CR,ER,PR,OR]=["ReadableStream","Request","Response","Headers"].map(zr),RR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ql(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),oo(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Ul(t))return;const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function vj(t,e){if(Ul(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_j=t=>!wl(t)&&t!==Gs;function Qm(){const{caseless:t}=_j(this)&&this||{},e={},r=(n,s)=>{const a=t&&vj(e,s)||s;Qc(e[a])&&Qc(n)?e[a]=Qm(e[a],n):Qc(n)?e[a]=Qm({},n):oo(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ql(arguments[n],r);return e}const TR=(t,e,r,{allOwnKeys:n}={})=>(ql(e,(s,a)=>{r&&er(s)?t[a]=pj(s,r):t[a]=s},{allOwnKeys:n}),t),AR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$R=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},LR=(t,e,r,n)=>{let s,a,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)o=s[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&Vg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},FR=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},MR=t=>{if(!t)return null;if(oo(t))return t;let e=t.length;if(!xj(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},IR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Vg(Uint8Array)),DR=(t,e)=>{const n=(t&&t[Od]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},BR=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},UR=zr("HTMLFormElement"),zR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),_0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),qR=zr("RegExp"),bj=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ql(r,(s,a)=>{let o;(o=e(s,a,t))!==!1&&(n[a]=o||s)}),Object.defineProperties(t,n)},VR=t=>{bj(t,(e,r)=>{if(er(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(er(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},WR=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return oo(t)?n(t):n(String(t).split(e)),r},HR=()=>{},ZR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function QR(t){return!!(t&&er(t.append)&&t[gj]==="FormData"&&t[Od])}const KR=t=>{const e=new Array(10),r=(n,s)=>{if(zl(n)){if(e.indexOf(n)>=0)return;if(Ul(n))return n;if(!("toJSON"in n)){e[s]=n;const a=oo(n)?[]:{};return ql(n,(o,l)=>{const c=r(o,s+1);!wl(c)&&(a[l]=c)}),e[s]=void 0,a}}return n};return r(t,0)},YR=zr("AsyncFunction"),GR=t=>t&&(zl(t)||er(t))&&er(t.then)&&er(t.catch),wj=((t,e)=>t?setImmediate:e?((r,n)=>(Gs.addEventListener("message",({source:s,data:a})=>{s===Gs&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Gs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",er(Gs.postMessage)),JR=typeof queueMicrotask<"u"?queueMicrotask.bind(Gs):typeof process<"u"&&process.nextTick||wj,XR=t=>t!=null&&er(t[Od]),D={isArray:oo,isArrayBuffer:yj,isBuffer:Ul,isFormData:kR,isArrayBufferView:gR,isString:yR,isNumber:xj,isBoolean:xR,isObject:zl,isPlainObject:Qc,isEmptyObject:vR,isReadableStream:CR,isRequest:ER,isResponse:PR,isHeaders:OR,isUndefined:wl,isDate:_R,isFile:bR,isBlob:wR,isRegExp:qR,isFunction:er,isStream:NR,isURLSearchParams:SR,isTypedArray:IR,isFileList:jR,forEach:ql,merge:Qm,extend:TR,trim:RR,stripBOM:AR,inherits:$R,toFlatObject:LR,kindOf:Rd,kindOfTest:zr,endsWith:FR,toArray:MR,forEachEntry:DR,matchAll:BR,isHTMLForm:UR,hasOwnProperty:_0,hasOwnProp:_0,reduceDescriptors:bj,freezeMethods:VR,toObjectSet:WR,toCamelCase:zR,noop:HR,toFiniteNumber:ZR,findKey:vj,global:Gs,isContextDefined:_j,isSpecCompliantForm:QR,toJSONObject:KR,isAsyncFn:YR,isThenable:GR,setImmediate:wj,asap:JR,isIterable:XR};function Ne(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}D.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const jj=Ne.prototype,Nj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nj[t]={value:t}});Object.defineProperties(Ne,Nj);Object.defineProperty(jj,"isAxiosError",{value:!0});Ne.from=(t,e,r,n,s,a)=>{const o=Object.create(jj);return D.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ne.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const eT=null;function Km(t){return D.isPlainObject(t)||D.isArray(t)}function kj(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function b0(t,e,r){return t?t.concat(e).map(function(s,a){return s=kj(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function tT(t){return D.isArray(t)&&!t.some(Km)}const rT=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Ad(t,e,r){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=D.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!D.isUndefined(_[y])});const n=r.metaTokens,s=r.visitor||f,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(D.isDate(g))return g.toISOString();if(D.isBoolean(g))return g.toString();if(!c&&D.isBlob(g))throw new Ne("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(g)||D.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,y,_){let p=g;if(g&&!_&&typeof g=="object"){if(D.endsWith(y,"{}"))y=n?y:y.slice(0,-2),g=JSON.stringify(g);else if(D.isArray(g)&&tT(g)||(D.isFileList(g)||D.endsWith(y,"[]"))&&(p=D.toArray(g)))return y=kj(y),p.forEach(function(m,b){!(D.isUndefined(m)||m===null)&&e.append(o===!0?b0([y],b,a):o===null?y:y+"[]",u(m))}),!1}return Km(g)?!0:(e.append(b0(_,y,a),u(g)),!1)}const d=[],h=Object.assign(rT,{defaultVisitor:f,convertValue:u,isVisitable:Km});function v(g,y){if(!D.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),D.forEach(g,function(p,x){(!(D.isUndefined(p)||p===null)&&s.call(e,p,D.isString(x)?x.trim():x,y,h))===!0&&v(p,y?y.concat(x):[x])}),d.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return v(t),e}function w0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Wg(t,e){this._pairs=[],t&&Ad(t,this,e)}const Sj=Wg.prototype;Sj.append=function(e,r){this._pairs.push([e,r])};Sj.toString=function(e){const r=e?function(n){return e.call(this,n,w0)}:w0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function nT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cj(t,e,r){if(!e)return t;const n=r&&r.encode||nT;D.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=D.isURLSearchParams(e)?e.toString():new Wg(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class j0{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Ej={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sT=typeof URLSearchParams<"u"?URLSearchParams:Wg,iT=typeof FormData<"u"?FormData:null,aT=typeof Blob<"u"?Blob:null,oT={isBrowser:!0,classes:{URLSearchParams:sT,FormData:iT,Blob:aT},protocols:["http","https","file","blob","url","data"]},Hg=typeof window<"u"&&typeof document<"u",Ym=typeof navigator=="object"&&navigator||void 0,lT=Hg&&(!Ym||["ReactNative","NativeScript","NS"].indexOf(Ym.product)<0),cT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uT=Hg&&window.location.href||"http://localhost",dT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hg,hasStandardBrowserEnv:lT,hasStandardBrowserWebWorkerEnv:cT,navigator:Ym,origin:uT},Symbol.toStringTag,{value:"Module"})),Mt={...dT,...oT};function fT(t,e){return Ad(t,new Mt.classes.URLSearchParams,{visitor:function(r,n,s,a){return Mt.isNode&&D.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function hT(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mT(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function Pj(t){function e(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&D.isArray(s)?s.length:o,c?(D.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!D.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],a)&&D.isArray(s[o])&&(s[o]=mT(s[o])),!l)}if(D.isFormData(t)&&D.isFunction(t.entries)){const r={};return D.forEachEntry(t,(n,s)=>{e(hT(n),s,r,0)}),r}return null}function pT(t,e,r){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Vl={transitional:Ej,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=D.isObject(e);if(a&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return s?JSON.stringify(Pj(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e)||D.isReadableStream(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fT(e,this.formSerializer).toString();if((l=D.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ad(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),pT(e)):e}],transformResponse:[function(e){const r=this.transitional||Vl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(D.isResponse(e)||D.isReadableStream(e))return e;if(e&&D.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Ne.from(l,Ne.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],t=>{Vl.headers[t]={}});const gT=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yT=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&gT[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},N0=Symbol("internals");function jo(t){return t&&String(t).trim().toLowerCase()}function Kc(t){return t===!1||t==null?t:D.isArray(t)?t.map(Kc):String(t)}function xT(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const vT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function If(t,e,r,n,s){if(D.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!D.isString(e)){if(D.isString(n))return e.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(e)}}function _T(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function bT(t,e){const r=D.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,o){return this[n].call(this,e,s,a,o)},configurable:!0})})}let tr=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(l,c,u){const f=jo(c);if(!f)throw new Error("header name must be a non-empty string");const d=D.findKey(s,f);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Kc(l))}const o=(l,c)=>D.forEach(l,(u,f)=>a(u,f,c));if(D.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(D.isString(e)&&(e=e.trim())&&!vT(e))o(yT(e),r);else if(D.isObject(e)&&D.isIterable(e)){let l={},c,u;for(const f of e){if(!D.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?D.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=jo(e),e){const n=D.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return xT(s);if(D.isFunction(r))return r.call(this,s,n);if(D.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=jo(e),e){const n=D.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||If(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(o){if(o=jo(o),o){const l=D.findKey(n,o);l&&(!r||If(n,n[l],l,r))&&(delete n[l],s=!0)}}return D.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||If(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return D.forEach(this,(s,a)=>{const o=D.findKey(n,a);if(o){r[o]=Kc(s),delete r[a];return}const l=e?_T(a):String(a).trim();l!==a&&delete r[a],r[l]=Kc(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return D.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&D.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[N0]=this[N0]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=jo(o);n[l]||(bT(s,o),n[l]=!0)}return D.isArray(e)?e.forEach(a):a(e),this}};tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(tr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});D.freezeMethods(tr);function Df(t,e){const r=this||Vl,n=e||r,s=tr.from(n.headers);let a=n.data;return D.forEach(t,function(l){a=l.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Oj(t){return!!(t&&t.__CANCEL__)}function lo(t,e,r){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,r),this.name="CanceledError"}D.inherits(lo,Ne,{__CANCEL__:!0});function Rj(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ne("Request failed with status code "+r.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jT(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),f=n[a];o||(o=u),r[s]=c,n[s]=u;let d=a,h=0;for(;d!==s;)h+=r[d++],d=d%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),u-o<e)return;const v=f&&u-f;return v?Math.round(h*1e3/v):void 0}}function NT(t,e){let r=0,n=1e3/e,s,a;const o=(u,f=Date.now())=>{r=f,s=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const f=Date.now(),d=f-r;d>=n?o(u,f):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-d)))},()=>s&&o(s)]}const Mu=(t,e,r=3)=>{let n=0;const s=jT(50,250);return NT(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),f=o<=l;n=o;const d={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(d)},r)},k0=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},S0=t=>(...e)=>D.asap(()=>t(...e)),kT=Mt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Mt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,ST=Mt.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const o=[t+"="+encodeURIComponent(e)];D.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),D.isString(n)&&o.push("path="+n),D.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ET(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Tj(t,e,r){let n=!CT(e);return t&&(n||r==!1)?ET(t,e):e}const C0=t=>t instanceof tr?{...t}:t;function Ni(t,e){e=e||{};const r={};function n(u,f,d,h){return D.isPlainObject(u)&&D.isPlainObject(f)?D.merge.call({caseless:h},u,f):D.isPlainObject(f)?D.merge({},f):D.isArray(f)?f.slice():f}function s(u,f,d,h){if(D.isUndefined(f)){if(!D.isUndefined(u))return n(void 0,u,d,h)}else return n(u,f,d,h)}function a(u,f){if(!D.isUndefined(f))return n(void 0,f)}function o(u,f){if(D.isUndefined(f)){if(!D.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function l(u,f,d){if(d in e)return n(u,f);if(d in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,f,d)=>s(C0(u),C0(f),d,!0)};return D.forEach(Object.keys({...t,...e}),function(f){const d=c[f]||s,h=d(t[f],e[f],f);D.isUndefined(h)&&d!==l||(r[f]=h)}),r}const Aj=t=>{const e=Ni({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=tr.from(o),e.url=Cj(Tj(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(D.isFormData(r)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...f]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Mt.hasStandardBrowserEnv&&(n&&D.isFunction(n)&&(n=n(e)),n||n!==!1&&kT(e.url))){const u=s&&a&&ST.read(a);u&&o.set(s,u)}return e},PT=typeof XMLHttpRequest<"u",OT=PT&&function(t){return new Promise(function(r,n){const s=Aj(t);let a=s.data;const o=tr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,f,d,h,v,g;function y(){v&&v(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function p(){if(!_)return;const m=tr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:m,config:t,request:_};Rj(function(P){r(P),y()},function(P){n(P),y()},S),_=null}"onloadend"in _?_.onloadend=p:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(p)},_.onabort=function(){_&&(n(new Ne("Request aborted",Ne.ECONNABORTED,t,_)),_=null)},_.onerror=function(){n(new Ne("Network Error",Ne.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||Ej;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new Ne(b,S.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,_)),_=null},a===void 0&&o.setContentType(null),"setRequestHeader"in _&&D.forEach(o.toJSON(),function(b,S){_.setRequestHeader(S,b)}),D.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),l&&l!=="json"&&(_.responseType=s.responseType),u&&([h,g]=Mu(u,!0),_.addEventListener("progress",h)),c&&_.upload&&([d,v]=Mu(c),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(f=m=>{_&&(n(!m||m.type?new lo(null,t,_):m),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const x=wT(s.url);if(x&&Mt.protocols.indexOf(x)===-1){n(new Ne("Unsupported protocol "+x+":",Ne.ERR_BAD_REQUEST,t));return}_.send(a||null)})},RT=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const f=u instanceof Error?u:this.reason;n.abort(f instanceof Ne?f:new lo(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,a(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>D.asap(l),c}},TT=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},AT=async function*(t,e){for await(const r of $T(t))yield*TT(r,e)},$T=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},E0=(t,e,r,n)=>{const s=AT(t,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){l(),c.close();return}let d=f.byteLength;if(r){let h=a+=d;r(h)}c.enqueue(new Uint8Array(f))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},$d=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$j=$d&&typeof ReadableStream=="function",LT=$d&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Lj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FT=$j&&Lj(()=>{let t=!1;const e=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P0=64*1024,Gm=$j&&Lj(()=>D.isReadableStream(new Response("").body)),Iu={stream:Gm&&(t=>t.body)};$d&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Iu[e]&&(Iu[e]=D.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,n)})})})(new Response);const MT=async t=>{if(t==null)return 0;if(D.isBlob(t))return t.size;if(D.isSpecCompliantForm(t))return(await new Request(Mt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(D.isArrayBufferView(t)||D.isArrayBuffer(t))return t.byteLength;if(D.isURLSearchParams(t)&&(t=t+""),D.isString(t))return(await LT(t)).byteLength},IT=async(t,e)=>{const r=D.toFiniteNumber(t.getContentLength());return r??MT(e)},DT=$d&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:f,withCredentials:d="same-origin",fetchOptions:h}=Aj(t);u=u?(u+"").toLowerCase():"text";let v=RT([s,a&&a.toAbortSignal()],o),g;const y=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let _;try{if(c&&FT&&r!=="get"&&r!=="head"&&(_=await IT(f,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),T;if(D.isFormData(n)&&(T=S.headers.get("content-type"))&&f.setContentType(T),S.body){const[P,A]=k0(_,Mu(S0(c)));n=E0(S.body,P0,P,A)}}D.isString(d)||(d=d?"include":"omit");const p="credentials"in Request.prototype;g=new Request(e,{...h,signal:v,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:p?d:void 0});let x=await fetch(g,h);const m=Gm&&(u==="stream"||u==="response");if(Gm&&(l||m&&y)){const S={};["status","statusText","headers"].forEach(F=>{S[F]=x[F]});const T=D.toFiniteNumber(x.headers.get("content-length")),[P,A]=l&&k0(T,Mu(S0(l),!0))||[];x=new Response(E0(x.body,P0,P,()=>{A&&A(),y&&y()}),S)}u=u||"text";let b=await Iu[D.findKey(Iu,u)||"text"](x,t);return!m&&y&&y(),await new Promise((S,T)=>{Rj(S,T,{data:b,headers:tr.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:g})})}catch(p){throw y&&y(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,g),{cause:p.cause||p}):Ne.from(p,p&&p.code,t,g)}}),Jm={http:eT,xhr:OT,fetch:DT};D.forEach(Jm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const O0=t=>`- ${t}`,BT=t=>D.isFunction(t)||t===null||t===!1,Fj={getAdapter:t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!BT(r)&&(n=Jm[(o=String(r)).toLowerCase()],n===void 0))throw new Ne(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(O0).join(`
`):" "+O0(a[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Jm};function Bf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lo(null,t)}function R0(t){return Bf(t),t.headers=tr.from(t.headers),t.data=Df.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fj.getAdapter(t.adapter||Vl.adapter)(t).then(function(n){return Bf(t),n.data=Df.call(t,t.transformResponse,n),n.headers=tr.from(n.headers),n},function(n){return Oj(n)||(Bf(t),n&&n.response&&(n.response.data=Df.call(t,t.transformResponse,n.response),n.response.headers=tr.from(n.response.headers))),Promise.reject(n)})}const Mj="1.11.0",Ld={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ld[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const T0={};Ld.transitional=function(e,r,n){function s(a,o){return"[Axios v"+Mj+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new Ne(s(o," has been removed"+(r?" in "+r:"")),Ne.ERR_DEPRECATED);return r&&!T0[o]&&(T0[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};Ld.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function UT(t,e,r){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new Ne("option "+a+" must be "+c,Ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ne("Unknown option "+a,Ne.ERR_BAD_OPTION)}}const Yc={assertOptions:UT,validators:Ld},Vr=Yc.validators;let fi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new j0,response:new j0}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ni(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Yc.assertOptions(n,{silentJSONParsing:Vr.transitional(Vr.boolean),forcedJSONParsing:Vr.transitional(Vr.boolean),clarifyTimeoutError:Vr.transitional(Vr.boolean)},!1),s!=null&&(D.isFunction(s)?r.paramsSerializer={serialize:s}:Yc.assertOptions(s,{encode:Vr.function,serialize:Vr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Yc.assertOptions(r,{baseUrl:Vr.spelling("baseURL"),withXsrfToken:Vr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&D.merge(a.common,a[r.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=tr.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let f,d=0,h;if(!c){const g=[R0.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,f=Promise.resolve(r);d<h;)f=f.then(g[d++],g[d++]);return f}h=l.length;let v=r;for(d=0;d<h;){const g=l[d++],y=l[d++];try{v=g(v)}catch(_){y.call(this,_);break}}try{f=R0.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,h=u.length;d<h;)f=f.then(u[d++],u[d++]);return f}getUri(e){e=Ni(this.defaults,e);const r=Tj(e.baseURL,e.url,e.allowAbsoluteUrls);return Cj(r,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){fi.prototype[e]=function(r,n){return this.request(Ni(n||{},{method:e,url:r,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(Ni(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}fi.prototype[e]=r(),fi.prototype[e+"Form"]=r(!0)});let zT=class Ij{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new lo(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Ij(function(s){e=s}),cancel:e}}};function qT(t){return function(r){return t.apply(null,r)}}function VT(t){return D.isObject(t)&&t.isAxiosError===!0}const Xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xm).forEach(([t,e])=>{Xm[e]=t});function Dj(t){const e=new fi(t),r=pj(fi.prototype.request,e);return D.extend(r,fi.prototype,e,{allOwnKeys:!0}),D.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Dj(Ni(t,s))},r}const W=Dj(Vl);W.Axios=fi;W.CanceledError=lo;W.CancelToken=zT;W.isCancel=Oj;W.VERSION=Mj;W.toFormData=Ad;W.AxiosError=Ne;W.Cancel=W.CanceledError;W.all=function(e){return Promise.all(e)};W.spread=qT;W.isAxiosError=VT;W.mergeConfig=Ni;W.AxiosHeaders=tr;W.formToJSON=t=>Pj(D.isHTMLForm(t)?new FormData(t):t);W.getAdapter=Fj.getAdapter;W.HttpStatusCode=Xm;W.default=W;const{Axios:$L,AxiosError:LL,CanceledError:FL,isCancel:ML,CancelToken:IL,VERSION:DL,all:BL,Cancel:UL,isAxiosError:zL,spread:qL,toFormData:VL,AxiosHeaders:WL,HttpStatusCode:HL,formToJSON:ZL,getAdapter:QL,mergeConfig:KL}=W,$n={success:{icon:i.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),bg:"bg-green-50",border:"border-green-300",text:"text-green-800"},error:{icon:i.jsxs("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),bg:"bg-red-50",border:"border-red-300",text:"text-red-800"},warning:{icon:i.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M9.93 9.93l-6.36 6.36m15.56-6.36l-6.36 6.36"})}),bg:"bg-yellow-50",border:"border-yellow-300",text:"text-yellow-800"},info:{icon:i.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]}),bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-800"},default:{icon:i.jsx("span",{className:"w-5 h-5 mr-2"}),bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-800"}},WT=5200;function No(t){if(!t)return"info";const e=t.toLowerCase();return e.includes("success")||e==="booking_confirmed"||e==="message_sent"?"success":e.includes("error")||e==="booking_failed"||e==="failed"?"error":e.includes("warn")||e==="warning"||e==="alert"?"warning":(e.includes("info")||e==="message_received","info")}const HT=()=>{var x,m,b,S;const t=ie(T=>T.notifications.items);ie(T=>T.notifications.unread_count),ie(T=>T.add_notification);const e=ie(T=>T.mark_notification_read),r=ie(T=>T.set_notifications),n=ie(T=>T.user_session),[s,a]=w.useState(0),[o,l]=w.useState(!0),[c,u]=w.useState(null),[f,d]=w.useState(null),h=[...t].sort((T,P)=>T.is_read===P.is_read?new Date(P.created_at).getTime()-new Date(T.created_at).getTime():T.is_read?1:-1),v=h.length>0&&o?h[s]:null,g=W.create({baseURL:"https://123testing-project-yes-api.launchpulse.ai/api",headers:n!=null&&n.token?{Authorization:`Bearer ${n.token}`}:void 0});Ot();const y=Ze({mutationFn:async T=>{if(!T)throw new Error("Invalid id");const P=t.find(A=>A.notification_id===T);P&&P.is_read||await g.post(`/account/notifications/${T}/read`)},onSuccess:(T,P)=>{e(P),setTimeout(()=>{s<h.length-1?(a(A=>A+1),l(!0)):l(!1)},180)},onError:T=>{d("Error updating notification. Try again."),setTimeout(()=>d(null),3500)}}),_=w.useCallback(()=>{v&&(!v.is_read&&(n!=null&&n.token)?y.mutate(v.notification_id):setTimeout(()=>{s<h.length-1?(a(T=>T+1),l(!0)):l(!1)},80))},[v,y,n,s,h.length]);w.useEffect(()=>{const T=P=>{(P.key==="Escape"||P.key==="Esc")&&v&&o&&(P.preventDefault(),_())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[v,o,_]),w.useEffect(()=>{if(v&&o&&["success","info"].includes(No(v.type))){c&&clearTimeout(c);const T=setTimeout(()=>{_()},WT);return u(T),()=>clearTimeout(T)}c&&clearTimeout(c)},[v,o,_]),w.useEffect(()=>{h.length===0?(l(!1),a(0)):(a(0),l(!0))},[t.length]);const p=w.useRef(null);return w.useEffect(()=>{v&&o&&p.current&&p.current.focus()},[v,o]),w.useEffect(()=>{if(!(n!=null&&n.token))return;(async()=>{try{const{data:P}=await g.get("/account/notifications");if(P&&P.items){const A=P.items.map(F=>({notification_id:String(F.notification_id),user_id:F.user_id?String(F.user_id):void 0,type:F.type,message:F.message,is_read:F.is_read,reference_id:F.reference_id===null||typeof F.reference_id>"u"?null:String(F.reference_id),created_at:F.created_at}));r({items:A,unread_count:Number(P.unread_count)||0})}}catch{d("Could not retrieve notifications.")}})()},[n==null?void 0:n.token]),i.jsxs(i.Fragment,{children:[f&&i.jsxs("div",{className:"fixed top-2 right-4 z-50 w-auto max-w-sm px-4 py-3 bg-red-100 border border-red-400 text-red-800 rounded shadow-md flex items-center animate-fade",children:[i.jsxs("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),i.jsx("div",{className:"flex-1 text-sm",children:f})]}),v&&o&&i.jsx("div",{tabIndex:0,"aria-live":"polite","aria-atomic":"true",className:`fixed top-4 right-4 z-[100] max-w-sm min-w-[300px] rounded-lg shadow-2xl transition-all duration-200
            border font-medium
            ${((x=$n[No(v.type)])==null?void 0:x.bg)||$n.default.bg}
            ${((m=$n[No(v.type)])==null?void 0:m.border)||$n.default.border}
            ${((b=$n[No(v.type)])==null?void 0:b.text)||$n.default.text}
            animate-slide-in
          `,style:{outline:"none"},role:"status",children:i.jsxs("div",{className:"flex flex-row items-center p-4 pr-2 relative",children:[((S=$n[No(v.type)])==null?void 0:S.icon)||$n.default.icon,i.jsx("div",{className:"flex-1 text-sm whitespace-pre-line",children:v.message}),i.jsx("button",{onClick:_,ref:p,"aria-label":"Dismiss notification",className:"ml-4 p-0.5 rounded focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",tabIndex:0,children:i.jsxs("svg",{className:"w-5 h-5 text-gray-500 hover:text-gray-800",stroke:"currentColor",fill:"none",viewBox:"0 0 20 20","aria-hidden":"true",children:[i.jsx("title",{children:"Close"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6l8 8M6 14L14 6"})]})})]})},v.notification_id)]})};var Be;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Be||(Be={}));var A0;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(A0||(A0={}));const fe=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Un=t=>{switch(typeof t){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return Number.isNaN(t)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(t)?fe.array:t===null?fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?fe.promise:typeof Map<"u"&&t instanceof Map?fe.map:typeof Set<"u"&&t instanceof Set?fe.set:typeof Date<"u"&&t instanceof Date?fe.date:fe.object;default:return fe.unknown}},G=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let rn=class Bj extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Bj))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};rn.create=t=>new rn(t);const ep=(t,e)=>{let r;switch(t.code){case G.invalid_type:t.received===fe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Be.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:r=`Unrecognized key(s) in object: ${Be.joinValues(t.keys,", ")}`;break;case G.invalid_union:r="Invalid input";break;case G.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Be.joinValues(t.options)}`;break;case G.invalid_enum_value:r=`Invalid enum value. Expected ${Be.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:r="Invalid function arguments";break;case G.invalid_return_type:r="Invalid function return type";break;case G.invalid_date:r="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Be.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case G.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case G.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case G.custom:r="Invalid input";break;case G.invalid_intersection_types:r="Intersection results could not be merged";break;case G.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:r="Number must be finite";break;default:r=e.defaultError,Be.assertNever(t)}return{message:r}};let ZT=ep;function QT(){return ZT}const KT=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function oe(t,e){const r=QT(),n=KT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ep?void 0:ep].filter(s=>!!s)});t.common.issues.push(n)}let Dr=class Uj{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return _e;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Uj.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return _e;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}};const _e=Object.freeze({status:"aborted"}),Lo=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),$0=t=>t.status==="aborted",L0=t=>t.status==="dirty",za=t=>t.status==="valid",Du=t=>typeof Promise<"u"&&t instanceof Promise;var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));let js=class{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const F0=(t,e)=>{if(za(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new rn(t.common.issues);return this._error=r,this._error}}};function Pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}let Ie=class{get description(){return this._def.description}_getType(e){return Un(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Dr,ctx:{common:e.parent.common,data:e.data,parsedType:Un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Du(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)},s=this._parseSync({data:e,path:n.path,parent:n});return F0(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return za(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>za(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Un(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Du(s)?s:Promise.resolve(s));return F0(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:G.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Va({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return vs.create(this,this._def)}nullable(){return Wa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qa.create(this)}promise(){return zu.create(this,this._def)}or(e){return Bu.create([this,e],this._def)}and(e){return Uu.create(this,e,this._def)}transform(e){return new Va({...Pe(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new up({...Pe(this._def),innerType:this,defaultValue:r,typeName:we.ZodDefault})}brand(){return new xA({typeName:we.ZodBranded,type:this,...Pe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new dp({...Pe(this._def),innerType:this,catchValue:r,typeName:we.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return vA.create(this,e)}readonly(){return fp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const YT=/^c[^\s-]{8,}$/i,GT=/^[0-9a-z]+$/,JT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eA=/^[a-z0-9_-]{21}$/i,tA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Uf;const iA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dA=new RegExp(`^${zj}$`);function qj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function fA(t){return new RegExp(`^${qj(t)}$`)}function hA(t){let e=`${zj}T${qj(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function mA(t,e){return!!((e==="v4"||!e)&&iA.test(t)||(e==="v6"||!e)&&oA.test(t))}function pA(t,e){if(!tA.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function gA(t,e){return!!((e==="v4"||!e)&&aA.test(t)||(e==="v6"||!e)&&lA.test(t))}let tp=class Fo extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const a=this._getOrReturnCtx(e);return oe(a,{code:G.invalid_type,expected:fe.string,received:a.parsedType}),_e}const n=new Dr;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:G.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:G.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?oe(s,{code:G.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&oe(s,{code:G.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")nA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"email",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Uf||(Uf=new RegExp(sA,"u")),Uf.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"emoji",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")XT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"uuid",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")eA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"nanoid",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")YT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")GT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid2",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")JT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ulid",code:G.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),oe(s,{validation:"url",code:G.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"regex",code:G.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),oe(s,{code:G.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:G.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:G.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?hA(a).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:G.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?dA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:G.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?fA(a).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:G.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?rA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"duration",code:G.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?mA(e.data,a.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ip",code:G.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?pA(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"jwt",code:G.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?gA(e.data,a.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cidr",code:G.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?cA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64",code:G.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?uA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64url",code:G.invalid_string,message:a.message}),n.dirty()):Be.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:G.invalid_string,...me.errToObj(n)})}_addCheck(e){return new Fo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...me.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...me.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...me.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...me.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...me.errToObj(r)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};tp.create=t=>new tp({checks:[],typeName:we.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});function yA(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}let rp=class np extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const a=this._getOrReturnCtx(e);return oe(a,{code:G.invalid_type,expected:fe.number,received:a.parsedType}),_e}let n;const s=new Dr;for(const a of this._def.checks)a.kind==="int"?Be.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),oe(n,{code:G.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:G.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:G.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?yA(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),oe(n,{code:G.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),oe(n,{code:G.not_finite,message:a.message}),s.dirty()):Be.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,me.toString(r))}setLimit(e,r,n,s){return new np({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:me.toString(s)}]})}_addCheck(e){return new np({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};rp.create=t=>new rp({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});let M0=class sp extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==fe.bigint)return this._getInvalidInput(e);let n;const s=new Dr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:G.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:G.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:G.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Be.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return oe(r,{code:G.invalid_type,expected:fe.bigint,received:r.parsedType}),_e}gte(e,r){return this.setLimit("min",e,!0,me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,me.toString(r))}setLimit(e,r,n,s){return new sp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:me.toString(s)}]})}_addCheck(e){return new sp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};M0.create=t=>new M0({checks:[],typeName:we.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});let ip=class extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const n=this._getOrReturnCtx(e);return oe(n,{code:G.invalid_type,expected:fe.boolean,received:n.parsedType}),_e}return Nr(e.data)}};ip.create=t=>new ip({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});let ap=class Vj extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const a=this._getOrReturnCtx(e);return oe(a,{code:G.invalid_type,expected:fe.date,received:a.parsedType}),_e}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return oe(a,{code:G.invalid_date}),_e}const n=new Dr;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:G.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:G.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Be.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vj({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ap.create=t=>new ap({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...Pe(t)});let I0=class extends Ie{_parse(e){if(this._getType(e)!==fe.symbol){const n=this._getOrReturnCtx(e);return oe(n,{code:G.invalid_type,expected:fe.symbol,received:n.parsedType}),_e}return Nr(e.data)}};I0.create=t=>new I0({typeName:we.ZodSymbol,...Pe(t)});let D0=class extends Ie{_parse(e){if(this._getType(e)!==fe.undefined){const n=this._getOrReturnCtx(e);return oe(n,{code:G.invalid_type,expected:fe.undefined,received:n.parsedType}),_e}return Nr(e.data)}};D0.create=t=>new D0({typeName:we.ZodUndefined,...Pe(t)});let B0=class extends Ie{_parse(e){if(this._getType(e)!==fe.null){const n=this._getOrReturnCtx(e);return oe(n,{code:G.invalid_type,expected:fe.null,received:n.parsedType}),_e}return Nr(e.data)}};B0.create=t=>new B0({typeName:we.ZodNull,...Pe(t)});let U0=class extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}};U0.create=t=>new U0({typeName:we.ZodAny,...Pe(t)});let z0=class extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}};z0.create=t=>new z0({typeName:we.ZodUnknown,...Pe(t)});let Ns=class extends Ie{_parse(e){const r=this._getOrReturnCtx(e);return oe(r,{code:G.invalid_type,expected:fe.never,received:r.parsedType}),_e}};Ns.create=t=>new Ns({typeName:we.ZodNever,...Pe(t)});let q0=class extends Ie{_parse(e){if(this._getType(e)!==fe.undefined){const n=this._getOrReturnCtx(e);return oe(n,{code:G.invalid_type,expected:fe.void,received:n.parsedType}),_e}return Nr(e.data)}};q0.create=t=>new q0({typeName:we.ZodVoid,...Pe(t)});let qa=class Gc extends Ie{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==fe.array)return oe(r,{code:G.invalid_type,expected:fe.array,received:r.parsedType}),_e;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(oe(r,{code:o?G.too_big:G.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:G.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:G.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new js(r,o,r.path,l)))).then(o=>Dr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new js(r,o,r.path,l)));return Dr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Gc({...this._def,minLength:{value:e,message:me.toString(r)}})}max(e,r){return new Gc({...this._def,maxLength:{value:e,message:me.toString(r)}})}length(e,r){return new Gc({...this._def,exactLength:{value:e,message:me.toString(r)}})}nonempty(e){return this.min(1,e)}};qa.create=(t,e)=>new qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Pe(e)});function Vi(t){if(t instanceof Sn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=vs.create(Vi(n))}return new Sn({...t._def,shape:()=>e})}else return t instanceof qa?new qa({...t._def,type:Vi(t.element)}):t instanceof vs?vs.create(Vi(t.unwrap())):t instanceof Wa?Wa.create(Vi(t.unwrap())):t instanceof jl?jl.create(t.items.map(e=>Vi(e))):t}let Sn=class Er extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Be.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==fe.object){const u=this._getOrReturnCtx(e);return oe(u,{code:G.invalid_type,expected:fe.object,received:u.parsedType}),_e}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ns&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new js(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ns){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(oe(s,{code:G.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new js(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>Dr.mergeObjectSync(n,u)):Dr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new Er({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:me.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Er({...this._def,unknownKeys:"strip"})}passthrough(){return new Er({...this._def,unknownKeys:"passthrough"})}extend(e){return new Er({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Er({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Er({...this._def,catchall:e})}pick(e){const r={};for(const n of Be.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Er({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Be.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Er({...this._def,shape:()=>r})}deepPartial(){return Vi(this)}partial(e){const r={};for(const n of Be.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Er({...this._def,shape:()=>r})}required(e){const r={};for(const n of Be.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof vs;)a=a._def.innerType;r[n]=a}return new Er({...this._def,shape:()=>r})}keyof(){return Hj(Be.objectKeys(this.shape))}};Sn.create=(t,e)=>new Sn({shape:()=>t,unknownKeys:"strip",catchall:Ns.create(),typeName:we.ZodObject,...Pe(e)});Sn.strictCreate=(t,e)=>new Sn({shape:()=>t,unknownKeys:"strict",catchall:Ns.create(),typeName:we.ZodObject,...Pe(e)});Sn.lazycreate=(t,e)=>new Sn({shape:t,unknownKeys:"strip",catchall:Ns.create(),typeName:we.ZodObject,...Pe(e)});let Bu=class extends Ie{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new rn(l.ctx.common.issues));return oe(r,{code:G.invalid_union,unionErrors:o}),_e}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new rn(c));return oe(r,{code:G.invalid_union,unionErrors:l}),_e}}get options(){return this._def.options}};Bu.create=(t,e)=>new Bu({options:t,typeName:we.ZodUnion,...Pe(e)});function op(t,e){const r=Un(t),n=Un(e);if(t===e)return{valid:!0,data:t};if(r===fe.object&&n===fe.object){const s=Be.objectKeys(e),a=Be.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=op(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===fe.array&&n===fe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=op(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===fe.date&&n===fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let Uu=class extends Ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if($0(a)||$0(o))return _e;const l=op(a.value,o.value);return l.valid?((L0(a)||L0(o))&&r.dirty(),{status:r.value,value:l.data}):(oe(n,{code:G.invalid_intersection_types}),_e)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Uu.create=(t,e,r)=>new Uu({left:t,right:e,typeName:we.ZodIntersection,...Pe(r)});let jl=class Wj extends Ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.array)return oe(n,{code:G.invalid_type,expected:fe.array,received:n.parsedType}),_e;if(n.data.length<this._def.items.length)return oe(n,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&n.data.length>this._def.items.length&&(oe(n,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new js(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Dr.mergeArray(r,o)):Dr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Wj({...this._def,rest:e})}};jl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jl({items:t,typeName:we.ZodTuple,rest:null,...Pe(e)})};let V0=class extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.map)return oe(n,{code:G.invalid_type,expected:fe.map,received:n.parsedType}),_e;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new js(n,l,n.path,[u,"key"])),value:a._parse(new js(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return _e;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return _e;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}};V0.create=(t,e,r)=>new V0({valueType:e,keyType:t,typeName:we.ZodMap,...Pe(r)});let W0=class lp extends Ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.set)return oe(n,{code:G.invalid_type,expected:fe.set,received:n.parsedType}),_e;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(oe(n,{code:G.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(oe(n,{code:G.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return _e;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new js(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new lp({...this._def,minSize:{value:e,message:me.toString(r)}})}max(e,r){return new lp({...this._def,maxSize:{value:e,message:me.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};W0.create=(t,e)=>new W0({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Pe(e)});let H0=class extends Ie{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};H0.create=(t,e)=>new H0({getter:t,typeName:we.ZodLazy,...Pe(e)});let Z0=class extends Ie{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return oe(r,{received:r.data,code:G.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:e.data}}get value(){return this._def.value}};Z0.create=(t,e)=>new Z0({value:t,typeName:we.ZodLiteral,...Pe(e)});function Hj(t,e){return new Zg({values:t,typeName:we.ZodEnum,...Pe(e)})}let Zg=class cp extends Ie{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return oe(r,{expected:Be.joinValues(n),received:r.parsedType,code:G.invalid_type}),_e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return oe(r,{received:r.data,code:G.invalid_enum_value,options:n}),_e}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return cp.create(e,{...this._def,...r})}exclude(e,r=this._def){return cp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Zg.create=Hj;let Q0=class extends Ie{_parse(e){const r=Be.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==fe.string&&n.parsedType!==fe.number){const s=Be.objectValues(r);return oe(n,{expected:Be.joinValues(s),received:n.parsedType,code:G.invalid_type}),_e}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Be.objectValues(r);return oe(n,{received:n.data,code:G.invalid_enum_value,options:s}),_e}return Nr(e.data)}get enum(){return this._def.values}};Q0.create=(t,e)=>new Q0({values:t,typeName:we.ZodNativeEnum,...Pe(e)});let zu=class extends Ie{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.promise&&r.common.async===!1)return oe(r,{code:G.invalid_type,expected:fe.promise,received:r.parsedType}),_e;const n=r.parsedType===fe.promise?r.data:Promise.resolve(r.data);return Nr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};zu.create=(t,e)=>new zu({type:t,typeName:we.ZodPromise,...Pe(e)});let Va=class extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?_e:c.status==="dirty"||r.value==="dirty"?Lo(c.value):c});{if(r.value==="aborted")return _e;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?_e:l.status==="dirty"||r.value==="dirty"?Lo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!za(o))return _e;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>za(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):_e);Be.assertNever(s)}};Va.create=(t,e,r)=>new Va({schema:t,typeName:we.ZodEffects,effect:e,...Pe(r)});Va.createWithPreprocess=(t,e,r)=>new Va({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Pe(r)});let vs=class extends Ie{_parse(e){return this._getType(e)===fe.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};vs.create=(t,e)=>new vs({innerType:t,typeName:we.ZodOptional,...Pe(e)});let Wa=class extends Ie{_parse(e){return this._getType(e)===fe.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Wa.create=(t,e)=>new Wa({innerType:t,typeName:we.ZodNullable,...Pe(e)});let up=class extends Ie{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};up.create=(t,e)=>new up({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});let dp=class extends Ie{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Du(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};dp.create=(t,e)=>new dp({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});let K0=class extends Ie{_parse(e){if(this._getType(e)!==fe.nan){const n=this._getOrReturnCtx(e);return oe(n,{code:G.invalid_type,expected:fe.nan,received:n.parsedType}),_e}return{status:"valid",value:e.data}}};K0.create=t=>new K0({typeName:we.ZodNaN,...Pe(t)});let xA=class extends Ie{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},vA=class Zj extends Ie{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_e:a.status==="dirty"?(r.dirty(),Lo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_e:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Zj({in:e,out:r,typeName:we.ZodPipeline})}},fp=class extends Ie{_parse(e){const r=this._def.innerType._parse(e),n=s=>(za(s)&&(s.value=Object.freeze(s.value)),s);return Du(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};fp.create=(t,e)=>new fp({innerType:t,typeName:we.ZodReadonly,...Pe(e)});var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const Ft=tp.create,Fs=rp.create,hp=ip.create,_A=ap.create;Ns.create;const Vs=qa.create,Fd=Sn.create,Qj=Bu.create;Uu.create;jl.create;Zg.create;zu.create;vs.create;Wa.create;Fd({villa_id:Qj([Fs(),Ft()]),title:Ft(),address_city:Ft(),main_photo_url:Ft(),price_per_night:Fs(),bedrooms:Fs(),beds:Fs(),bathrooms:Fs(),is_active:hp(),is_instant_book:hp(),avg_rating:Fs(),reviews_count:Fs()});const Nl="https://123testing-project-yes-api.launchpulse.ai/api";console.log("API_BASE configured as:",Nl);W.defaults.withCredentials=!1;W.defaults.headers.common.Accept="application/json";const bA=async()=>{try{console.log("Fetching featured villas from:",`${Nl}/villas/featured`);const{data:t}=await W.get(`${Nl}/villas/featured`);return console.log("Featured villas response:",t),Array.isArray(t)?t.map(e=>({...e,villa_id:String(e.villa_id),main_photo_url:e.main_photo_url||`https://picsum.photos/seed/villa_${e.villa_id}/600/400`})):[]}catch(t){throw console.error("Error fetching featured villas:",t),t}},wA=async()=>{try{console.log("Fetching popular destinations from:",`${Nl}/villas/popular-locations`);const{data:t}=await W.get(`${Nl}/villas/popular-locations`);return console.log("Popular destinations response:",t),Array.isArray(t)?t:[]}catch(t){throw console.error("Error fetching popular destinations:",t),t}},jA=()=>{const t=ie(L=>L.user_session),e=ie(L=>L.search_state),r=ie(L=>L.set_search_state),n=et(),[s,a]=w.useState(e.location||""),[o,l]=w.useState(e.checkin_date||null),[c,u]=w.useState(e.checkout_date||null),[f,d]=w.useState(e.num_guests||1),{data:h,isLoading:v,isError:g,error:y,refetch:_}=ve({queryKey:["featured_villas"],queryFn:bA,staleTime:60*1e3}),{data:p,isLoading:x,isError:m,error:b,refetch:S}=ve({queryKey:["popular_destinations"],queryFn:wA,staleTime:60*1e3}),T=t.is_authenticated&&t.display_name?`Welcome back, ${t.display_name.split(" ")[0]||t.display_name}!`:null,P=w.useCallback(L=>{L.preventDefault(),r({...e,location:s,checkin_date:o,checkout_date:c,num_guests:f,page:1});const C=new URLSearchParams;s&&C.append("location",s),o&&C.append("checkin_date",o),c&&C.append("checkout_date",c),f&&f>0&&C.append("num_guests",String(f)),n(`/search?${C.toString()}`)},[s,o,c,f,r,n,e]),A=L=>typeof L=="number"?`$${L.toLocaleString(void 0,{maximumFractionDigits:0})}`:"",F=L=>{if(typeof L!="number"||L<=0)return null;const C=Math.round(L*2)/2;return i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 15l-5.878 3.09L5.66 12.18.782 8.452l6.268-.91L10 1.5l2.95 6.042 6.268.91-4.878 3.727 1.538 5.91z"})}),i.jsx("span",{className:"text-xs font-semibold",children:(C||0).toFixed(1)})]})},U=w.useRef(null);w.useEffect(()=>{!s&&U.current&&U.current.focus()},[s]);const V=(t.is_host,"/host/onboarding"),[Q]=w.useState(!1),[E]=w.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative w-full bg-cover bg-center min-h-[350px] flex items-center justify-center",style:{backgroundImage:"url('https://picsum.photos/seed/beachhero/1600/700')"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-transparent pointer-events-none"}),i.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-5xl mx-auto px-4 py-16",children:[T?i.jsx("h2",{className:"text-white text-3xl sm:text-4xl font-bold mb-6 drop-shadow-lg text-center",children:T}):i.jsx("h1",{className:"text-white text-4xl sm:text-6xl font-extrabold mb-4 drop-shadow-lg text-center",children:"Find your perfect beach villa."}),i.jsx("p",{className:"mt-1 mb-7 text-white font-medium text-lg text-center drop-shadow",children:"Sun-drenched escapes, ocean breezes, barefoot living."}),i.jsxs("form",{className:"w-full max-w-3xl bg-white/95 shadow-lg rounded-lg p-4 flex flex-col md:flex-row gap-2 md:gap-4 items-center",onSubmit:P,"aria-label":"Search for beach villas",children:[i.jsx("input",{type:"text",name:"location",ref:U,autoComplete:"off",placeholder:"Where to? (city or beach)",className:"flex-1 min-w-[120px] rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",value:s,onChange:L=>a(L.target.value)}),i.jsx("input",{type:"date",name:"checkin_date",className:"w-[120px] rounded-lg border border-gray-300 px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",value:o||"",onChange:L=>l(L.target.value||null),min:new Date().toISOString().slice(0,10),placeholder:"Check-in"}),i.jsx("input",{type:"date",name:"checkout_date",className:"w-[120px] rounded-lg border border-gray-300 px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",value:c||"",onChange:L=>u(L.target.value||null),min:o||new Date().toISOString().slice(0,10),placeholder:"Check-out"}),i.jsx("input",{type:"number",name:"num_guests",className:"w-[90px] rounded-lg border border-gray-300 px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",min:1,value:f,onChange:L=>d(Math.max(1,parseInt(L.target.value)||1)),placeholder:"Guests"}),i.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-lg transition-shadow focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Search",children:"Search"})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 justify-center items-center w-full",children:[i.jsx(q,{to:V,className:"inline-block bg-gradient-to-r from-teal-500 to-blue-500 hover:from-blue-500 hover:to-teal-500 text-white font-semibold shadow-md px-6 py-3 rounded-3xl text-lg transition-all",children:"List Your Villa"}),!t.is_authenticated&&i.jsxs(i.Fragment,{children:[i.jsx(q,{to:"/guest/login",className:"text-white bg-black/50 hover:bg-black/70 font-semibold rounded-3xl px-5 py-2 transition",children:"Login"}),i.jsx(q,{to:"/guest/signup",className:"text-white bg-black/40 hover:bg-black/70 font-semibold rounded-3xl px-5 py-2 transition",children:"Sign Up"})]})]})]})]}),i.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 md:px-8 py-12 flex flex-col gap-16",children:[i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-end justify-between mb-2",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Featured Villas"}),i.jsx("button",{className:"text-blue-600 underline underline-offset-4 hover:text-blue-800 focus:outline-none disabled:opacity-70 text-sm",onClick:()=>_(),disabled:v,"aria-label":"Refresh Featured Villas",type:"button",children:"Refresh"})]}),i.jsxs("div",{className:"relative",children:[v&&i.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-scroll pb-2",children:Array.from({length:4}).map((L,C)=>i.jsx("div",{className:"animate-pulse w-[300px] h-[320px] rounded-2xl bg-gray-200 flex-shrink-0"},C))}),g&&i.jsx("div",{className:"bg-red-100 py-3 px-5 rounded-lg my-2",children:i.jsxs("p",{className:"text-red-700",children:["Failed to load featured villas."," ",i.jsx("button",{className:"underline text-blue-700",onClick:()=>_(),type:"button",children:"Retry"})]})}),!v&&!g&&i.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-auto pb-2 snap-x",style:{WebkitOverflowScrolling:"touch"},children:h&&h.length>0?h.map((L,C)=>i.jsxs(q,{to:`/villa/${L.villa_id}`,className:"bg-white rounded-2xl shadow hover:shadow-lg transform hover:-translate-y-1 transition-all min-w-[275px] max-w-[315px] w-[285px] flex-shrink-0 flex flex-col snap-start",children:[i.jsxs("div",{className:"relative rounded-t-2xl overflow-hidden h-[180px] bg-gray-100",children:[i.jsx("img",{src:L.main_photo_url,alt:L.title,className:"object-cover w-full h-full transition-transform duration-200",loading:"lazy"}),L.is_instant_book&&i.jsx("span",{className:"absolute top-2 right-2 bg-green-500/80 text-xs px-2 py-0.5 rounded text-white font-medium shadow",children:"Instant Book"})]}),i.jsxs("div",{className:"flex-1 flex flex-col px-4 pt-3 pb-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[L.avg_rating>0&&F(Number(L.avg_rating)),L.reviews_count>0&&i.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:["(",L.reviews_count,")"]})]})}),i.jsx("h3",{className:"text-lg font-semibold truncate",title:L.title,children:L.title}),i.jsxs("div",{className:"flex flex-row items-center text-sm text-gray-500 gap-2 mt-0.5",children:[i.jsx("svg",{className:"w-4 h-4 text-blue-400 inline",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 18c-6-5.39-8-7.182-8-10A8 8 0 118 18h4zm0-8a2 2 0 110-4 2 2 0 010 4z"})}),i.jsx("span",{children:L.address_city})]}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-blue-700 text-lg",children:[A(L.price_per_night),i.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"/night"})]}),i.jsxs("span",{className:"inline-block text-xs text-gray-500",children:[L.bedrooms," bd · ",L.beds," beds · ",L.bathrooms," ba"]})]})]})]},L.villa_id||C)):i.jsx("div",{className:"text-sm text-gray-600 font-medium p-4",children:"No featured villas available at the moment."})})]})]}),i.jsxs("section",{className:"w-full",children:[i.jsxs("div",{className:"flex items-end justify-between mb-2",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Popular Beach Destinations"}),i.jsx("button",{className:"text-blue-600 underline underline-offset-4 hover:text-blue-800 focus:outline-none disabled:opacity-70 text-sm",onClick:()=>S(),disabled:x,type:"button","aria-label":"Refresh Destinations",children:"Refresh"})]}),i.jsxs("div",{className:"relative",children:[x&&i.jsx("div",{className:"flex flex-wrap gap-5 py-2",children:Array.from({length:7}).map((L,C)=>i.jsx("div",{className:"animate-pulse w-[172px] h-[100px] rounded-xl bg-gray-200"},C))}),m&&i.jsx("div",{className:"bg-red-100 py-3 px-5 rounded-lg my-2",children:i.jsxs("p",{className:"text-red-700",children:["Failed to load destinations."," ",i.jsx("button",{className:"underline text-blue-700",onClick:()=>S(),type:"button",children:"Retry"})]})}),!x&&!m&&i.jsx("div",{className:"flex flex-wrap gap-5",children:p&&p.length>0?p.map((L,C)=>i.jsxs(q,{to:`/search?location=${encodeURIComponent(L)}`,className:"group flex flex-col items-center justify-center bg-gradient-to-br from-cyan-50 to-blue-50 border border-blue-200 rounded-xl shadow hover:shadow-lg h-[100px] w-[172px] transition-all hover:scale-[1.04] focus:ring-2 ring-blue-400",tabIndex:0,"aria-label":`Browse villas in ${L}`,children:[i.jsx("span",{className:"text-base font-semibold text-blue-800 group-hover:text-teal-700",children:L}),i.jsx("span",{className:"mt-1 text-xs text-blue-400 group-hover:text-teal-500",children:"View villas →"})]},L||C)):i.jsx("div",{className:"text-sm text-gray-600 font-medium p-4",children:"No popular destinations found."})})]})]}),i.jsx("div",{className:"mx-auto max-w-3xl text-center text-lg text-gray-600 py-3",children:i.jsxs("span",{children:["Discover your new favorite beach"," ",i.jsx("span",{className:"font-semibold text-blue-500",children:"getaway"})," – from sun-kissed coasts to secret escapes, BeachStay Villas brings the ocean closer to you."]})})]})]})};var co=TypeError;const NA={},kA=Object.freeze(Object.defineProperty({__proto__:null,default:NA},Symbol.toStringTag,{value:"Module"})),SA=EN(kA);var Qg=typeof Map=="function"&&Map.prototype,zf=Object.getOwnPropertyDescriptor&&Qg?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,qu=Qg&&zf&&typeof zf.get=="function"?zf.get:null,Y0=Qg&&Map.prototype.forEach,Kg=typeof Set=="function"&&Set.prototype,qf=Object.getOwnPropertyDescriptor&&Kg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Vu=Kg&&qf&&typeof qf.get=="function"?qf.get:null,G0=Kg&&Set.prototype.forEach,CA=typeof WeakMap=="function"&&WeakMap.prototype,Qo=CA?WeakMap.prototype.has:null,EA=typeof WeakSet=="function"&&WeakSet.prototype,Ko=EA?WeakSet.prototype.has:null,PA=typeof WeakRef=="function"&&WeakRef.prototype,J0=PA?WeakRef.prototype.deref:null,OA=Boolean.prototype.valueOf,RA=Object.prototype.toString,TA=Function.prototype.toString,AA=String.prototype.match,Yg=String.prototype.slice,as=String.prototype.replace,$A=String.prototype.toUpperCase,X0=String.prototype.toLowerCase,Kj=RegExp.prototype.test,ev=Array.prototype.concat,Jr=Array.prototype.join,LA=Array.prototype.slice,tv=Math.floor,mp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Vf=Object.getOwnPropertySymbols,pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Yo=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ha||!0)?Symbol.toStringTag:null,Yj=Object.prototype.propertyIsEnumerable,rv=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function nv(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Kj.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-tv(-t):tv(t);if(n!==t){var s=String(n),a=Yg.call(e,s.length+1);return as.call(s,r,"$&_")+"."+as.call(as.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return as.call(e,r,"$&_")}var gp=SA,sv=gp.custom,iv=Xj(sv)?sv:null,Gj={__proto__:null,double:'"',single:"'"},FA={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Md=function t(e,r,n,s){var a=r||{};if(fn(a,"quoteStyle")&&!fn(Gj,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fn(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=fn(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fn(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fn(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return tN(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?nv(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return l?nv(e,u):u}var f=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return yp(e)?"[Array]":"[Object]";var d=e$(a,n);if(typeof s>"u")s=[];else if(eN(s,e)>=0)return"[Circular]";function h(E,L,C){if(L&&(s=LA.call(s),s.push(L)),C){var j={depth:a.depth};return fn(a,"quoteStyle")&&(j.quoteStyle=a.quoteStyle),t(E,j,n+1,s)}return t(E,a,n+1,s)}if(typeof e=="function"&&!av(e)){var v=WA(e),g=_c(e,h);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(g.length>0?" { "+Jr.call(g,", ")+" }":"")}if(Xj(e)){var y=Ha?as.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):pp.call(e);return typeof e=="object"&&!Ha?ko(y):y}if(GA(e)){for(var _="<"+X0.call(String(e.nodeName)),p=e.attributes||[],x=0;x<p.length;x++)_+=" "+p[x].name+"="+Jj(MA(p[x].value),"double",a);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+X0.call(String(e.nodeName))+">",_}if(yp(e)){if(e.length===0)return"[]";var m=_c(e,h);return d&&!XA(m)?"["+xp(m,d)+"]":"[ "+Jr.call(m,", ")+" ]"}if(DA(e)){var b=_c(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Yj.call(e,"cause")?"{ ["+String(e)+"] "+Jr.call(ev.call("[cause]: "+h(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Jr.call(b,", ")+" }"}if(typeof e=="object"&&o){if(iv&&typeof e[iv]=="function"&&gp)return gp(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(HA(e)){var S=[];return Y0&&Y0.call(e,function(E,L){S.push(h(L,e,!0)+" => "+h(E,e))}),ov("Map",qu.call(e),S,d)}if(KA(e)){var T=[];return G0&&G0.call(e,function(E){T.push(h(E,e))}),ov("Set",Vu.call(e),T,d)}if(ZA(e))return Wf("WeakMap");if(YA(e))return Wf("WeakSet");if(QA(e))return Wf("WeakRef");if(UA(e))return ko(h(Number(e)));if(qA(e))return ko(h(mp.call(e)));if(zA(e))return ko(OA.call(e));if(BA(e))return ko(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof cy<"u"&&e===cy)return"{ [object globalThis] }";if(!IA(e)&&!av(e)){var P=_c(e,h),A=rv?rv(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",U=!A&&Yo&&Object(e)===e&&Yo in e?Yg.call(Rs(e),8,-1):F?"Object":"",V=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Q=V+(U||F?"["+Jr.call(ev.call([],U||[],F||[]),": ")+"] ":"");return P.length===0?Q+"{}":d?Q+"{"+xp(P,d)+"}":Q+"{ "+Jr.call(P,", ")+" }"}return String(e)};function Jj(t,e,r){var n=r.quoteStyle||e,s=Gj[n];return s+t+s}function MA(t){return as.call(String(t),/"/g,"&quot;")}function Ai(t){return!Yo||!(typeof t=="object"&&(Yo in t||typeof t[Yo]<"u"))}function yp(t){return Rs(t)==="[object Array]"&&Ai(t)}function IA(t){return Rs(t)==="[object Date]"&&Ai(t)}function av(t){return Rs(t)==="[object RegExp]"&&Ai(t)}function DA(t){return Rs(t)==="[object Error]"&&Ai(t)}function BA(t){return Rs(t)==="[object String]"&&Ai(t)}function UA(t){return Rs(t)==="[object Number]"&&Ai(t)}function zA(t){return Rs(t)==="[object Boolean]"&&Ai(t)}function Xj(t){if(Ha)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!pp)return!1;try{return pp.call(t),!0}catch{}return!1}function qA(t){if(!t||typeof t!="object"||!mp)return!1;try{return mp.call(t),!0}catch{}return!1}var VA=Object.prototype.hasOwnProperty||function(t){return t in this};function fn(t,e){return VA.call(t,e)}function Rs(t){return RA.call(t)}function WA(t){if(t.name)return t.name;var e=AA.call(TA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function eN(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function HA(t){if(!qu||!t||typeof t!="object")return!1;try{qu.call(t);try{Vu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ZA(t){if(!Qo||!t||typeof t!="object")return!1;try{Qo.call(t,Qo);try{Ko.call(t,Ko)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function QA(t){if(!J0||!t||typeof t!="object")return!1;try{return J0.call(t),!0}catch{}return!1}function KA(t){if(!Vu||!t||typeof t!="object")return!1;try{Vu.call(t);try{qu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function YA(t){if(!Ko||!t||typeof t!="object")return!1;try{Ko.call(t,Ko);try{Qo.call(t,Qo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function GA(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function tN(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return tN(Yg.call(t,0,e.maxStringLength),e)+n}var s=FA[e.quoteStyle||"single"];s.lastIndex=0;var a=as.call(as.call(t,s,"\\$1"),/[\x00-\x1f]/g,JA);return Jj(a,"single",e)}function JA(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+$A.call(e.toString(16))}function ko(t){return"Object("+t+")"}function Wf(t){return t+" { ? }"}function ov(t,e,r,n){var s=n?xp(r,n):Jr.call(r,", ");return t+" ("+e+") {"+s+"}"}function XA(t){for(var e=0;e<t.length;e++)if(eN(t[e],`
`)>=0)return!1;return!0}function e$(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Jr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Jr.call(Array(e+1),r)}}function xp(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Jr.call(t,","+r)+`
`+e.prev}function _c(t,e){var r=yp(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=fn(t,s)?e(t[s],t):""}var a=typeof Vf=="function"?Vf(t):[],o;if(Ha){o={};for(var l=0;l<a.length;l++)o["$"+a[l]]=a[l]}for(var c in t)fn(t,c)&&(r&&String(Number(c))===c&&c<t.length||Ha&&o["$"+c]instanceof Symbol||(Kj.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Vf=="function")for(var u=0;u<a.length;u++)Yj.call(t,a[u])&&n.push("["+e(a[u])+"]: "+e(t[a[u]],t));return n}var t$=Md,r$=co,Id=function(t,e,r){for(var n=t,s;(s=n.next)!=null;n=s)if(s.key===e)return n.next=s.next,r||(s.next=t.next,t.next=s),s},n$=function(t,e){if(t){var r=Id(t,e);return r&&r.value}},s$=function(t,e,r){var n=Id(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},i$=function(t,e){return t?!!Id(t,e):!1},a$=function(t,e){if(t)return Id(t,e,!0)},o$=function(){var e,r={assert:function(n){if(!r.has(n))throw new r$("Side channel does not contain "+t$(n))},delete:function(n){var s=e&&e.next,a=a$(e,n);return a&&s&&s===a&&(e=void 0),!!a},get:function(n){return n$(e,n)},has:function(n){return i$(e,n)},set:function(n,s){e||(e={next:void 0}),s$(e,n,s)}};return r},rN=Object,l$=Error,c$=EvalError,u$=RangeError,d$=ReferenceError,f$=SyntaxError,h$=URIError,m$=Math.abs,p$=Math.floor,g$=Math.max,y$=Math.min,x$=Math.pow,v$=Math.round,_$=Number.isNaN||function(e){return e!==e},b$=_$,w$=function(e){return b$(e)||e===0?e:e<0?-1:1},j$=Object.getOwnPropertyDescriptor,Jc=j$;if(Jc)try{Jc([],"length")}catch{Jc=null}var nN=Jc,Xc=Object.defineProperty||!1;if(Xc)try{Xc({},"a",{value:1})}catch{Xc=!1}var N$=Xc,Hf,lv;function k$(){return lv||(lv=1,Hf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),Hf}var Zf,cv;function S$(){if(cv)return Zf;cv=1;var t=typeof Symbol<"u"&&Symbol,e=k$();return Zf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Zf}var Qf,uv;function sN(){return uv||(uv=1,Qf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Qf}var Kf,dv;function iN(){if(dv)return Kf;dv=1;var t=rN;return Kf=t.getPrototypeOf||null,Kf}var Yf,fv;function C$(){if(fv)return Yf;fv=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(c,u){for(var f=[],d=0;d<c.length;d+=1)f[d]=c[d];for(var h=0;h<u.length;h+=1)f[h+c.length]=u[h];return f},a=function(c,u){for(var f=[],d=u,h=0;d<c.length;d+=1,h+=1)f[h]=c[d];return f},o=function(l,c){for(var u="",f=0;f<l.length;f+=1)u+=l[f],f+1<l.length&&(u+=c);return u};return Yf=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var f=a(arguments,1),d,h=function(){if(this instanceof d){var p=u.apply(this,s(f,arguments));return Object(p)===p?p:this}return u.apply(c,s(f,arguments))},v=r(0,u.length-f.length),g=[],y=0;y<v;y++)g[y]="$"+y;if(d=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var _=function(){};_.prototype=u.prototype,d.prototype=new _,_.prototype=null}return d},Yf}var Gf,hv;function Dd(){if(hv)return Gf;hv=1;var t=C$();return Gf=Function.prototype.bind||t,Gf}var Jf,mv;function Gg(){return mv||(mv=1,Jf=Function.prototype.call),Jf}var Xf,pv;function aN(){return pv||(pv=1,Xf=Function.prototype.apply),Xf}var E$=typeof Reflect<"u"&&Reflect&&Reflect.apply,P$=Dd(),O$=aN(),R$=Gg(),T$=E$,A$=T$||P$.call(R$,O$),$$=Dd(),L$=co,F$=Gg(),M$=A$,oN=function(e){if(e.length<1||typeof e[0]!="function")throw new L$("a function is required");return M$($$,F$,e)},eh,gv;function I$(){if(gv)return eh;gv=1;var t=oN,e=nN,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return eh=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(l){return a(l==null?l:s(l))}:!1,eh}var th,yv;function D$(){if(yv)return th;yv=1;var t=sN(),e=iN(),r=I$();return th=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,th}var rh,xv;function B$(){if(xv)return rh;xv=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Dd();return rh=r.call(t,e),rh}var Re,U$=rN,z$=l$,q$=c$,V$=u$,W$=d$,Za=f$,ha=co,H$=h$,Z$=m$,Q$=p$,K$=g$,Y$=y$,G$=x$,J$=v$,X$=w$,lN=Function,nh=function(t){try{return lN('"use strict"; return ('+t+").constructor;")()}catch{}},kl=nN,e3=N$,sh=function(){throw new ha},t3=kl?function(){try{return arguments.callee,sh}catch{try{return kl(arguments,"callee").get}catch{return sh}}}():sh,zi=S$()(),bt=D$(),r3=iN(),n3=sN(),cN=aN(),Wl=Gg(),Wi={},s3=typeof Uint8Array>"u"||!bt?Re:bt(Uint8Array),hi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":zi&&bt?bt([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":Wi,"%AsyncGenerator%":Wi,"%AsyncGeneratorFunction%":Wi,"%AsyncIteratorPrototype%":Wi,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z$,"%eval%":eval,"%EvalError%":q$,"%Float16Array%":typeof Float16Array>"u"?Re:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":lN,"%GeneratorFunction%":Wi,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zi&&bt?bt(bt([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zi||!bt?Re:bt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":U$,"%Object.getOwnPropertyDescriptor%":kl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":V$,"%ReferenceError%":W$,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zi||!bt?Re:bt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zi&&bt?bt(""[Symbol.iterator]()):Re,"%Symbol%":zi?Symbol:Re,"%SyntaxError%":Za,"%ThrowTypeError%":t3,"%TypedArray%":s3,"%TypeError%":ha,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":H$,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet,"%Function.prototype.call%":Wl,"%Function.prototype.apply%":cN,"%Object.defineProperty%":e3,"%Object.getPrototypeOf%":r3,"%Math.abs%":Z$,"%Math.floor%":Q$,"%Math.max%":K$,"%Math.min%":Y$,"%Math.pow%":G$,"%Math.round%":J$,"%Math.sign%":X$,"%Reflect.getPrototypeOf%":n3};if(bt)try{null.error}catch(t){var i3=bt(bt(t));hi["%Error.prototype%"]=i3}var a3=function t(e){var r;if(e==="%AsyncFunction%")r=nh("async function () {}");else if(e==="%GeneratorFunction%")r=nh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=nh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&bt&&(r=bt(s.prototype))}return hi[e]=r,r},vv={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hl=Dd(),Wu=B$(),o3=Hl.call(Wl,Array.prototype.concat),l3=Hl.call(cN,Array.prototype.splice),_v=Hl.call(Wl,String.prototype.replace),Hu=Hl.call(Wl,String.prototype.slice),c3=Hl.call(Wl,RegExp.prototype.exec),u3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,d3=/\\(\\)?/g,f3=function(e){var r=Hu(e,0,1),n=Hu(e,-1);if(r==="%"&&n!=="%")throw new Za("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Za("invalid intrinsic syntax, expected opening `%`");var s=[];return _v(e,u3,function(a,o,l,c){s[s.length]=l?_v(c,d3,"$1"):o||a}),s},h3=function(e,r){var n=e,s;if(Wu(vv,n)&&(s=vv[n],n="%"+s[0]+"%"),Wu(hi,n)){var a=hi[n];if(a===Wi&&(a=a3(n)),typeof a>"u"&&!r)throw new ha("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:a}}throw new Za("intrinsic "+e+" does not exist!")},Jg=function(e,r){if(typeof e!="string"||e.length===0)throw new ha("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ha('"allowMissing" argument must be a boolean');if(c3(/^%?[^%]*%?$/,e)===null)throw new Za("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=f3(e),s=n.length>0?n[0]:"",a=h3("%"+s+"%",r),o=a.name,l=a.value,c=!1,u=a.alias;u&&(s=u[0],l3(n,o3([0,1],u)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],v=Hu(h,0,1),g=Hu(h,-1);if((v==='"'||v==="'"||v==="`"||g==='"'||g==="'"||g==="`")&&v!==g)throw new Za("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(c=!0),s+="."+h,o="%"+s+"%",Wu(hi,o))l=hi[o];else if(l!=null){if(!(h in l)){if(!r)throw new ha("base intrinsic for "+e+" exists, but the property is not available.");return}if(kl&&f+1>=n.length){var y=kl(l,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?l=y.get:l=l[h]}else d=Wu(l,h),l=l[h];d&&!c&&(hi[o]=l)}}return l},uN=Jg,dN=oN,m3=dN([uN("%String.prototype.indexOf%")]),fN=function(e,r){var n=uN(e,!!r);return typeof n=="function"&&m3(e,".prototype.")>-1?dN([n]):n},p3=Jg,Zl=fN,g3=Md,y3=co,bv=p3("%Map%",!0),x3=Zl("Map.prototype.get",!0),v3=Zl("Map.prototype.set",!0),_3=Zl("Map.prototype.has",!0),b3=Zl("Map.prototype.delete",!0),w3=Zl("Map.prototype.size",!0),hN=!!bv&&function(){var e,r={assert:function(n){if(!r.has(n))throw new y3("Side channel does not contain "+g3(n))},delete:function(n){if(e){var s=b3(e,n);return w3(e)===0&&(e=void 0),s}return!1},get:function(n){if(e)return x3(e,n)},has:function(n){return e?_3(e,n):!1},set:function(n,s){e||(e=new bv),v3(e,n,s)}};return r},j3=Jg,Bd=fN,N3=Md,bc=hN,k3=co,qi=j3("%WeakMap%",!0),S3=Bd("WeakMap.prototype.get",!0),C3=Bd("WeakMap.prototype.set",!0),E3=Bd("WeakMap.prototype.has",!0),P3=Bd("WeakMap.prototype.delete",!0),O3=qi?function(){var e,r,n={assert:function(s){if(!n.has(s))throw new k3("Side channel does not contain "+N3(s))},delete:function(s){if(qi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return P3(e,s)}else if(bc&&r)return r.delete(s);return!1},get:function(s){return qi&&s&&(typeof s=="object"||typeof s=="function")&&e?S3(e,s):r&&r.get(s)},has:function(s){return qi&&s&&(typeof s=="object"||typeof s=="function")&&e?E3(e,s):!!r&&r.has(s)},set:function(s,a){qi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new qi),C3(e,s,a)):bc&&(r||(r=bc()),r.set(s,a))}};return n}:bc,R3=co,T3=Md,A3=o$,$3=hN,L3=O3,F3=L3||$3||A3,M3=function(){var e,r={assert:function(n){if(!r.has(n))throw new R3("Side channel does not contain "+T3(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,s){e||(e=F3()),e.set(n,s)}};return r},I3=String.prototype.replace,D3=/%20/g,ih={RFC1738:"RFC1738",RFC3986:"RFC3986"},Xg={default:ih.RFC3986,formatters:{RFC1738:function(t){return I3.call(t,D3,"+")},RFC3986:function(t){return String(t)}},RFC1738:ih.RFC1738,RFC3986:ih.RFC3986},B3=Xg,ah=Object.prototype.hasOwnProperty,Ws=Array.isArray,Wr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),U3=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ws(n)){for(var s=[],a=0;a<n.length;++a)typeof n[a]<"u"&&s.push(n[a]);r.obj[r.prop]=s}}},mN=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},z3=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Ws(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ah.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return Ws(e)&&!Ws(r)&&(s=mN(e,n)),Ws(e)&&Ws(r)?(r.forEach(function(a,o){if(ah.call(e,o)){var l=e[o];l&&typeof l=="object"&&a&&typeof a=="object"?e[o]=t(l,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var l=r[o];return ah.call(a,o)?a[o]=t(a[o],l,n):a[o]=l,a},s)},q3=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},V3=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},oh=1024,W3=function(e,r,n,s,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;c+=oh){for(var u=o.length>=oh?o.slice(c,c+oh):o,f=[],d=0;d<u.length;++d){var h=u.charCodeAt(d);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||a===B3.RFC1738&&(h===40||h===41)){f[f.length]=u.charAt(d);continue}if(h<128){f[f.length]=Wr[h];continue}if(h<2048){f[f.length]=Wr[192|h>>6]+Wr[128|h&63];continue}if(h<55296||h>=57344){f[f.length]=Wr[224|h>>12]+Wr[128|h>>6&63]+Wr[128|h&63];continue}d+=1,h=65536+((h&1023)<<10|u.charCodeAt(d)&1023),f[f.length]=Wr[240|h>>18]+Wr[128|h>>12&63]+Wr[128|h>>6&63]+Wr[128|h&63]}l+=f.join("")}return l},H3=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var a=r[s],o=a.obj[a.prop],l=Object.keys(o),c=0;c<l.length;++c){var u=l[c],f=o[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:u}),n.push(f))}return U3(r),e},Z3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Q3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},K3=function(e,r){return[].concat(e,r)},Y3=function(e,r){if(Ws(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},pN={arrayToObject:mN,assign:q3,combine:K3,compact:H3,decode:V3,encode:W3,isBuffer:Q3,isRegExp:Z3,maybeMap:Y3,merge:z3},gN=M3,eu=pN,Go=Xg,G3=Object.prototype.hasOwnProperty,yN={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Zr=Array.isArray,J3=Array.prototype.push,xN=function(t,e){J3.apply(t,Zr(e)?e:[e])},X3=Date.prototype.toISOString,wv=Go.default,xt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:eu.encode,encodeValuesOnly:!1,filter:void 0,format:wv,formatter:Go.formatters[wv],indices:!1,serializeDate:function(e){return X3.call(e)},skipNulls:!1,strictNullHandling:!1},e5=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},lh={},t5=function t(e,r,n,s,a,o,l,c,u,f,d,h,v,g,y,_,p,x){for(var m=e,b=x,S=0,T=!1;(b=b.get(lh))!==void 0&&!T;){var P=b.get(e);if(S+=1,typeof P<"u"){if(P===S)throw new RangeError("Cyclic object value");T=!0}typeof b.get(lh)>"u"&&(S=0)}if(typeof f=="function"?m=f(r,m):m instanceof Date?m=v(m):n==="comma"&&Zr(m)&&(m=eu.maybeMap(m,function(z){return z instanceof Date?v(z):z})),m===null){if(o)return u&&!_?u(r,xt.encoder,p,"key",g):r;m=""}if(e5(m)||eu.isBuffer(m)){if(u){var A=_?r:u(r,xt.encoder,p,"key",g);return[y(A)+"="+y(u(m,xt.encoder,p,"value",g))]}return[y(r)+"="+y(String(m))]}var F=[];if(typeof m>"u")return F;var U;if(n==="comma"&&Zr(m))_&&u&&(m=eu.maybeMap(m,u)),U=[{value:m.length>0?m.join(",")||null:void 0}];else if(Zr(f))U=f;else{var V=Object.keys(m);U=d?V.sort(d):V}var Q=c?String(r).replace(/\./g,"%2E"):String(r),E=s&&Zr(m)&&m.length===1?Q+"[]":Q;if(a&&Zr(m)&&m.length===0)return E+"[]";for(var L=0;L<U.length;++L){var C=U[L],j=typeof C=="object"&&C&&typeof C.value<"u"?C.value:m[C];if(!(l&&j===null)){var N=h&&c?String(C).replace(/\./g,"%2E"):String(C),R=Zr(m)?typeof n=="function"?n(E,N):E:E+(h?"."+N:"["+N+"]");x.set(e,S);var M=gN();M.set(lh,x),xN(F,t(j,R,n,s,a,o,l,c,n==="comma"&&_&&Zr(m)?null:u,f,d,h,v,g,y,_,p,M))}}return F},r5=function(e){if(!e)return xt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||xt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Go.default;if(typeof e.format<"u"){if(!G3.call(Go.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Go.formatters[n],a=xt.filter;(typeof e.filter=="function"||Zr(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in yN?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=xt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:xt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:xt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:xt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?xt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:xt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:xt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:xt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:xt.encodeValuesOnly,filter:a,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:xt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:xt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xt.strictNullHandling}},n5=function(t,e){var r=t,n=r5(e),s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Zr(n.filter)&&(a=n.filter,s=a);var o=[];if(typeof r!="object"||r===null)return"";var l=yN[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var u=gN(),f=0;f<s.length;++f){var d=s[f],h=r[d];n.skipNulls&&h===null||xN(o,t5(h,d,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var v=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),v.length>0?g+v:""},ki=pN,vp=Object.prototype.hasOwnProperty,jv=Array.isArray,it={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ki.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s5=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},vN=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},i5="utf8=%26%2310003%3B",a5="utf8=%E2%9C%93",o5=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=s.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var l=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===a5?u="utf-8":o[c]===i5&&(u="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var f=o[c],d=f.indexOf("]="),h=d===-1?f.indexOf("="):d+1,v,g;h===-1?(v=r.decoder(f,it.decoder,u,"key"),g=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,h),it.decoder,u,"key"),g=ki.maybeMap(vN(f.slice(h+1),r,jv(n[v])?n[v].length:0),function(_){return r.decoder(_,it.decoder,u,"value")})),g&&r.interpretNumericEntities&&u==="iso-8859-1"&&(g=s5(String(g))),f.indexOf("[]=")>-1&&(g=jv(g)?[g]:g);var y=vp.call(n,v);y&&r.duplicates==="combine"?n[v]=ki.combine(n[v],g):(!y||r.duplicates==="last")&&(n[v]=g)}return n},l5=function(t,e,r,n){var s=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");s=Array.isArray(e)&&e[a]?e[a].length:0}for(var o=n?e:vN(e,r,s),l=t.length-1;l>=0;--l){var c,u=t[l];if(u==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:ki.combine([],o);else{c=r.plainObjects?{__proto__:null}:{};var f=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,h=parseInt(d,10);!r.parseArrays&&d===""?c={0:o}:!isNaN(h)&&u!==d&&String(h)===d&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(c=[],c[h]=o):d!=="__proto__"&&(c[d]=o)}o=c}return o},c5=function(e,r,n,s){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),u=c?a.slice(0,c.index):a,f=[];if(u){if(!n.plainObjects&&vp.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var d=0;n.depth>0&&(c=l.exec(a))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&vp.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+a.slice(c.index)+"]")}return l5(f,r,n,s)}},u5=function(e){if(!e)return it;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?it.charset:e.charset,n=typeof e.duplicates>"u"?it.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:it.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:it.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:it.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:it.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:it.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:it.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:it.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:it.decoder,delimiter:typeof e.delimiter=="string"||ki.isRegExp(e.delimiter)?e.delimiter:it.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:it.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:it.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:it.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:it.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:it.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},d5=function(t,e){var r=u5(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?o5(t,r):t,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),o=0;o<a.length;++o){var l=a[o],c=c5(l,n[l],r,typeof t=="string");s=ki.merge(s,c,r)}return r.allowSparse===!0?s:ki.compact(s)},f5=n5,h5=d5,m5=Xg,p5={formats:m5,parse:h5,stringify:f5};const ey=Sp(p5),g5=t=>{const e=ey.parse(t.startsWith("?")?t.slice(1):t,{ignoreQueryPrefix:!0,decoder:(o,l,c,u)=>{if(u==="value"){if(o==="null")return null;if(o==="true")return!0;if(o==="false")return!1;if(/^-?\d+(\.\d+)?$/.test(o)){const f=Number(o);return Number.isNaN(f)?o:f}}return l(o,l,c)}});let r=[],n=e.amenities;typeof n=="string"?r=n.split(",").filter(Boolean).map(o=>Number(o)).filter(Number.isFinite):Array.isArray(n)&&(r=n.flatMap(o=>typeof o=="string"?o.split(",").map(l=>Number(l)).filter(Number.isFinite):[]));const s=o=>o===void 0?null:typeof o=="boolean"?o:o==="true"||o===!0?!0:o==="false"||o===!1?!1:null,a={price_min:e.price_min!==void 0?Number(e.price_min):null,price_max:e.price_max!==void 0?Number(e.price_max):null,bedrooms:e.bedrooms!==void 0?Number(e.bedrooms):null,beds:e.beds!==void 0?Number(e.beds):null,bathrooms:e.bathrooms!==void 0?Number(e.bathrooms):null,amenities:r,is_beachfront:s(e.is_beachfront),is_pet_friendly:s(e.is_pet_friendly),is_instant_book:s(e.is_instant_book)};return{location:e.location||"",checkin_date:e.checkin_date?String(e.checkin_date):null,checkout_date:e.checkout_date?String(e.checkout_date):null,num_guests:e.num_guests?Number(e.num_guests):1,filters:a,sort:e.sort?String(e.sort):"recommended",page:e.page?Number(e.page):1}},y5={price_min:null,price_max:null,bedrooms:null,beds:null,bathrooms:null,amenities:[],is_beachfront:null,is_pet_friendly:null,is_instant_book:null},x5=[{key:"recommended",label:"Recommended"},{key:"price_low_high",label:"Price (Low → High)"},{key:"price_high_low",label:"Price (High → Low)"},{key:"rating",label:"User Rating"},{key:"newest",label:"Newest"},{key:"popularity",label:"Most Popular"}];function ch(t){var r;const e={};return t.location&&(e.location=t.location),t.checkin_date&&(e.checkin_date=t.checkin_date),t.checkout_date&&(e.checkout_date=t.checkout_date),t.num_guests&&(e.num_guests=t.num_guests),t.filters.price_min!==null&&(e.price_min=t.filters.price_min),t.filters.price_max!==null&&(e.price_max=t.filters.price_max),t.filters.bedrooms!==null&&(e.bedrooms=t.filters.bedrooms),t.filters.beds!==null&&(e.beds=t.filters.beds),t.filters.bathrooms!==null&&(e.bathrooms=t.filters.bathrooms),(r=t.filters.amenities)!=null&&r.length&&(e.amenities=t.filters.amenities.join(",")),t.filters.is_beachfront!==null&&(e.is_beachfront=t.filters.is_beachfront===!0?"true":t.filters.is_beachfront===!1?"false":void 0),t.filters.is_pet_friendly!==null&&(e.is_pet_friendly=t.filters.is_pet_friendly===!0?"true":t.filters.is_pet_friendly===!1?"false":void 0),t.filters.is_instant_book!==null&&(e.is_instant_book=t.filters.is_instant_book===!0?"true":t.filters.is_instant_book===!1?"false":void 0),t.sort&&(e.sort=t.sort),t.page&&(e.page=t.page),ey.stringify(e,{addQueryPrefix:!0,arrayFormat:"comma"})}const uh=12,v5=()=>{const{search:t}=Br(),e=et(),r=ie(j=>j.search_state),n=ie(j=>j.set_search_state),[s,a]=w.useState(!1),{data:o,isLoading:l,isError:c}=ve({queryKey:["amenities"],queryFn:async()=>{const j="https://123testing-project-yes-api.launchpulse.ai/api",{data:N}=await W.get(`${j}/villas/amenities`);return N},staleTime:60*60*1e3,retry:1});w.useEffect(()=>{const j=g5(t);n(j)},[t]);const u=w.useMemo(()=>({location:r.location,checkin_date:r.checkin_date,checkout_date:r.checkout_date,num_guests:r.num_guests,...r.filters,sort:r.sort,page:r.page}),[r]),{data:f,isLoading:d,isError:h,error:v,refetch:g}=ve({queryKey:["villas",u.location,u.checkin_date,u.checkout_date,u.num_guests,u.price_min,u.price_max,u.bedrooms,u.beds,u.bathrooms,(u.amenities||[]).join(","),u.is_beachfront,u.is_pet_friendly,u.is_instant_book,u.sort,u.page],queryFn:async()=>{const j="https://123testing-project-yes-api.launchpulse.ai/api",N={};u.location&&(N.location=u.location),u.checkin_date&&(N.checkin_date=u.checkin_date),u.checkout_date&&(N.checkout_date=u.checkout_date),u.num_guests&&(N.num_guests=u.num_guests),u.price_min!=null&&(N.price_min=u.price_min),u.price_max!=null&&(N.price_max=u.price_max),u.bedrooms!=null&&(N.bedrooms=u.bedrooms),u.beds!=null&&(N.beds=u.beds),u.bathrooms!=null&&(N.bathrooms=u.bathrooms),u.amenities&&u.amenities.length&&(N.amenities=u.amenities.join(",")),u.is_beachfront!==null&&(N.is_beachfront=u.is_beachfront===!0?"true":u.is_beachfront===!1?"false":void 0),u.is_pet_friendly!==null&&(N.is_pet_friendly=u.is_pet_friendly===!0?"true":u.is_pet_friendly===!1?"false":void 0),u.is_instant_book!==null&&(N.is_instant_book=u.is_instant_book===!0?"true":u.is_instant_book===!1?"false":void 0),u.sort&&(N.sort=u.sort),u.page&&(N.page=u.page);const{data:R}=await W.get(`${j}/villas`,{params:N,paramsSerializer:M=>ey.stringify(M,{arrayFormat:"comma"})});return{results:(R.results||[]).map(M=>({...M,villa_id:String(M.villa_id),main_photo_url:M.main_photo_url||`https://picsum.photos/seed/villa_${M.villa_id}/600/400`})),total:R.total,page:R.page}},keepPreviousData:!0,retry:2}),y=(j,N)=>{const R={...r.filters||y5};R[j]=N;const M={...r,filters:R,page:1},z=ch(M);e(`/search${z}`)},_=j=>{const N=j.target.value,R={...r,sort:N,page:1},M=ch(R);e(`/search${M}`)},p=j=>{if(j<1)return;const N={...r,page:j},R=ch(N);e(`/search${R}`)},x=j=>{const N=Array.from(j.target.selectedOptions).map(R=>Number(R.value));y("amenities",N)},m=()=>{a(j=>!j)},b=(j,N)=>{let R=N===""?null:Number(N);R!==null&&Number.isNaN(R)&&(R=null),y(j,R)},S=(j,N)=>{y(j,N?!0:null)},T=(f==null?void 0:f.total)||0,P=(f==null?void 0:f.page)||1,A=(f==null?void 0:f.results)||[],F=Math.max(1,Math.ceil(T/uh)),U=(P-1)*uh+1,V=Math.min(P*uh,T),E=["Malibu","Santa Monica","Cancun","Maui","Tulum"].find(j=>j!==r.location)||"Miami Beach",[L,C]=w.useState(null);return w.useEffect(()=>{C(h?v?v.message:"Unknown error loading villas.":null)},[h,v]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"w-full max-w-7xl mx-auto py-2 px-2 md:px-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-y-2 border-b pb-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-y-1 md:flex-row md:gap-x-6 md:items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-primary",children:r.location?r.location:"All Destinations"}),i.jsx("span",{className:"text-sm text-gray-600",children:r.checkin_date&&r.checkout_date?`${r.checkin_date} to ${r.checkout_date}`:"Any Dates"}),i.jsx("span",{className:"text-sm text-gray-600",children:r.num_guests?`${r.num_guests} guest${r.num_guests>1?"s":""}`:""})]}),i.jsxs("button",{type:"button",className:"ml-auto md:ml-0 rounded-lg px-3 py-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium flex items-center space-x-2 transition",onClick:m,"aria-pressed":s,title:s?"Hide Map":"Show Map",children:[i.jsx("svg",{className:"w-5 h-5 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A2 2 0 013 15.382V5.618a2 2 0 012.553-1.894L9 6.618l6-3 5.447 2.724A2 2 0 0121 8.618v9.764a2 2 0 01-2.553 1.894L15 17.382l-6 3z"})}),i.jsx("span",{children:s?"Hide Map":"Show Map"})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-2 border-b pb-4 mb-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"text-gray-600 mr-1",children:"From "}),i.jsx("input",{className:"w-20 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,placeholder:"Min $",value:r.filters.price_min??"",onChange:j=>b("price_min",j.target.value)}),i.jsx("span",{className:"mx-0.5",children:"–"}),i.jsx("input",{className:"w-20 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,placeholder:"Max $",value:r.filters.price_max??"",onChange:j=>b("price_max",j.target.value)})]}),i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Bedrooms"}),i.jsx("input",{className:"w-12 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,max:16,value:r.filters.bedrooms??"",onChange:j=>b("bedrooms",j.target.value)})]}),i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Beds"}),i.jsx("input",{className:"w-12 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,max:30,value:r.filters.beds??"",onChange:j=>b("beds",j.target.value)})]}),i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Baths"}),i.jsx("input",{className:"w-12 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,max:30,value:r.filters.bathrooms??"",onChange:j=>b("bathrooms",j.target.value)})]}),i.jsxs("div",{children:[i.jsxs("select",{className:"min-w-[120px] px-2 py-1 border border-gray-300 rounded text-sm",multiple:!0,value:r.filters.amenities.map(String),onChange:x,size:l?1:3,"aria-label":"Amenities Filter",children:[i.jsx("option",{value:"",disabled:!0,children:l?"Loading...":"Select amenities"}),!!o&&o.length>0&&o.map(j=>i.jsx("option",{value:String(j.amenity_id),className:"capitalize",children:j.label},j.amenity_id))]})," ",i.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"Amenities"})]}),i.jsxs("label",{className:"flex items-center text-xs ml-1 mt-1",children:[i.jsx("input",{type:"checkbox",className:"mr-1 accent-blue-500",checked:!!r.filters.is_beachfront,onChange:j=>S("is_beachfront",j.target.checked)}),"Beachfront"]}),i.jsxs("label",{className:"flex items-center text-xs ml-1 mt-1",children:[i.jsx("input",{type:"checkbox",className:"mr-1 accent-blue-500",checked:!!r.filters.is_pet_friendly,onChange:j=>S("is_pet_friendly",j.target.checked)}),"Pet Friendly"]}),i.jsxs("label",{className:"flex items-center text-xs ml-1 mt-1",children:[i.jsx("input",{type:"checkbox",className:"mr-1 accent-blue-500",checked:!!r.filters.is_instant_book,onChange:j=>S("is_instant_book",j.target.checked)}),"Instant Book"]})]}),i.jsx("div",{className:"ml-0 md:ml-auto flex items-end h-full mt-2 md:mt-0",children:i.jsxs("label",{className:"flex items-center text-xs",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Sort:"}),i.jsx("select",{className:"px-2 py-1 border border-gray-300 rounded text-sm",value:r.sort,onChange:_,children:x5.map(j=>i.jsx("option",{value:j.key,children:j.label},j.key))})]})})]}),i.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6 relative",children:[i.jsx("div",{className:s?"md:w-2/3 w-full transition-all":"w-full",children:d?i.jsxs("div",{className:"flex flex-col items-center justify-center w-full py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-3"}),i.jsx("div",{className:"text-gray-400 text-md",children:"Loading villas..."})]}):L?i.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[i.jsx("span",{className:"text-red-500 text-lg font-semibold mb-2",children:"Error loading villas"}),i.jsx("span",{className:"text-sm mb-4",children:L}),i.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>g(),children:"Retry"})]}):A.length?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-baseline justify-between mb-3 pl-1",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",U,"–",V," of ",T," villas"]}),i.jsxs("div",{className:"flex items-center gap-x-1",children:[i.jsx("button",{className:"px-2 py-1 rounded-l border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P<=1,onClick:()=>p(P-1),"aria-label":"Previous page",children:"‹"}),i.jsxs("span",{className:"px-2 text-xs text-gray-600",children:["Page ",P," of ",F]}),i.jsx("button",{className:"px-2 py-1 rounded-r border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P>=F,onClick:()=>p(P+1),"aria-label":"Next page",children:"›"})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-5",children:A.map(j=>{var N;return i.jsxs("div",{className:"bg-white border rounded-lg shadow hover:shadow-lg group transition overflow-hidden relative",children:[i.jsxs(q,{to:`/villa/${j.villa_id}`,className:"block w-full h-48 overflow-hidden",children:[i.jsx("img",{src:j.main_photo_url||`https://picsum.photos/seed/villa_${j.villa_id}/600/400`,alt:j.title,className:"w-full h-48 object-cover transition-transform group-hover:scale-105",loading:"lazy"}),j.is_instant_book&&i.jsx("span",{className:"absolute top-3 right-3 bg-green-500 text-xs text-white px-2 py-0.5 rounded font-bold shadow",children:"Instant Book"})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center gap-x-2 mb-1",children:[i.jsx(q,{to:`/villa/${j.villa_id}`,className:"text-md font-bold text-gray-900 hover:underline truncate",children:j.title}),i.jsxs("span",{className:"ml-auto inline-flex items-center gap-x-1 text-xs text-yellow-600 font-semibold",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.053 3.247a1 1 0 00.95.69h3.415c.969 0 1.372 1.24.588 1.81l-2.763 2.01a1 1 0 00-.364 1.118l1.053 3.247c.3.921-.755 1.688-1.54 1.118l-2.763-2.01a1 1 0 00-1.176 0l-2.763 2.01c-.784.57-1.838-.197-1.539-1.118l1.053-3.247a1 1 0 00-.364-1.118L2.98 8.674c-.783-.57-.38-1.81.588-1.81h3.415a1 1 0 00.951-.69l1.053-3.247z"})}),(N=j.avg_rating)==null?void 0:N.toFixed(1),i.jsxs("span",{className:"ml-1 text-gray-400 font-normal",children:["(",j.reviews_count,")"]})]})]}),i.jsx("div",{className:"text-xs text-gray-600 mb-1 truncate",children:j.address_city}),i.jsxs("div",{className:"flex items-end gap-x-1",children:[i.jsxs("span",{className:"text-md font-extrabold text-blue-700",children:["$",j.price_per_night]}),i.jsx("span",{className:"text-xs text-gray-600",children:"/night"})]}),i.jsxs("div",{className:"flex gap-x-2 text-xs text-gray-500 my-1",children:[i.jsxs("span",{children:[j.bedrooms," bd"]}),i.jsxs("span",{children:[j.beds," beds"]}),i.jsxs("span",{children:[j.bathrooms," bath"]})]})]})]},j.villa_id)})}),F>1&&i.jsxs("div",{className:"flex justify-center mt-6 mb-3",children:[i.jsx("button",{className:"px-2 py-1 rounded-l border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P<=1,onClick:()=>p(P-1),"aria-label":"Previous page",children:"‹"}),i.jsxs("span",{className:"px-2 text-xs text-gray-600",children:["Page ",P," of ",F]}),i.jsx("button",{className:"px-2 py-1 rounded-r border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P>=F,onClick:()=>p(P+1),"aria-label":"Next page",children:"›"})]})]}):i.jsxs("div",{className:"flex flex-col items-center py-16 max-w-lg mx-auto",children:[i.jsx("svg",{className:"w-20 h-20 text-blue-200",fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 42V24.35a2 2 0 01.684-1.52L24 13l11.316 9.83a2 2 0 01.684 1.52V42M7 42h34"})}),i.jsx("span",{className:"text-lg font-semibold text-gray-700 mt-2",children:"No villas found"}),i.jsxs("div",{className:"text-gray-500 text-sm mt-2",children:["Try changing dates or looking in ",i.jsx("button",{className:"underline text-blue-600",onClick:()=>{e(`/search?location=${encodeURIComponent(E)}`)},children:E}),"."]}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Still nothing? Try clearing price range and other filters above."})]})}),i.jsx("div",{className:`md:w-1/3 w-full mb-4 md:mb-0 md:sticky md:top-24 transition-all duration-200 ${s?"block":"hidden"}`,children:i.jsxs("div",{className:"h-[370px] md:h-[680px] w-full bg-blue-100 rounded-lg flex flex-col items-center justify-center relative overflow-hidden shadow-inner",children:[i.jsx("div",{className:"absolute inset-0",children:i.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 320 320",fill:"none",children:[i.jsx("rect",{x:"0",y:"0",width:"320",height:"320",fill:"#dbeafe"}),i.jsx("ellipse",{cx:"150",cy:"200",rx:"110",ry:"80",fill:"#bbf7d0"}),A.map((j,N)=>{const R=70+140*((N+1.5)%2)+parseInt(String(j.villa_id).slice(-2))%40,M=130+N*27%80;return i.jsx("g",{children:i.jsxs("a",{xlinkHref:`/villa/${j.villa_id}`,children:[i.jsx("circle",{cx:R,cy:M,r:"10",fill:"#3b82f6",opacity:"0.9"}),i.jsx("circle",{cx:R,cy:M-2,r:"5",fill:"#fbbf24",opacity:"0.9"})]})},j.villa_id)})]})}),i.jsx("span",{className:"relative z-10 text-base font-semibold text-blue-900 mt-3",children:"Map Preview"}),i.jsx("span",{className:"relative z-10 text-sm text-gray-400",children:"(Pins are illustrative, not 1:1 accurate)"})]})})]})]})})},Cr="https://123testing-project-yes-api.launchpulse.ai/api",_5=()=>{var On,Ii,ny,sy,iy,ay,oy;const{villaId:t}=an(),e=t||"",r=ie(H=>H.user_session.user_id),n=ie(H=>H.user_session.is_authenticated),s=ie(H=>H.user_session.token);Ot();const a=et(),[o,l]=w.useState({checkin_date:null,checkout_date:null,num_guests:1}),[c,u]=w.useState(!1),[f,d]=w.useState(null),[h,v]=w.useState(!1),[g,y]=w.useState(""),[_,p]=w.useState(0),[x,m]=w.useState("date"),[b,S]=w.useState(1),T=w.useRef(null),{data:P,isLoading:A,isError:F,error:U}=ve({queryKey:["villa",e],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}`);return H},enabled:!!e}),{data:V=[],isLoading:Q,isError:E}=ve({queryKey:["villaPhotos",e],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}/photos`);return Array.isArray(H)&&H.length>0?H:[{villa_photo_id:"sample",villa_id:e,photo_url:"https://picsum.photos/id/1011/1200/600",ordering:1,is_main:!0,uploaded_at:new Date().toISOString()}]},enabled:!!e}),{data:L=[],isLoading:C,isError:j}=ve({queryKey:["villaAmenities",e],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}/amenities`);return H},enabled:!!e}),{data:N=[],isLoading:R,isError:M}=ve({queryKey:["villaRules",e],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}/rules`);return H},enabled:!!e}),{data:z=[],isLoading:re,isError:K}=ve({queryKey:["villaCalendar",e],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}/calendar`);return H},enabled:!!e}),{data:$=[],isLoading:Z,isError:X}=ve({queryKey:["villaPricingOverride",e],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}/pricing-overrides`);return H},enabled:!!e}),{data:I,isLoading:se,isError:Ce}=ve({queryKey:["villaReviews",e,b],queryFn:async()=>{const{data:H}=await W.get(`${Cr}/villas/${e}/reviews?page=${b}`);return{reviews:(Array.isArray(H.reviews)?H.reviews:[]).map($e=>({...$e,review_id:String($e.review_id),booking_id:String($e.booking_id)})),avg_rating:H.avg_rating,total_reviews:H.total_reviews}},enabled:!!e}),xe=w.useMemo(()=>{if(!I)return[];let H=I.reviews.slice();return x==="rating"?H=H.sort(($e,Ls)=>Ls.rating-$e.rating):H=H.sort(($e,Ls)=>new Date(Ls.created_at).getTime()-new Date($e.created_at).getTime()),H},[I,x]),ze=w.useMemo(()=>P?{user_id:String(P.owner_user_id),display_name:"Host",profile_photo_url:"https://picsum.photos/seed/"+P.owner_user_id+"/80",is_superhost:!1}:null,[P]),{data:ct=[],isLoading:ft,isError:Ts,refetch:As}=ve({queryKey:["userWishlists",r],queryFn:async()=>{if(!s)throw new Error("Not authenticated");const{data:H}=await W.get(`${Cr}/account/wishlists`,{headers:{Authorization:`Bearer ${s}`}});return H.map($e=>({...$e,wishlist_id:String($e.wishlist_id),villa_ids:($e.villa_ids||[]).map(Ls=>String(Ls))}))},enabled:c&&!!s}),{data:ae,isLoading:Ae,isError:kt,refetch:on}=ve({queryKey:["bookingPreview",e,o.checkin_date,o.checkout_date,o.num_guests,_],queryFn:async()=>{if(!o.checkin_date||!o.checkout_date||!o.num_guests)throw new Error("Please select dates and number of guests");const H={checkin_date:o.checkin_date,checkout_date:o.checkout_date,num_guests:o.num_guests},{data:$e}=await W.post(`${Cr}/villas/${e}/booking/preview`,H);return $e},enabled:!!e&&!!o.checkin_date&&!!o.checkout_date&&!!o.num_guests,retry:!1}),$i=Ze({mutationFn:async({wishlist_id:H,villa_id:$e})=>{if(!s)throw new Error("You must be logged in to save to a wishlist.");const{data:Ls}=await W.put(`${Cr}/account/wishlists/${H}/villas/${$e}`,{},{headers:{Authorization:`Bearer ${s}`}});return Ls},onSuccess:()=>{As(),u(!1),d(null)},onError:H=>{window.alert(H.message||"Could not add to wishlist. Please try again or refresh the page.")}}),$s=Ze({mutationFn:async({content:H})=>{if(!s)throw new Error("You must be logged in to contact the host.");const{data:$e}=await W.post(`${Cr}/villas/${e}/contact-host`,{content:H},{headers:{Authorization:`Bearer ${s}`}});if(!$e.thread_id&&$e.thread_id!==0&&$e.thread_id!=="0")throw new Error("Failed to create message thread");return{thread_id:String($e.thread_id)}},onSuccess:H=>{v(!1),y(""),a(`/messaging/thread/${H.thread_id}`)},onError:H=>{window.alert(H.message||"Could not contact host. Please try again or refresh the page.")}}),[Li,Fi]=w.useState(0),ne=()=>Fi(H=>H===0?V.length-1:H-1),ht=()=>Fi(H=>H===V.length-1?0:H+1);w.useEffect(()=>{o.checkin_date&&o.checkout_date&&o.num_guests&&p(H=>H+1)},[o.checkin_date,o.checkout_date,o.num_guests]);function tt(H){return typeof H!="number"?"--":"$"+H.toLocaleString()}function Mi(H){if(!H)return"";const $e=new Date(H);return`${$e.getUTCFullYear()}-${String($e.getUTCMonth()+1).padStart(2,"0")}-${String($e.getUTCDate()).padStart(2,"0")}`}return A?i.jsx("div",{className:"w-full py-24 text-center text-lg font-semibold",children:"Loading villa information..."}):F?i.jsxs("div",{className:"w-full py-24 text-center text-lg text-red-700 font-semibold",children:[i.jsxs("div",{children:["Could not load villa details."," ",(U==null?void 0:U.message)&&i.jsx("div",{className:"mt-1 text-sm",children:U.message})]}),i.jsx(q,{to:"/",className:"inline-block mt-4 px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Back to Home"})]}):P?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-8 py-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsxs("div",{className:"mb-4 flex flex-col gap-1",children:[i.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-gray-800 flex items-center gap-2",children:[P.title||"Untitled Villa",P.is_instant_book&&i.jsx("span",{className:"ml-2 inline-block px-2 py-0.5 text-xs font-bold bg-green-100 text-green-800 rounded",children:"Instant Book"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-gray-600 text-sm",children:[i.jsxs("span",{children:[P.address_city,", ",P.address_country]}),i.jsx("span",{className:"mx-1 text-gray-400",children:"·"}),i.jsxs("span",{children:[tt(P.price_per_night)," / night"]}),i.jsx("span",{className:"mx-1 text-gray-400",children:"·"}),i.jsxs("span",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-500 mr-1",children:"★"}),I?(I.avg_rating||0).toFixed(2):"--",i.jsxs("span",{className:"ml-1 text-gray-500",children:["(",I?I.total_reviews:0," reviews)"]})]})]})]}),i.jsxs("div",{ref:T,className:"relative aspect-[2/1] w-full rounded-lg overflow-hidden bg-gray-100 mb-6",children:[V.length>0&&i.jsx("img",{src:(On=V[Li])==null?void 0:On.photo_url,className:"object-cover w-full h-full transition-opacity max-h-[500px]",alt:`Villa Gallery Photo #${Li+1}`,draggable:!1,loading:"eager"}),V.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"absolute left-1 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-2 shadow hover:bg-gray-200",onClick:ne,"aria-label":"Previous Photo",children:"◀"}),i.jsx("button",{className:"absolute right-1 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-2 shadow hover:bg-gray-200",onClick:ht,"aria-label":"Next Photo",children:"▶"}),i.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-2",children:V.map((H,$e)=>i.jsx("button",{className:"w-2 h-2 rounded-full "+($e===Li?"bg-blue-600":"bg-white border border-gray-400"),onClick:()=>Fi($e),"aria-label":`Show Photo ${$e+1}`},String($e)))})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"text-lg font-semibold mb-1",children:"About this villa"}),i.jsx("div",{className:"text-md text-gray-700 mb-2 whitespace-pre-line",children:P.description_long||P.description_short||"No description available."}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-2",children:[i.jsxs("span",{children:[i.jsx("b",{children:P.bedrooms})," bedrooms"]}),i.jsxs("span",{children:[i.jsx("b",{children:P.beds})," beds"]}),i.jsxs("span",{children:[i.jsx("b",{children:P.bathrooms})," bathrooms"]}),i.jsxs("span",{children:[i.jsxs("b",{children:["Up to ",P.max_guests]})," guests"]}),P.is_beachfront&&i.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded text-blue-800 font-semibold text-xs",children:"Beachfront"}),P.is_pet_friendly&&i.jsx("span",{className:"bg-yellow-100 px-2 py-1 rounded text-yellow-800 font-semibold text-xs",children:"Pet friendly"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-1 mt-3",children:"Amenities"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:L.length>0?L.map(H=>i.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 rounded text-gray-700 text-sm",children:[H.icon_url&&i.jsx("img",{className:"w-5 h-5 mr-1 inline-block",src:H.icon_url,alt:H.label}),H.label]},String(H.amenity_id))):i.jsx("span",{className:"text-gray-400",children:"No amenities listed."})})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"font-semibold mb-1",children:"Where you'll be"}),i.jsxs("div",{className:"w-full h-64 bg-gray-200 rounded-lg relative overflow-hidden",children:[P.latitude&&P.longitude?i.jsx("iframe",{title:"Villa Location",className:"absolute w-full h-full left-0 top-0",src:`https://maps.google.com/maps?q=${P.latitude},${P.longitude}&z=13&output=embed`,frameBorder:0,"aria-label":"Map"}):i.jsx("div",{className:"flex items-center justify-center h-full text-gray-600",children:"Map not available."}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-white/70 rounded px-3 py-1 text-xs text-gray-800",children:"Address is approximate for privacy."})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"font-semibold mb-1",children:"House Rules"}),N.length>0?i.jsx("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:N.map(H=>i.jsxs("li",{children:[i.jsxs("span",{className:"font-semibold",children:[H.rule_type,": "]}),H.allowed?"Allowed":"Not allowed",H.notes&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",H.notes,")"]})]},String(H.villa_rule_id)))}):i.jsx("div",{className:"text-gray-400",children:"No house rules provided."}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"font-semibold",children:"Cancellation Policy:"})," ",i.jsx("span",{className:"capitalize",children:(Ii=P.cancellation_policy)==null?void 0:Ii.replace("_"," ")})]})]}),i.jsxs("div",{className:"mb-8 flex gap-6 items-center",children:[i.jsx("div",{children:i.jsx("img",{src:(ze==null?void 0:ze.profile_photo_url)||"https://picsum.photos/seed/host/80",alt:(ze==null?void 0:ze.display_name)||"Host",className:"rounded-full border w-16 h-16 object-cover"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-800",children:["Hosted by ",(ze==null?void 0:ze.display_name)||"N/A",(ze==null?void 0:ze.is_superhost)&&i.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-orange-100 text-orange-700 rounded",children:"Superhost"})]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Profile not available."})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsxs("span",{className:"text-lg font-bold mr-3",children:["Reviews (",(I==null?void 0:I.total_reviews)||0,")"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs text-gray-600 font-semibold",children:"Sort by:"}),i.jsxs("select",{className:"text-xs border border-gray-300 rounded px-1 py-0.5",value:x,onChange:H=>m(H.target.value),children:[i.jsx("option",{value:"date",children:"Most Recent"}),i.jsx("option",{value:"rating",children:"Rating"})]})]})]}),se?i.jsx("div",{className:"text-gray-500",children:"Loading reviews..."}):xe.length===0?i.jsx("div",{className:"text-gray-400",children:"No reviews yet!"}):i.jsx("div",{className:"space-y-4",children:xe.map(H=>i.jsxs("div",{className:"border-b pb-3 last:border-b-0 last:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("span",{className:"text-yellow-500 font-bold",children:"★"}),i.jsx("span",{className:"font-semibold text-md",children:H.rating}),i.jsx("span",{className:"text-xs text-gray-400 ml-3",children:Mi(H.created_at)})]}),i.jsx("div",{className:"text-gray-800",children:H.text})]},String(H.review_id)))}),I&&I.total_reviews>10&&i.jsxs("div",{className:"flex gap-2 justify-end mt-3",children:[i.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-60",disabled:b===1,onClick:()=>S(H=>Math.max(1,H-1)),children:"Previous"}),i.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-60",disabled:b>=Math.ceil(I.total_reviews/(Array.isArray(xe)&&xe.length>0?xe.length:10)),onClick:()=>S(H=>H+1),children:"Next"})]})]})]}),i.jsx("div",{className:"col-span-1 relative",children:i.jsxs("div",{className:"lg:sticky top-8 border rounded-lg shadow p-6 bg-white mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-3 justify-between",children:[i.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[tt(P.price_per_night)," ",i.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/ night"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2 rounded-full hover:bg-red-100 transition",onClick:()=>{if(!n){window.alert("Please sign in to save to a wishlist.");return}u(!0)},title:n?"Save to wishlist":"Sign in to save villas","aria-label":"Save to Wishlist",children:i.jsx("span",{className:"text-xl text-red-500",children:"♥"})}),i.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100 transition",onClick:()=>{const H=window.location.origin+`/villa/${e}`;window.navigator.share?window.navigator.share({title:P.title,url:H}).catch(()=>{}):(navigator.clipboard.writeText(H),window.alert("Villa link copied to clipboard!"))},"aria-label":"Share Villa",title:"Share",children:i.jsx("span",{className:"text-blue-500 text-lg",children:"⤴"})})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[i.jsx("label",{className:"text-xs text-gray-500 font-semibold",children:"Dates"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"date",className:"border px-2 py-1 rounded",value:o.checkin_date||"",min:Mi(new Date().toISOString()),onChange:H=>l($e=>({...$e,checkin_date:H.target.value}))}),i.jsx("span",{className:"text-gray-400 font-bold",children:"→"}),i.jsx("input",{type:"date",className:"border px-2 py-1 rounded",value:o.checkout_date||"",disabled:!o.checkin_date,min:o.checkin_date||"",onChange:H=>l($e=>({...$e,checkout_date:H.target.value}))})]}),i.jsx("label",{className:"text-xs text-gray-500 font-semibold",children:"Guests"}),i.jsx("input",{type:"number",min:1,max:P.max_guests,className:"border px-2 py-1 rounded max-w-[80px]",value:o.num_guests,onChange:H=>l($e=>({...$e,num_guests:Math.max(1,Math.min(P.max_guests,Number(H.target.value)))}))})]}),i.jsx("div",{className:"mb-3",children:Ae?i.jsx("div",{children:"Finding available dates..."}):o.checkin_date&&o.checkout_date?ae&&ae.available?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Nightly:"}),i.jsx("span",{children:tt((ny=ae.price_summary)==null?void 0:ny.nightly_price)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Cleaning fee:"}),i.jsx("span",{children:tt((sy=ae.price_summary)==null?void 0:sy.cleaning_fee)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Service fee:"}),i.jsx("span",{children:tt((iy=ae.price_summary)==null?void 0:iy.service_fee)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Taxes:"}),i.jsx("span",{children:tt((ay=ae.price_summary)==null?void 0:ay.taxes)})]}),i.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t mt-2 pt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:tt((oy=ae.price_summary)==null?void 0:oy.total_price)})]})]}):ae&&!ae.available?i.jsx("div",{className:"text-red-600 text-sm font-semibold mt-2",children:"Selected dates are unavailable."}):null:i.jsx("div",{className:"text-gray-500",children:"Select dates to see price."})}),n?i.jsx("button",{className:"w-full py-2 mt-2 rounded font-bold transition bg-blue-600 text-white hover:bg-blue-700",disabled:!o.checkin_date||!o.checkout_date||!o.num_guests||!ae||!ae.available,onClick:()=>{a(`/booking/start?villa_id=${e}&checkin_date=${o.checkin_date}&checkout_date=${o.checkout_date}&num_guests=${o.num_guests}`)},children:P.is_instant_book?"Book Now":"Request to Book"}):i.jsx(q,{to:"/guest/login",className:"w-full block py-2 mt-2 rounded font-bold bg-blue-500 text-white hover:bg-blue-700 text-center",children:"Login to Book"}),i.jsx("button",{className:"w-full mt-4 py-2 px-4 rounded font-semibold bg-gray-100 text-gray-800 hover:bg-gray-200 border",onClick:()=>{if(!n){window.alert("Please sign in to contact the host.");return}v(!0)},children:"Contact Host"})]})})]}),c&&i.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/30",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[i.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 right-2 p-1 rounded hover:bg-gray-200","aria-label":"Close",children:"✕"}),i.jsx("div",{className:"font-bold text-lg mb-2",children:"Save to Wishlist"}),ft?i.jsx("div",{children:"Loading your wishlists..."}):ct.length===0?i.jsxs("div",{children:["You don't have any wishlists yet. ",i.jsx("br",{}),i.jsx(q,{to:"/guest/wishlists",className:"text-blue-600 underline",onClick:()=>u(!1),children:"Create your first Wishlist"})]}):i.jsxs("form",{onSubmit:H=>{H.preventDefault(),f&&$i.mutate({wishlist_id:f,villa_id:e})},children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{htmlFor:"select-wishlist",className:"text-sm font-semibold",children:"Choose:"}),i.jsxs("select",{id:"select-wishlist",className:"w-full text-sm border rounded py-1 mt-1",value:f||"",onChange:H=>d(H.target.value),children:[i.jsx("option",{value:"",disabled:!0,children:"Select a wishlist"}),ct.map(H=>i.jsx("option",{value:String(H.wishlist_id),children:H.name},String(H.wishlist_id)))]})]}),i.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded font-bold mt-2",disabled:!f,children:$i.isLoading?"Saving...":"Add to Wishlist"})]})]})}),h&&i.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/30",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[i.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 p-1 rounded hover:bg-gray-200","aria-label":"Close",children:"✕"}),i.jsx("div",{className:"font-bold text-lg mb-2",children:"Contact Host"}),i.jsxs("form",{onSubmit:H=>{H.preventDefault(),$s.mutate({content:g})},children:[i.jsx("textarea",{className:"w-full border rounded px-2 py-1 min-h-[80px]",value:g,onChange:H=>y(H.target.value),maxLength:2048,placeholder:"Type your message for the host...",required:!0}),i.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded font-bold mt-2",disabled:!g||$s.isLoading,children:$s.isLoading?"Sending...":"Send"})]})]})})]}):i.jsx("div",{className:"w-full py-24 text-center text-lg font-semibold",children:"Villa not found."})};function dh(t,e){return!t||!e?"Please select both check-in and check-out dates.":t>=e?"Checkout must be after check-in date.":null}function Nv(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function kv(t){return/^\d{13,19}$/.test(t.replace(/\s/g,""))}function Sv(t){return/^((0[1-9])|(1[0-2]))\/(\d{2}|\d{4})$/.test(t)}function Cv(t){return/^\d{3,4}$/.test(t)}const b5=5,Ev=["Booking Details","Review & Policy","Guest Info","Payment","Review & Confirm"],w5=()=>{const t=an(),e=Br(),r=new URLSearchParams(e.search),n=ie(ae=>ae.user_session),s=ie(ae=>ae.set_booking_cart),a=ie(ae=>ae.reset_booking_cart),l=t.villa_id||r.get("villa_id")||""||"",c=r.get("checkin_date"),u=r.get("checkout_date"),f=Number(r.get("num_guests"))||1,[d,h]=w.useState(1),[v,g]=w.useState(c||null),[y,_]=w.useState(u||null),[p,x]=w.useState(f),[m,b]=w.useState({name:n.is_authenticated&&n.display_name?n.display_name:"",email:n.is_authenticated&&n.email?n.email:"",phone:null,special_requests:null}),[S,T]=w.useState({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0}),[P,A]=w.useState(null),[F,U]=w.useState({card_number:"",expiry:"",cvv:"",agree_tos:!1}),[V,Q]=w.useState("idle"),[E,L]=w.useState([]),C=et(),j=Ot(),{data:N,isLoading:R,error:M}=ve({queryKey:["villa",l],queryFn:async()=>{const{data:ae}=await W.get(`https://123testing-project-yes-api.launchpulse.ai/api/villa/${l}`);return ae},enabled:!!l,staleTime:60*1e3}),z=Ze({mutationFn:async({checkin_date:ae,checkout_date:Ae,num_guests:kt})=>{const{data:on}=await W.post(`https://123testing-project-yes-api.launchpulse.ai/api/villas/${l}/booking/preview`,{checkin_date:ae,checkout_date:Ae,num_guests:kt});return on},onSuccess:ae=>{A(ae.available),ae.price_summary?T(ae.price_summary):T({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0})},onError:ae=>{var Ae,kt;A(!1),L([((kt=(Ae=ae==null?void 0:ae.response)==null?void 0:Ae.data)==null?void 0:kt.error)||"Unable to preview booking."])}}),re=Ze({mutationFn:async({checkin_date:ae,checkout_date:Ae,num_guests:kt,guest_details:on,token:$i})=>(await W.post(`https://123testing-project-yes-api.launchpulse.ai/api/villas/${l}/booking`,{checkin_date:ae,checkout_date:Ae,num_guests:kt,guest_details:on},{headers:{Authorization:`Bearer ${$i}`}})).data});w.useEffect(()=>{if(L([]),v&&y&&p){const ae=dh(v,y);if(ae){A(!1),L([ae]),T({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0});return}z.mutate({checkin_date:v,checkout_date:y,num_guests:p})}else A(null),T({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0})},[v,y,p,l]);const K=()=>{switch(d){case 1:return!(!N||!v||!y||!p||dh(v,y)||!P||p<1||p>N.max_guests||!N||!P);case 2:return!!$(1);case 3:return!(!m.name||m.name.trim().length<1||!m.email||!Nv(m.email));case 4:return!(!kv(F.card_number)||!Sv(F.expiry)||!Cv(F.cvv)||!F.agree_tos);case 5:return!(!$(1)||!$(2)||!$(3)||!$(4));default:return!1}},$=ae=>{if(ae>=d)return!0;switch(ae){case 1:return v&&y&&!dh(v,y)&&P&&p>=1&&!!N&&p<=N.max_guests;case 2:return $(1);case 3:return m.name.trim().length>0&&!!m.email&&Nv(m.email);case 4:return kv(F.card_number)&&Sv(F.expiry)&&Cv(F.cvv)&&F.agree_tos;default:return!1}},Z=()=>{L([]),K()?h(ae=>Math.min(ae+1,b5)):L(["Please complete all required fields before proceeding."])},X=()=>{L([]),h(ae=>Math.max(ae-1,1))},I=ae=>{h(ae==="details"?1:ae==="guest"?3:4)};w.useEffect(()=>{d>=3&&(!n.is_authenticated||!n.token||!n.user_id)&&(s({villa_id:l,checkin_date:v,checkout_date:y,num_guests:p,guest_details:m,price_summary:S,status:"idle"}),C("/guest/login",{state:{next:e.pathname+e.search}}))},[d,n.is_authenticated,n.token,n.user_id]),w.useEffect(()=>{a(),s({villa_id:l,checkin_date:v,checkout_date:y,num_guests:p})},[]);const se=async()=>{var ae,Ae;Q("pending"),L([]);try{const kt=await re.mutateAsync({checkin_date:v,checkout_date:y,num_guests:p,guest_details:m,token:n.token});Q("success"),s({villa_id:l,checkin_date:v,checkout_date:y,num_guests:p,guest_details:m,price_summary:S,status:"success"}),j.invalidateQueries({queryKey:["my_trips"]}),C(`/booking/confirmation/${kt.booking_id}`)}catch(kt){Q("failure");const on=((Ae=(ae=kt==null?void 0:kt.response)==null?void 0:ae.data)==null?void 0:Ae.error)||"Booking could not be completed. Please try again.";L([on]),C(`/booking/failure?reason=${encodeURIComponent(on)}`)}},Ce=i.jsx("div",{className:"w-full flex items-center my-6",children:Ev.map((ae,Ae)=>i.jsxs("div",{className:"flex-1 flex items-center",children:[i.jsx("div",{className:`relative z-10 flex items-center justify-center w-8 h-8 rounded-full 
            ${d>Ae?"bg-green-500 text-white":d===Ae+1?"bg-sky-600 text-white font-bold":"bg-gray-300 text-gray-600"}
            `,children:Ae+1}),Ae<Ev.length-1&&i.jsx("div",{className:`flex-1 h-1 ${d>Ae+1?"bg-green-500":"bg-gray-200"}`})]},ae))}),xe=!!E.length&&i.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-2 rounded my-3",children:E.map(ae=>i.jsx("div",{children:ae},ae))}),ze=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"Select Dates and Guests"}),i.jsxs("div",{className:"flex flex-wrap items-start gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"checkin",children:"Check-in Date"}),i.jsx("input",{type:"date",id:"checkin",value:v||"",min:new Date().toISOString().slice(0,10),max:y||"",disabled:R,className:"border rounded px-3 py-2 w-44",onChange:ae=>g(ae.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"checkout",children:"Check-out Date"}),i.jsx("input",{type:"date",id:"checkout",value:y||"",min:v||new Date().toISOString().slice(0,10),disabled:R,className:"border rounded px-3 py-2 w-44",onChange:ae=>_(ae.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"guests",children:"Guests"}),i.jsx("input",{type:"number",id:"guests",min:1,max:(N==null?void 0:N.max_guests)||20,value:p,step:1,disabled:R,className:"border rounded px-3 py-2 w-24",onChange:ae=>x(Math.max(1,Math.min(Number(ae.target.value),(N==null?void 0:N.max_guests)||20)))})]})]}),i.jsx("div",{children:P!=null&&(P?i.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[i.jsx("span",{className:"font-bold",children:"✔ Dates available!"}),i.jsx("span",{children:S.total_price>0&&`Total: $${S.total_price.toFixed(2)}`})]}):i.jsx("div",{className:"text-red-600 flex items-center gap-2",children:i.jsx("span",{className:"font-bold",children:"⚠ Not available for selected dates"})}))}),xe,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{onClick:Z,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${K()?"":"opacity-50 cursor-not-allowed"}`,disabled:!K(),children:"Next"}),i.jsx(q,{to:`/villa/${l}`,className:"text-gray-500 underline hover:text-gray-700 transition",children:"Cancel and return to villa"})]})]}),ct=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Review Your Booking"}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50 space-y-2",children:[i.jsxs("div",{className:"flex gap-6 items-center",children:[(N==null?void 0:N.main_photo_url)&&i.jsx("img",{src:N.main_photo_url,alt:N.title,className:"w-28 h-20 object-cover rounded"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold",children:N==null?void 0:N.title}),i.jsxs("div",{className:"text-gray-600",children:[N==null?void 0:N.address_city,", ",N==null?void 0:N.address_country]})]})]}),i.jsxs("div",{className:"mt-4 text-gray-700",children:[i.jsx("strong",{children:"Dates:"})," ",v," – ",y]}),i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Guests:"})," ",p]})]}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50",children:[i.jsx("div",{className:"text-lg font-bold mb-2",children:"Price Breakdown"}),i.jsxs("ul",{className:"space-y-1 text-gray-700",children:[i.jsxs("li",{children:[i.jsx("span",{children:"Nightly Rate:"})," ",i.jsxs("span",{children:["$",S.nightly_price.toFixed(2)]})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Cleaning Fee:"})," ",i.jsxs("span",{children:["$",S.cleaning_fee.toFixed(2)]})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Service Fee:"})," ",i.jsxs("span",{children:["$",S.service_fee.toFixed(2)]})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Taxes:"})," ",i.jsxs("span",{children:["$",S.taxes.toFixed(2)]})]}),i.jsxs("li",{className:"font-bold",children:[i.jsx("span",{children:"Total:"})," ",i.jsxs("span",{children:["$",S.total_price.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"rounded border border-gray-100 p-4 bg-gray-50",children:[i.jsx("div",{className:"font-bold text-gray-900 mb-1",children:"Cancellation Policy"}),i.jsx("div",{className:"text-gray-700",children:N!=null&&N.cancellation_policy?N.cancellation_policy.charAt(0).toUpperCase()+N.cancellation_policy.slice(1):"Not specified"}),(N==null?void 0:N.house_rules)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-gray-900 mt-2 mb-1",children:"House Rules"}),i.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:N.house_rules})]})]}),xe,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{type:"button",onClick:X,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",onClick:Z,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${K()?"":"opacity-50 cursor-not-allowed"}`,disabled:!K(),children:"Next"})]})]}),ft=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"Lead Guest Details"}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_name",children:["Name ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"guest_name",type:"text",className:"border px-3 py-2 rounded w-full max-w-md",value:m.name,onChange:ae=>b(Ae=>({...Ae,name:ae.target.value}))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_email",children:["Email ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"guest_email",type:"email",autoComplete:"email",className:"border px-3 py-2 rounded w-full max-w-md",value:m.email,onChange:ae=>b(Ae=>({...Ae,email:ae.target.value.trim()}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_phone",children:"Phone (optional)"}),i.jsx("input",{id:"guest_phone",type:"tel",className:"border px-3 py-2 rounded w-full max-w-md",value:m.phone||"",onChange:ae=>b(Ae=>({...Ae,phone:ae.target.value.trim()||null}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_special",children:"Special Requests (optional)"}),i.jsx("textarea",{id:"guest_special",className:"border px-3 py-2 rounded w-full max-w-md resize-none min-h-[40px]",value:m.special_requests||"",maxLength:250,onChange:ae=>b(Ae=>({...Ae,special_requests:ae.target.value||null}))})]}),xe,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{type:"button",onClick:X,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",onClick:Z,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${K()?"":"opacity-50 cursor-not-allowed"}`,disabled:!K(),children:"Next"})]})]}),Ts=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"Payment Details"}),i.jsx("div",{className:"mb-2 text-gray-600",children:"All payments are simulated for MVP."}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"pay_card",children:["Card Number ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"pay_card",autoComplete:"cc-number",type:"text",maxLength:19,className:"border px-3 py-2 rounded w-full max-w-sm",value:F.card_number,onChange:ae=>U(Ae=>({...Ae,card_number:ae.target.value.replace(/[^\d]/g,"")}))})]}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"pay_expiry",children:["Expiry (MM/YY) ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"pay_expiry",type:"text",autoComplete:"cc-exp",placeholder:"MM/YY",maxLength:7,className:"border px-3 py-2 rounded w-28",value:F.expiry,onChange:ae=>U(Ae=>({...Ae,expiry:ae.target.value}))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"pay_cvv",children:["CVV ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"pay_cvv",autoComplete:"cc-csc",type:"text",maxLength:4,className:"border px-3 py-2 rounded w-20",value:F.cvv,onChange:ae=>U(Ae=>({...Ae,cvv:ae.target.value.replace(/[^\d]/g,"")}))})]})]}),i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsx("input",{id:"agree_tos",type:"checkbox",className:"mr-2",checked:F.agree_tos,onChange:ae=>U(Ae=>({...Ae,agree_tos:ae.target.checked}))}),i.jsxs("label",{htmlFor:"agree_tos",className:"text-gray-700 cursor-pointer",children:["I agree to the"," ",i.jsx(q,{className:"underline text-sky-700",to:"/legal/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"}),"."]})]}),xe,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{type:"button",onClick:X,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",onClick:Z,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${K()?"":"opacity-50 cursor-not-allowed"}`,disabled:!K(),children:"Next"})]})]}),As=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Review & Confirm"}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[(N==null?void 0:N.main_photo_url)&&i.jsx("img",{src:N.main_photo_url,alt:N.title,className:"w-32 h-20 rounded object-cover"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg",children:N==null?void 0:N.title}),i.jsxs("div",{className:"text-gray-700",children:[N==null?void 0:N.address_city,", ",N==null?void 0:N.address_country]})]})]}),i.jsxs("div",{className:"flex space-x-4 flex-wrap",children:[i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Dates:"})," ",v," – ",y]}),i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Guests:"})," ",p]})]}),i.jsxs("div",{className:"mt-2 text-gray-700",children:[i.jsx("strong",{children:"Contact:"})," ",m.name," (",m.email,m.phone?`, ${m.phone}`:"",")"]}),m.special_requests&&i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Special Requests:"})," ",m.special_requests]})]}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50 space-y-1",children:[i.jsx("div",{className:"text-lg font-bold mb-1",children:"Price Breakdown"}),i.jsxs("ul",{children:[i.jsxs("li",{children:["Nightly Rate: $",S.nightly_price.toFixed(2)]}),i.jsxs("li",{children:["Cleaning Fee: $",S.cleaning_fee.toFixed(2)]}),i.jsxs("li",{children:["Service Fee: $",S.service_fee.toFixed(2)]}),i.jsxs("li",{children:["Taxes: $",S.taxes.toFixed(2)]}),i.jsxs("li",{className:"font-bold",children:["Total: $",S.total_price.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx("button",{type:"button",className:"text-sky-700 underline",onClick:()=>I("details"),children:"Edit Dates/Guests"}),i.jsx("button",{type:"button",className:"text-sky-700 underline",onClick:()=>I("guest"),children:"Edit Guest Info"}),i.jsx("button",{type:"button",className:"text-sky-700 underline",onClick:()=>I("payment"),children:"Edit Payment"})]}),xe,i.jsxs("div",{className:"flex gap-4 mt-7",children:[i.jsx("button",{type:"button",onClick:X,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",className:`bg-green-600 text-white px-7 py-2 rounded font-bold ${V==="pending"||!K()?"opacity-50 cursor-not-allowed":""}`,disabled:V==="pending"||!K(),onClick:se,children:V==="pending"?"Processing...":"Confirm & Pay"})]}),i.jsx("div",{className:"mt-2",children:i.jsx(q,{to:`/villa/${l}`,className:"text-gray-700 underline",children:"Cancel and return to villa details"})})]});return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-2xl mx-auto my-8 bg-white border border-gray-200 shadow-lg rounded-lg px-8 py-8",children:[i.jsx("div",{"aria-label":"Booking Steps Progress",children:Ce}),R&&i.jsx("div",{className:"text-center py-12 text-lg text-gray-500",children:"Loading booking info..."}),M&&i.jsxs("div",{className:"text-center text-red-600 py-10",children:["Could not load villa info. ",i.jsx(q,{className:"underline",to:"/",children:"Return to home"})]}),!R&&!M&&i.jsxs(i.Fragment,{children:[d===1&&ze,d===2&&ct,d===3&&ft,d===4&&Ts,d===5&&As]})]})})};var Ue;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ue||(Ue={}));var Pv;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Pv||(Pv={}));const he=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zn=t=>{switch(typeof t){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(t)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(t)?he.array:t===null?he.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?he.promise:typeof Map<"u"&&t instanceof Map?he.map:typeof Set<"u"&&t instanceof Set?he.set:typeof Date<"u"&&t instanceof Date?he.date:he.object;default:return he.unknown}},J=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Cn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cn.create=t=>new Cn(t);const _p=(t,e)=>{let r;switch(t.code){case J.invalid_type:t.received===he.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ue.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ue.joinValues(t.keys,", ")}`;break;case J.invalid_union:r="Invalid input";break;case J.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ue.joinValues(t.options)}`;break;case J.invalid_enum_value:r=`Invalid enum value. Expected ${Ue.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:r="Invalid function arguments";break;case J.invalid_return_type:r="Invalid function return type";break;case J.invalid_date:r="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case J.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case J.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case J.custom:r="Invalid input";break;case J.invalid_intersection_types:r="Intersection results could not be merged";break;case J.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ue.assertNever(t)}return{message:r}};let j5=_p;function N5(){return j5}const k5=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function le(t,e){const r=N5(),n=k5({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_p?void 0:_p].filter(s=>!!s)});t.common.issues.push(n)}class lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return be;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return lr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return be;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const be=Object.freeze({status:"aborted"}),Mo=t=>({status:"dirty",value:t}),kr=t=>({status:"valid",value:t}),Ov=t=>t.status==="aborted",Rv=t=>t.status==="dirty",Qa=t=>t.status==="valid",Zu=t=>typeof Promise<"u"&&t instanceof Promise;var pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(pe||(pe={}));class ks{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tv=(t,e)=>{if(Qa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cn(t.common.issues);return this._error=r,this._error}}};function Oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class De{get description(){return this._def.description}_getType(e){return zn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:zn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new lr,ctx:{common:e.parent.common,data:e.data,parsedType:zn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Zu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Tv(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zn(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return Qa(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Qa(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zn(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Zu(s)?s:Promise.resolve(s));return Tv(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:J.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ga({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _s.create(this,this._def)}nullable(){return Ja.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nn.create(this)}promise(){return Gu.create(this,this._def)}or(e){return Ku.create([this,e],this._def)}and(e){return Yu.create(this,e,this._def)}transform(e){return new Ga({...Oe(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new wp({...Oe(this._def),innerType:this,defaultValue:r,typeName:je.ZodDefault})}brand(){return new Q5({typeName:je.ZodBranded,type:this,...Oe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new jp({...Oe(this._def),innerType:this,catchValue:r,typeName:je.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ty.create(this,e)}readonly(){return Np.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const S5=/^c[^\s-]{8,}$/i,C5=/^[0-9a-z]+$/,E5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,P5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,O5=/^[a-z0-9_-]{21}$/i,R5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,A5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fh;const L5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,M5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,I5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,D5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,B5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_N="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",U5=new RegExp(`^${_N}$`);function bN(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function z5(t){return new RegExp(`^${bN(t)}$`)}function q5(t){let e=`${_N}T${bN(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function V5(t,e){return!!((e==="v4"||!e)&&L5.test(t)||(e==="v6"||!e)&&M5.test(t))}function W5(t,e){if(!R5.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function H5(t,e){return!!((e==="v4"||!e)&&F5.test(t)||(e==="v6"||!e)&&I5.test(t))}class vn extends De{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==he.string){const a=this._getOrReturnCtx(e);return le(a,{code:J.invalid_type,expected:he.string,received:a.parsedType}),be}const n=new lr;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:J.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&le(s,{code:J.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")A5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")fh||(fh=new RegExp($5,"u")),fh.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")P5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")O5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")S5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")C5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")E5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:J.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:J.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?q5(a).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?U5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?z5(a).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?T5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?V5(e.data,a.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?W5(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"jwt",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?H5(e.data,a.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cidr",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?D5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?B5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64url",code:J.invalid_string,message:a.message}),n.dirty()):Ue.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:J.invalid_string,...pe.errToObj(n)})}_addCheck(e){return new vn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...pe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...pe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...pe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...pe.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...pe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...pe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...pe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...pe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...pe.errToObj(r)})}nonempty(e){return this.min(1,pe.errToObj(e))}trim(){return new vn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vn.create=t=>new vn({checks:[],typeName:je.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Oe(t)});function Z5(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}class Si extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==he.number){const a=this._getOrReturnCtx(e);return le(a,{code:J.invalid_type,expected:he.number,received:a.parsedType}),be}let n;const s=new lr;for(const a of this._def.checks)a.kind==="int"?Ue.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),le(n,{code:J.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:J.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:J.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Z5(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),le(n,{code:J.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),le(n,{code:J.not_finite,message:a.message}),s.dirty()):Ue.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,pe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,pe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,pe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,pe.toString(r))}setLimit(e,r,n,s){return new Si({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(e){return new Si({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Si.create=t=>new Si({checks:[],typeName:je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class Ci extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==he.bigint)return this._getInvalidInput(e);let n;const s=new lr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:J.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:J.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),le(n,{code:J.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ue.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:he.bigint,received:r.parsedType}),be}gte(e,r){return this.setLimit("min",e,!0,pe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,pe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,pe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,pe.toString(r))}setLimit(e,r,n,s){return new Ci({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(e){return new Ci({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ci.create=t=>new Ci({checks:[],typeName:je.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Oe(t)});class Qu extends De{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==he.boolean){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:he.boolean,received:n.parsedType}),be}return kr(e.data)}}Qu.create=t=>new Qu({typeName:je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class Ka extends De{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==he.date){const a=this._getOrReturnCtx(e);return le(a,{code:J.invalid_type,expected:he.date,received:a.parsedType}),be}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return le(a,{code:J.invalid_date}),be}const n=new lr;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Ue.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ka({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:pe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:pe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ka.create=t=>new Ka({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:je.ZodDate,...Oe(t)});class Av extends De{_parse(e){if(this._getType(e)!==he.symbol){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:he.symbol,received:n.parsedType}),be}return kr(e.data)}}Av.create=t=>new Av({typeName:je.ZodSymbol,...Oe(t)});class $v extends De{_parse(e){if(this._getType(e)!==he.undefined){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:he.undefined,received:n.parsedType}),be}return kr(e.data)}}$v.create=t=>new $v({typeName:je.ZodUndefined,...Oe(t)});class Lv extends De{_parse(e){if(this._getType(e)!==he.null){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:he.null,received:n.parsedType}),be}return kr(e.data)}}Lv.create=t=>new Lv({typeName:je.ZodNull,...Oe(t)});class Fv extends De{constructor(){super(...arguments),this._any=!0}_parse(e){return kr(e.data)}}Fv.create=t=>new Fv({typeName:je.ZodAny,...Oe(t)});class Mv extends De{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kr(e.data)}}Mv.create=t=>new Mv({typeName:je.ZodUnknown,...Oe(t)});class Ss extends De{_parse(e){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:he.never,received:r.parsedType}),be}}Ss.create=t=>new Ss({typeName:je.ZodNever,...Oe(t)});class Iv extends De{_parse(e){if(this._getType(e)!==he.undefined){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:he.void,received:n.parsedType}),be}return kr(e.data)}}Iv.create=t=>new Iv({typeName:je.ZodVoid,...Oe(t)});class nn extends De{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==he.array)return le(r,{code:J.invalid_type,expected:he.array,received:r.parsedType}),be;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(le(r,{code:o?J.too_big:J.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(le(r,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(le(r,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ks(r,o,r.path,l)))).then(o=>lr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new ks(r,o,r.path,l)));return lr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new nn({...this._def,minLength:{value:e,message:pe.toString(r)}})}max(e,r){return new nn({...this._def,maxLength:{value:e,message:pe.toString(r)}})}length(e,r){return new nn({...this._def,exactLength:{value:e,message:pe.toString(r)}})}nonempty(e){return this.min(1,e)}}nn.create=(t,e)=>new nn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...Oe(e)});function Hi(t){if(t instanceof mt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=_s.create(Hi(n))}return new mt({...t._def,shape:()=>e})}else return t instanceof nn?new nn({...t._def,type:Hi(t.element)}):t instanceof _s?_s.create(Hi(t.unwrap())):t instanceof Ja?Ja.create(Hi(t.unwrap())):t instanceof Ei?Ei.create(t.items.map(e=>Hi(e))):t}class mt extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ue.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==he.object){const u=this._getOrReturnCtx(e);return le(u,{code:J.invalid_type,expected:he.object,received:u.parsedType}),be}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ss&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new ks(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ss){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(le(s,{code:J.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new ks(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>lr.mergeObjectSync(n,u)):lr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return pe.errToObj,new mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:pe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new mt({...this._def,unknownKeys:"strip"})}passthrough(){return new mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new mt({...this._def,catchall:e})}pick(e){const r={};for(const n of Ue.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new mt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ue.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new mt({...this._def,shape:()=>r})}deepPartial(){return Hi(this)}partial(e){const r={};for(const n of Ue.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new mt({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ue.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof _s;)a=a._def.innerType;r[n]=a}return new mt({...this._def,shape:()=>r})}keyof(){return wN(Ue.objectKeys(this.shape))}}mt.create=(t,e)=>new mt({shape:()=>t,unknownKeys:"strip",catchall:Ss.create(),typeName:je.ZodObject,...Oe(e)});mt.strictCreate=(t,e)=>new mt({shape:()=>t,unknownKeys:"strict",catchall:Ss.create(),typeName:je.ZodObject,...Oe(e)});mt.lazycreate=(t,e)=>new mt({shape:t,unknownKeys:"strip",catchall:Ss.create(),typeName:je.ZodObject,...Oe(e)});class Ku extends De{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Cn(l.ctx.common.issues));return le(r,{code:J.invalid_union,unionErrors:o}),be}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Cn(c));return le(r,{code:J.invalid_union,unionErrors:l}),be}}get options(){return this._def.options}}Ku.create=(t,e)=>new Ku({options:t,typeName:je.ZodUnion,...Oe(e)});function bp(t,e){const r=zn(t),n=zn(e);if(t===e)return{valid:!0,data:t};if(r===he.object&&n===he.object){const s=Ue.objectKeys(e),a=Ue.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=bp(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===he.array&&n===he.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=bp(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===he.date&&n===he.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yu extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(Ov(a)||Ov(o))return be;const l=bp(a.value,o.value);return l.valid?((Rv(a)||Rv(o))&&r.dirty(),{status:r.value,value:l.data}):(le(n,{code:J.invalid_intersection_types}),be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yu.create=(t,e,r)=>new Yu({left:t,right:e,typeName:je.ZodIntersection,...Oe(r)});class Ei extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.array)return le(n,{code:J.invalid_type,expected:he.array,received:n.parsedType}),be;if(n.data.length<this._def.items.length)return le(n,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&n.data.length>this._def.items.length&&(le(n,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ks(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>lr.mergeArray(r,o)):lr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ei({...this._def,rest:e})}}Ei.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ei({items:t,typeName:je.ZodTuple,rest:null,...Oe(e)})};class Dv extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.map)return le(n,{code:J.invalid_type,expected:he.map,received:n.parsedType}),be;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ks(n,l,n.path,[u,"key"])),value:a._parse(new ks(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return be;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return be;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}Dv.create=(t,e,r)=>new Dv({valueType:e,keyType:t,typeName:je.ZodMap,...Oe(r)});class Sl extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.set)return le(n,{code:J.invalid_type,expected:he.set,received:n.parsedType}),be;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(le(n,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(le(n,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return be;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new ks(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Sl({...this._def,minSize:{value:e,message:pe.toString(r)}})}max(e,r){return new Sl({...this._def,maxSize:{value:e,message:pe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Sl.create=(t,e)=>new Sl({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...Oe(e)});class Bv extends De{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Bv.create=(t,e)=>new Bv({getter:t,typeName:je.ZodLazy,...Oe(e)});class Uv extends De{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return le(r,{received:r.data,code:J.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Uv.create=(t,e)=>new Uv({value:t,typeName:je.ZodLiteral,...Oe(e)});function wN(t,e){return new Ya({values:t,typeName:je.ZodEnum,...Oe(e)})}class Ya extends De{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return le(r,{expected:Ue.joinValues(n),received:r.parsedType,code:J.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return le(r,{received:r.data,code:J.invalid_enum_value,options:n}),be}return kr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ya.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ya.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ya.create=wN;class zv extends De{_parse(e){const r=Ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==he.string&&n.parsedType!==he.number){const s=Ue.objectValues(r);return le(n,{expected:Ue.joinValues(s),received:n.parsedType,code:J.invalid_type}),be}if(this._cache||(this._cache=new Set(Ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ue.objectValues(r);return le(n,{received:n.data,code:J.invalid_enum_value,options:s}),be}return kr(e.data)}get enum(){return this._def.values}}zv.create=(t,e)=>new zv({values:t,typeName:je.ZodNativeEnum,...Oe(e)});class Gu extends De{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.promise&&r.common.async===!1)return le(r,{code:J.invalid_type,expected:he.promise,received:r.parsedType}),be;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return kr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Gu.create=(t,e)=>new Gu({type:t,typeName:je.ZodPromise,...Oe(e)});class Ga extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{le(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return be;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?be:c.status==="dirty"||r.value==="dirty"?Mo(c.value):c});{if(r.value==="aborted")return be;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?be:l.status==="dirty"||r.value==="dirty"?Mo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?be:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?be:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qa(o))return be;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qa(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):be);Ue.assertNever(s)}}Ga.create=(t,e,r)=>new Ga({schema:t,typeName:je.ZodEffects,effect:e,...Oe(r)});Ga.createWithPreprocess=(t,e,r)=>new Ga({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...Oe(r)});class _s extends De{_parse(e){return this._getType(e)===he.undefined?kr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_s.create=(t,e)=>new _s({innerType:t,typeName:je.ZodOptional,...Oe(e)});class Ja extends De{_parse(e){return this._getType(e)===he.null?kr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ja.create=(t,e)=>new Ja({innerType:t,typeName:je.ZodNullable,...Oe(e)});class wp extends De{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wp.create=(t,e)=>new wp({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class jp extends De{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zu(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}jp.create=(t,e)=>new jp({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class qv extends De{_parse(e){if(this._getType(e)!==he.nan){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:he.nan,received:n.parsedType}),be}return{status:"valid",value:e.data}}}qv.create=t=>new qv({typeName:je.ZodNaN,...Oe(t)});class Q5 extends De{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ty extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?be:a.status==="dirty"?(r.dirty(),Mo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?be:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new ty({in:e,out:r,typeName:je.ZodPipeline})}}class Np extends De{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Qa(s)&&(s.value=Object.freeze(s.value)),s);return Zu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Np.create=(t,e)=>new Np({innerType:t,typeName:je.ZodReadonly,...Oe(e)});var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(je={}));const k=vn.create,B=Si.create;Ci.create;const de=Qu.create;Ka.create;Ss.create;nn.create;const te=mt.create;Ku.create;Yu.create;Ei.create;const ke=Ya.create;Gu.create;_s.create;Ja.create;const Se={string:t=>vn.create({...t,coerce:!0}),number:t=>Si.create({...t,coerce:!0}),boolean:t=>Qu.create({...t,coerce:!0}),bigint:t=>Ci.create({...t,coerce:!0}),date:t=>Ka.create({...t,coerce:!0})},Pi=te({user_id:k(),email:k().email(),password_hash:k(),display_name:k().nullable(),profile_photo_url:k().nullable(),bio:k().nullable(),contact_email:k().email().nullable(),is_host:de(),is_superhost:de(),last_active_at:Se.date().nullable(),created_at:Se.date(),updated_at:Se.date()});te({user_id:k().min(1).max(128),email:k().email().max(255),password_hash:k().min(8),display_name:k().max(255).nullable(),profile_photo_url:k().url().max(2048).nullable(),bio:k().max(4096).nullable(),contact_email:k().email().max(255).nullable(),is_host:de().default(!1),is_superhost:de().default(!1),last_active_at:k().nullable(),created_at:k(),updated_at:k()});te({user_id:k(),email:k().email().max(255).optional(),password_hash:k().min(8).optional(),display_name:k().max(255).nullable().optional(),profile_photo_url:k().url().max(2048).nullable().optional(),bio:k().max(4096).nullable().optional(),contact_email:k().email().max(255).nullable().optional(),is_host:de().optional(),is_superhost:de().optional(),last_active_at:Se.date().optional().nullable()});te({query:k().optional(),is_host:de().optional(),is_superhost:de().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","email","display_name"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});const ma=te({villa_id:k(),owner_user_id:k(),title:k(),description_short:k().nullable(),description_long:k().nullable(),address_street:k().nullable(),address_city:k(),address_area:k().nullable(),address_postal_code:k().nullable(),address_country:k(),latitude:B(),longitude:B(),main_photo_url:k().nullable(),cancellation_policy:k(),min_nights:B().int(),max_nights:B().int(),bedrooms:B().int(),beds:B().int(),bathrooms:B().int(),max_guests:B().int(),price_per_night:B(),cleaning_fee:B(),service_fee:B(),taxes:B(),is_active:de(),is_beachfront:de(),is_pet_friendly:de(),is_instant_book:de(),house_rules:k().nullable(),published_at:Se.date().nullable(),created_at:Se.date(),updated_at:Se.date()});te({villa_id:k().min(1).max(128),owner_user_id:k().min(1).max(128),title:k().min(1).max(255),description_short:k().max(500).nullable(),description_long:k().max(4096).nullable(),address_street:k().max(255).nullable(),address_city:k().min(1).max(255),address_area:k().max(255).nullable(),address_postal_code:k().max(16).nullable(),address_country:k().max(64),latitude:B(),longitude:B(),main_photo_url:k().url().max(2048).nullable(),cancellation_policy:k().min(1).max(255),min_nights:B().int().positive(),max_nights:B().int().positive(),bedrooms:B().int().min(1).max(100),beds:B().int().min(1).max(200),bathrooms:B().int().min(1).max(100),max_guests:B().int().min(1).max(1e3),price_per_night:B().min(0),cleaning_fee:B().min(0),service_fee:B().min(0),taxes:B().min(0),is_active:de().default(!0),is_beachfront:de().default(!1),is_pet_friendly:de().default(!1),is_instant_book:de().default(!1),house_rules:k().max(2048).nullable(),published_at:Se.date().nullable()});te({villa_id:k(),title:k().min(1).max(255).optional(),description_short:k().max(500).nullable().optional(),description_long:k().max(4096).nullable().optional(),address_street:k().max(255).nullable().optional(),address_city:k().min(1).max(255).optional(),address_area:k().max(255).nullable().optional(),address_postal_code:k().max(16).nullable().optional(),address_country:k().max(64).optional(),latitude:B().optional(),longitude:B().optional(),main_photo_url:k().url().max(2048).nullable().optional(),cancellation_policy:k().min(1).max(255).optional(),min_nights:B().int().positive().optional(),max_nights:B().int().positive().optional(),bedrooms:B().int().min(1).max(100).optional(),beds:B().int().min(1).max(200).optional(),bathrooms:B().int().min(1).max(100).optional(),max_guests:B().int().min(1).max(1e3).optional(),price_per_night:B().min(0).optional(),cleaning_fee:B().min(0).optional(),service_fee:B().min(0).optional(),taxes:B().min(0).optional(),is_active:de().optional(),is_beachfront:de().optional(),is_pet_friendly:de().optional(),is_instant_book:de().optional(),house_rules:k().max(2048).nullable().optional(),published_at:Se.date().nullable().optional()});te({query:k().optional(),address_city:k().optional(),address_country:k().optional(),min_guests:B().int().min(1).optional(),min_nights:B().int().min(1).optional(),max_price:B().min(0).optional(),is_active:de().optional(),is_beachfront:de().optional(),is_pet_friendly:de().optional(),is_instant_book:de().optional(),bedrooms:B().int().min(1).optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","price_per_night","max_guests"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});const K5=te({villa_photo_id:k(),villa_id:k(),photo_url:k(),ordering:B().int(),is_main:de(),uploaded_at:Se.date()});te({villa_photo_id:k().min(1).max(128),villa_id:k(),photo_url:k().url().max(2048),ordering:B().int().min(1),is_main:de().default(!1)});te({villa_photo_id:k(),photo_url:k().url().max(2048).optional(),ordering:B().int().min(1).optional(),is_main:de().optional()});te({villa_id:k().optional(),is_main:de().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["ordering","uploaded_at"]).default("ordering"),sort_order:ke(["asc","desc"]).default("asc")});const Vv=te({amenity_id:B().int(),label:k(),icon_url:k().nullable(),created_at:Se.date()});te({label:k().min(1).max(128),icon_url:k().url().max(2048).nullable()});te({amenity_id:B().int(),label:k().min(1).max(128).optional(),icon_url:k().url().max(2048).nullable().optional()});te({query:k().optional(),limit:B().int().positive().default(30),offset:B().int().nonnegative().default(0),sort_by:ke(["label","created_at"]).default("label"),sort_order:ke(["asc","desc"]).default("asc")});te({villa_amenity_id:k(),villa_id:k(),amenity_id:B().int()});te({villa_amenity_id:k().min(1).max(128),villa_id:k(),amenity_id:B().int()});te({villa_amenity_id:k(),villa_id:k().optional(),amenity_id:B().int().optional()});te({villa_id:k().optional(),amenity_id:B().int().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["villa_id","amenity_id"]).default("villa_id"),sort_order:ke(["asc","desc"]).default("asc")});const Y5=te({villa_rule_id:k(),villa_id:k(),rule_type:k(),allowed:de(),notes:k().nullable()});te({villa_rule_id:k().min(1).max(128),villa_id:k(),rule_type:k().min(1).max(64),allowed:de(),notes:k().max(2048).nullable()});te({villa_rule_id:k(),rule_type:k().min(1).max(64).optional(),allowed:de().optional(),notes:k().max(2048).nullable().optional()});te({villa_id:k().optional(),rule_type:k().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["rule_type","villa_id"]).default("rule_type"),sort_order:ke(["asc","desc"]).default("asc")});const Wv=te({villa_calendar_id:k(),villa_id:k(),date:k(),is_available:de(),reason:k().nullable(),updated_at:Se.date()});te({villa_calendar_id:k().min(1).max(128),villa_id:k(),date:k().regex(/^\d{4}-\d{2}-\d{2}$/),is_available:de().default(!0),reason:k().max(255).nullable()});te({villa_calendar_id:k(),is_available:de().optional(),reason:k().max(255).nullable().optional()});te({villa_id:k().optional(),date_from:k().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),date_to:k().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),is_available:de().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["date","updated_at"]).default("date"),sort_order:ke(["asc","desc"]).default("asc")});te({villa_pricing_override_id:k(),villa_id:k(),date:k(),nightly_price:B(),min_nights:B().int().nullable(),max_nights:B().int().nullable(),updated_at:Se.date()});te({villa_pricing_override_id:k().min(1).max(128),villa_id:k(),date:k().regex(/^\d{4}-\d{2}-\d{2}$/),nightly_price:B().min(0),min_nights:B().int().min(1).nullable(),max_nights:B().int().min(1).nullable()});te({villa_pricing_override_id:k(),nightly_price:B().min(0).optional(),min_nights:B().int().min(1).nullable().optional(),max_nights:B().int().min(1).nullable().optional()});te({villa_id:k().optional(),date_from:k().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),date_to:k().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["date","updated_at"]).default("date"),sort_order:ke(["asc","desc"]).default("asc")});const G5=te({wishlist_id:k(),user_id:k(),name:k(),is_deleted:de(),created_at:Se.date(),updated_at:Se.date()});te({wishlist_id:k().min(1).max(128),user_id:k(),name:k().min(1).max(255),is_deleted:de().default(!1)});te({wishlist_id:k(),name:k().min(1).max(255).optional(),is_deleted:de().optional()});te({user_id:k().optional(),is_deleted:de().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","name"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});te({wishlist_item_id:k(),wishlist_id:k(),villa_id:k(),added_at:Se.date()});te({wishlist_item_id:k().min(1).max(128),wishlist_id:k(),villa_id:k()});te({wishlist_item_id:k(),villa_id:k().optional()});te({wishlist_id:k().optional(),villa_id:k().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["added_at"]).default("added_at"),sort_order:ke(["asc","desc"]).default("desc")});const rr=te({booking_id:k(),villa_id:k(),guest_user_id:k(),host_user_id:k(),checkin_date:k(),checkout_date:k(),num_guests:B().int(),status:k(),is_instant_book:de(),nightly_price:B(),cleaning_fee:B(),service_fee:B(),taxes:B(),total_price:B(),payment_status:k(),cancellation_date:Se.date().nullable(),cancellation_reason:k().nullable(),created_at:Se.date(),updated_at:Se.date()});te({booking_id:k().min(1).max(128),villa_id:k(),guest_user_id:k(),host_user_id:k(),checkin_date:k().regex(/^\d{4}-\d{2}-\d{2}$/),checkout_date:k().regex(/^\d{4}-\d{2}-\d{2}$/),num_guests:B().int().min(1),status:k().min(1).max(32),is_instant_book:de().default(!1),nightly_price:B().min(0),cleaning_fee:B().min(0),service_fee:B().min(0),taxes:B().min(0),total_price:B().min(0),payment_status:k().min(1).max(32),cancellation_date:Se.date().nullable(),cancellation_reason:k().max(2048).nullable()});te({booking_id:k(),status:k().min(1).max(32).optional(),is_instant_book:de().optional(),nightly_price:B().min(0).optional(),cleaning_fee:B().min(0).optional(),service_fee:B().min(0).optional(),taxes:B().min(0).optional(),total_price:B().min(0).optional(),payment_status:k().min(1).max(32).optional(),cancellation_date:Se.date().nullable().optional(),cancellation_reason:k().max(2048).nullable().optional(),checkin_date:k().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),checkout_date:k().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),num_guests:B().int().min(1).optional()});te({villa_id:k().optional(),guest_user_id:k().optional(),host_user_id:k().optional(),status:k().optional(),payment_status:k().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","checkin_date","checkout_date","status"]).default("checkin_date"),sort_order:ke(["asc","desc"]).default("desc")});te({booking_history_id:k(),booking_id:k(),action:k(),previous_value:k().nullable(),new_value:k().nullable(),action_by_user_id:k().nullable(),action_at:Se.date()});te({booking_history_id:k().min(1).max(128),booking_id:k(),action:k().min(1).max(64),previous_value:k().max(2048).nullable(),new_value:k().max(2048).nullable(),action_by_user_id:k().optional()});te({booking_history_id:k(),action:k().min(1).max(64).optional(),previous_value:k().max(2048).nullable().optional(),new_value:k().max(2048).nullable().optional(),action_by_user_id:k().optional()});te({booking_id:k().optional(),action_by_user_id:k().optional(),action:k().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["action_at","action"]).default("action_at"),sort_order:ke(["asc","desc"]).default("desc")});te({booking_guest_id:k(),booking_id:k(),guest_name:k(),guest_email:k().email(),special_requests:k().nullable()});te({booking_guest_id:k().min(1).max(128),booking_id:k(),guest_name:k().min(1).max(128),guest_email:k().email(),special_requests:k().max(2048).nullable()});te({booking_guest_id:k(),guest_name:k().min(1).max(128).optional(),guest_email:k().email().optional(),special_requests:k().max(2048).nullable().optional()});te({booking_id:k().optional(),guest_email:k().email().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["guest_name","booking_id"]).default("guest_name"),sort_order:ke(["asc","desc"]).default("asc")});te({booking_payment_id:k(),booking_id:k(),user_id:k(),amount:B(),status:k(),provider:k(),processed_at:Se.date().nullable()});te({booking_payment_id:k().min(1).max(128),booking_id:k(),user_id:k(),amount:B().min(.01),status:k().min(1).max(32),provider:k().min(1).max(64),processed_at:Se.date().nullable()});te({booking_payment_id:k(),status:k().min(1).max(32).optional(),provider:k().min(1).max(64).optional(),processed_at:Se.date().nullable().optional()});te({booking_id:k().optional(),user_id:k().optional(),status:k().optional(),provider:k().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["processed_at","amount"]).default("processed_at"),sort_order:ke(["asc","desc"]).default("desc")});const J5=te({thread_id:k(),participant_user_id:k(),villa_id:k().nullable(),booking_id:k().nullable(),last_message_preview:k().nullable(),unread_count:B().int(),updated_at:Se.date()});te({thread_id:k().min(1).max(128),participant_user_id:k(),villa_id:k().nullable(),booking_id:k().nullable(),last_message_preview:k().max(2048).nullable(),unread_count:B().int().min(0).default(0)});te({thread_id:k(),last_message_preview:k().max(2048).nullable().optional(),unread_count:B().int().min(0).optional()});te({participant_user_id:k().optional(),villa_id:k().optional(),booking_id:k().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["updated_at"]).default("updated_at"),sort_order:ke(["asc","desc"]).default("desc")});te({message_id:k(),thread_id:k(),sender_user_id:k(),recipient_user_id:k(),content:k(),is_read:de(),sent_at:Se.date()});te({message_id:k().min(1).max(128),thread_id:k(),sender_user_id:k(),recipient_user_id:k(),content:k().min(1).max(8192),is_read:de().default(!1)});te({message_id:k(),content:k().min(1).max(8192).optional(),is_read:de().optional()});te({thread_id:k().optional(),sender_user_id:k().optional(),recipient_user_id:k().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["sent_at"]).default("sent_at"),sort_order:ke(["asc","desc"]).default("asc")});const kp=te({review_id:k(),booking_id:k(),guest_user_id:k(),villa_id:k(),host_user_id:k(),rating:B().int(),text:k().nullable(),is_edited:de(),created_at:Se.date(),updated_at:Se.date()});te({review_id:k().min(1).max(128),booking_id:k(),guest_user_id:k(),villa_id:k(),host_user_id:k(),rating:B().int().min(1).max(5),text:k().max(4096).nullable(),is_edited:de().default(!1)});te({review_id:k(),text:k().max(4096).nullable().optional(),rating:B().int().min(1).max(5).optional(),is_edited:de().optional()});te({villa_id:k().optional(),guest_user_id:k().optional(),host_user_id:k().optional(),rating:B().int().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","rating"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});te({guest_review_id:k(),booking_id:k(),host_user_id:k(),guest_user_id:k(),rating:B().int(),text:k().nullable(),is_edited:de(),created_at:Se.date(),updated_at:Se.date()});te({guest_review_id:k().min(1).max(128),booking_id:k(),host_user_id:k(),guest_user_id:k(),rating:B().int().min(1).max(5),text:k().max(4096).nullable(),is_edited:de().default(!1)});te({guest_review_id:k(),text:k().max(4096).nullable().optional(),rating:B().int().min(1).max(5).optional(),is_edited:de().optional()});te({host_user_id:k().optional(),guest_user_id:k().optional(),rating:B().int().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","rating"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});te({superhost_history_id:k(),host_user_id:k(),is_superhost:de(),qualifying_reviews:B().int(),qualifying_avg_rating:B(),became_superhost_at:Se.date().nullable(),removed_superhost_at:Se.date().nullable()});te({superhost_history_id:k().min(1).max(128),host_user_id:k(),is_superhost:de(),qualifying_reviews:B().int().min(0),qualifying_avg_rating:B().min(0).max(5),became_superhost_at:Se.date().nullable(),removed_superhost_at:Se.date().nullable()});te({superhost_history_id:k(),is_superhost:de().optional(),qualifying_reviews:B().int().min(0).optional(),qualifying_avg_rating:B().min(0).max(5).optional(),became_superhost_at:Se.date().nullable().optional(),removed_superhost_at:Se.date().nullable().optional()});te({host_user_id:k().optional(),is_superhost:de().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["became_superhost_at","removed_superhost_at"]).default("became_superhost_at"),sort_order:ke(["asc","desc"]).default("desc")});te({notification_id:k(),user_id:k(),type:k(),message:k(),is_read:de(),reference_id:k().nullable(),created_at:Se.date()});te({notification_id:k().min(1).max(128),user_id:k(),type:k().min(1).max(64),message:k().min(1).max(2048),is_read:de().default(!1),reference_id:k().nullable()});te({notification_id:k(),is_read:de().optional()});te({user_id:k().optional(),type:k().optional(),is_read:de().optional(),reference_id:k().optional(),limit:B().int().positive().default(20),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});te({password_reset_id:k(),user_id:k(),reset_code:k(),expires_at:Se.date(),used:de(),created_at:Se.date()});te({password_reset_id:k().min(1).max(128),user_id:k(),reset_code:k().min(1).max(128),expires_at:Se.date(),used:de().default(!1)});te({password_reset_id:k(),used:de().optional()});te({user_id:k().optional(),used:de().optional(),limit:B().int().positive().default(10),offset:B().int().nonnegative().default(0),sort_by:ke(["created_at","expires_at"]).default("created_at"),sort_order:ke(["asc","desc"]).default("desc")});function ry(t,e){const r=t.safeParse(e);return r.success?r.data:null}const Ud="https://123testing-project-yes-api.launchpulse.ai/api",X5=async({booking_id:t,token:e})=>{const{data:r}=await W.get(`${Ud}/bookings/${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${e}`}}),n=ry(rr,r);if(!n)throw new Error("Malformed booking data");return n},e6=async({villa_id:t})=>{const{data:e}=await W.get(`${Ud}/villa/${encodeURIComponent(t)}`),r=ry(ma,e);if(!r)throw new Error("Malformed villa data");return r},t6=async({token:t})=>{const{data:e}=await W.get(`${Ud}/account/me`,{headers:{Authorization:`Bearer ${t}`}}),r=ry(Pi,e);if(!r)throw new Error("Malformed user data");return r},r6=async({city:t,own_villa_id:e})=>{const{data:r}=await W.get(`${Ud}/villas?location=${encodeURIComponent(t)}&is_active=true&page=1`);return(Array.isArray(r.results)?r.results:[]).filter(s=>String(s.villa_id)!==String(e))},n6=()=>{const t=an(),e=t.booking_id||t.bookingId||"",r=et(),n=ie(Q=>Q.user_session.token),s=ie(Q=>Q.user_session.is_authenticated),a=ie(Q=>Q.user_session.user_id);ge.useEffect(()=>{s||r("/guest/login",{replace:!0})},[s,r]);const{data:o,isLoading:l,isError:c,error:u}=ve({queryKey:["booking",e,n],queryFn:()=>{if(!e||!n)throw new Error("Missing booking_id or token");return X5({booking_id:e,token:n})},enabled:!!e&&!!n,retry:!1}),f=(o==null?void 0:o.villa_id)||"",{data:d,isLoading:h,isError:v,error:g}=ve({queryKey:["villa",f],queryFn:()=>{if(!f)throw new Error("Missing villa_id");return e6({villa_id:String(f)})},enabled:!!f,retry:!1}),y=!!o&&String(o.host_user_id)===String(a)&&!!n,{data:_,isLoading:p,isError:x,error:m}=ve({queryKey:["host-profile",o==null?void 0:o.host_user_id,n],queryFn:()=>{if(!n)throw new Error("Missing token");return t6({token:n})},enabled:y,retry:!1}),b=(d==null?void 0:d.address_city)||"",{data:S,isLoading:T,isError:P,error:A}=ve({queryKey:["recommendations",b,f,"booking-confirmation"],queryFn:()=>!b||!f?[]:r6({city:b,own_villa_id:f}),enabled:!!b&&!!f,retry:!1});let F=null;e?c?F="Could not load your booking confirmation. Please check your reservation link or contact support.":v&&(F="Could not load villa details. Please try again later."):F="Missing booking confirmation identifier.";const U=Q=>{if(!Q)return"-";try{return new Date(Q).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return Q}},V=w.useMemo(()=>_?{display_name:_.display_name||"Your Host",profile_photo_url:_.profile_photo_url||"https://picsum.photos/seed/host/56",is_superhost:!!(_.is_superhost??_.superhost_status),fallback:!1}:d&&d.owner_user_id?{display_name:"Host (not available)",profile_photo_url:"https://picsum.photos/seed/host/56",is_superhost:!1,fallback:!0}:null,[_,d]);return i.jsx(i.Fragment,{children:i.jsx("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-8",children:F?i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center shadow mt-12",children:[i.jsx("div",{className:"text-2xl font-bold mb-2 text-red-800",children:"Confirmation Unavailable"}),i.jsx("div",{className:"text-red-700 my-4",children:F}),i.jsx(q,{to:"/",className:"inline-block bg-sky-600 text-white rounded-md px-5 py-2 mt-6 hover:bg-sky-700 font-semibold transition",children:"Go Home"})]}):l||h?i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-sky-400 border-t-transparent","aria-label":"Loading"})}):o&&d?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center pt-4 pb-8",children:[i.jsx("div",{className:"text-3xl font-extrabold text-sky-700 mb-2",children:"🎉 Booking Confirmed!"}),i.jsx("div",{className:"text-lg text-gray-700",children:o.status==="confirmed"?"Your stay is confirmed and a confirmation email has been sent.":o.status==="pending"?"Your booking request is pending. We'll notify you as soon as it's confirmed.":"Your reservation status: "+o.status}),i.jsxs("div",{className:"text-sm text-sky-900 mt-2",children:["Reservation reference:"," ",i.jsx("span",{className:"font-mono font-semibold bg-gray-100 px-2 py-0.5 rounded",children:o.booking_id})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg mx-auto max-w-2xl flex flex-col md:flex-row overflow-hidden",children:[d.main_photo_url&&i.jsx("img",{src:d.main_photo_url,alt:d.title,className:"w-full md:w-64 h-56 object-cover object-center md:rounded-l-xl",loading:"lazy"}),i.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.title}),i.jsxs("div",{className:"text-gray-600 font-medium mb-2",children:[d.address_city,", ",d.address_country]}),i.jsxs("div",{className:"flex flex-wrap space-x-6 text-gray-700 mb-1 mt-2",children:[i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold",children:"Check-in:"})," ",U(o.checkin_date)]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold",children:"Check-out:"})," ",U(o.checkout_date)]})]}),i.jsxs("div",{className:"text-gray-700 mb-2",children:[i.jsx("span",{className:"font-semibold",children:"Guests:"})," ",o.num_guests]}),i.jsxs("div",{className:"mt-2 text-gray-900 text-base",children:[i.jsx("span",{className:"font-semibold",children:"Total Paid:"})," ",i.jsxs("span",{className:"font-mono text-lg tracking-tight",children:["$",o.total_price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),i.jsx("div",{children:V&&i.jsxs("div",{className:"flex items-center mt-4 border-t pt-3",children:[i.jsx("img",{src:V.profile_photo_url,alt:V.display_name,className:"w-12 h-12 rounded-full object-cover border border-gray-200",loading:"lazy"}),i.jsxs("div",{className:"ml-3",children:[i.jsxs("span",{className:"font-semibold text-gray-800 block",children:["Host: ",V.display_name]}),V.is_superhost&&!V.fallback&&i.jsx("span",{className:"inline-block text-xs bg-yellow-100 text-yellow-700 font-semibold rounded px-2 py-0.5 mt-1",children:"⭐ Superhost"}),V.fallback&&i.jsx("span",{className:"inline-block text-xs bg-neutral-100 text-neutral-600 rounded px-2 py-0.5 mt-1",title:"Host details unavailable due to privacy settings or booking status.",children:"Host details unavailable"})]})]})})]})]}),i.jsx("div",{className:"text-center mt-8",children:i.jsx(q,{to:"/guest/my-trips",className:"bg-sky-600 hover:bg-sky-700 text-white px-6 py-3 rounded-lg font-semibold shadow transition",children:"View My Trips"})}),i.jsxs("div",{className:"mt-14",children:[i.jsx("div",{className:"text-lg font-bold text-sky-800 mb-4 text-center",children:"You might also like"}),T?i.jsx("div",{className:"flex items-center justify-center min-h-[120px]",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-gray-300 border-t-transparent","aria-label":"Loading"})}):S&&S.length>0?i.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:S.slice(0,6).map(Q=>i.jsxs(q,{to:`/villa/${Q.villa_id}`,className:"bg-white border border-gray-200 rounded-xl shadow hover:shadow-lg transition p-2 flex flex-col",children:[i.jsx("img",{src:Q.main_photo_url||`https://picsum.photos/seed/villa${Q.villa_id}/320/180`,alt:Q.title,className:"h-36 w-full object-cover rounded-t-xl mb-2",loading:"lazy"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-gray-900 truncate",children:Q.title}),i.jsx("div",{className:"text-xs text-gray-600",children:Q.address_city}),i.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["$",Q.price_per_night.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," ","/ night"]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Q.bedrooms," bd · ",Q.beds," beds · ",Q.bathrooms," ba"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-yellow-500","aria-label":"Rating Star",children:"★"}),i.jsx("span",{className:"text-gray-700 text-xs",children:Number(Q.avg_rating).toFixed(2)})]}),Q.is_instant_book&&i.jsx("span",{className:"bg-green-100 text-green-700 rounded px-2 py-0.5 text-xs font-medium",children:"Instant book"})]})]},Q.villa_id))}):i.jsxs("div",{className:"text-gray-600 text-center p-8",children:["No other villas found in ",b,". Try browsing in"," ",i.jsx(q,{to:"/search",className:"text-sky-600 underline",children:"search"}),"."]})]})]}):i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsx("div",{className:"text-gray-500",children:"Loading confirmation..."})})})})};function s6(t){const{search:e}=Br();return ge.useMemo(()=>{if(!e)return null;const n=new URLSearchParams(e).get(t);return typeof n=="string"?n:null},[e,t])}function i6(t){if(!t)return"error";const e=t.toLowerCase();return e.includes("overlap")||e.includes("unavailable")||e.includes("double")||e.includes("already")||e.includes("not available")?"warning":e.includes("technical")||e.includes("server")||e.includes("error")||e.includes("failure")?"error":e.includes("payment")||e.includes("card")||e.includes("declined")||e.includes("invalid")?"info":"error"}function a6(t){return!t||!t.trim()?"Sorry, we couldn't complete your booking. Please try again, check your details, or contact support if the issue persists.":t.toLowerCase().match(/overlap|already booked|double|not available|unavailable/)?"The selected dates for your villa are no longer available. Please choose new dates or review your booking.":t.toLowerCase().match(/payment|invalid.*card|declined|charge failed|insufficient/)?"There was a problem processing your payment. Please check your card details or try another method.":t.toLowerCase().match(/technical|server|error/)?"A technical error occurred during your booking. Please try again, or contact support if this continues.":t}function o6(t){if(!t)return"";const e={};t.location&&(e.location=t.location),t.checkin_date&&(e.checkin_date=t.checkin_date),t.checkout_date&&(e.checkout_date=t.checkout_date),typeof t.num_guests=="number"&&!isNaN(t.num_guests)&&t.num_guests>=1&&(e.num_guests=String(t.num_guests));const r=t.filters||{};r.price_min!=null&&(e.price_min=String(r.price_min)),r.price_max!=null&&(e.price_max=String(r.price_max)),r.bedrooms!=null&&(e.bedrooms=String(r.bedrooms)),r.beds!=null&&(e.beds=String(r.beds)),r.bathrooms!=null&&(e.bathrooms=String(r.bathrooms)),Array.isArray(r.amenities)&&r.amenities.length&&(e.amenities=r.amenities.join(",")),r.is_beachfront!=null&&(e.is_beachfront=String(!!r.is_beachfront)),r.is_pet_friendly!=null&&(e.is_pet_friendly=String(!!r.is_pet_friendly)),r.is_instant_book!=null&&(e.is_instant_book=String(!!r.is_instant_book)),t.sort&&(e.sort=t.sort),t.page&&t.page>1&&(e.page=String(t.page));const n=new URLSearchParams(e).toString();return n?"?"+n:""}const l6=()=>{const t=s6("reason"),e=ie(d=>d.booking_cart.villa_id),r=ie(d=>d.search_state),n=i6(t),s=a6(t),a=typeof e=="number"&&!isNaN(e),o=o6(r),l={error:"bg-red-50 border-red-400 text-red-700",warning:"bg-yellow-50 border-yellow-400 text-yellow-800",info:"bg-blue-50 border-blue-400 text-blue-700"},c={error:i.jsx("svg",{className:"h-6 w-6 text-red-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12A9 9 0 11 3 12a9 9 0 0118 0z"})}),warning:i.jsx("svg",{className:"h-6 w-6 text-yellow-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M12 17a5 5 0 100-10 5 5 0 000 10z"})}),info:i.jsx("svg",{className:"h-6 w-6 text-blue-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20.5A8.5 8.5 0 104 12.5a8.5 8.5 0 0016.5 8z"})})},f="mailto:support@beachstayvillas.com?subject=Booking%20Assistance";return ge.useEffect(()=>{window.scrollTo(0,0)},[]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-16 flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:`w-full flex items-center border-l-4 rounded-md px-4 py-5 mb-6 shadow-sm ${l[n]}`,role:"alert","aria-live":"assertive","data-testid":"booking-failure-alert",children:[i.jsx("div",{children:c[n]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-xl font-semibold mb-1",children:"Booking Failed"}),i.jsx("p",{className:"text-base",children:s})]})]}),i.jsx("div",{className:"w-full text-center mb-6",children:i.jsxs("p",{className:"text-gray-600 mb-2",children:["Your reservation could not be completed.",a?" You may retry booking, review the villa details, or search for other properties.":" Please return to the search results to try again or contact support."]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full justify-center mb-8",children:[a&&i.jsx(q,{to:`/villa/${e}`,className:"inline-flex items-center justify-center px-6 py-2 rounded-md bg-sky-600 text-white font-semibold hover:bg-sky-700 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","data-testid":"back-to-villa-btn",children:"← Back to Villa"}),i.jsx(q,{to:`/search${o}`,className:"inline-flex items-center justify-center px-6 py-2 rounded-md bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","data-testid":"back-to-search-btn",children:"← Back to Search"}),i.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-6 py-2 rounded-md bg-white border border-sky-400 text-sky-800 font-semibold hover:bg-sky-50 transition focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2","data-testid":"contact-support-link",children:[i.jsx("svg",{className:"h-5 w-5 text-sky-400 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-17 8h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2z"})}),"Contact Support"]})]}),i.jsx("div",{className:"w-full text-center mt-2",children:i.jsx("p",{className:"text-sm text-gray-500",children:"If the problem persists, please reach out to our support team for assistance."})})]})})},c6=Ft().email("Please enter a valid email").max(255,"Email too long"),u6=Ft().min(8,"Password must be at least 8 characters").max(255,"Password too long"),d6=Ft().min(1,"Display name is required").max(255,"Display name is too long"),f6=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState(null),[c,u]=w.useState(!1),[f,d]=w.useState(null),[h,v]=w.useState(!1),[g,y]=w.useState(!1),_=ie(E=>E.set_user_session),p=et(),x=w.useRef(null),m=()=>{const E={};try{c6.parse(t)}catch(L){L instanceof rn&&(E.email=L.issues[0].message)}try{u6.parse(r)}catch(L){L instanceof rn&&(E.password=L.issues[0].message)}try{d6.parse(s)}catch(L){L instanceof rn&&(E.display_name=L.issues[0].message)}return c||(E.agree_terms="You must agree to the terms and privacy policy"),E},b=w.useMemo(m,[t,r,s,c]),S=Ze({mutationFn:async E=>(await W.post("https://123testing-project-yes-api.launchpulse.ai/api/auth/signup",E,{headers:{"Content-Type":"application/json"}})).data,onSuccess:E=>{_({user_id:E.user_id,is_authenticated:!0,is_host:E.is_host,token:E.token,display_name:E.display_name,profile_photo_url:E.profile_photo_url,superhost_status:E.superhost_status,unread_message_count:0,last_active_at:null}),v(!1),p("/guest/dashboard")},onError:E=>{var L,C;v(!1),(C=(L=E.response)==null?void 0:L.data)!=null&&C.error?d(E.response.data.error):d("Could not sign up. Please try again.")}}),T=async E=>{if(E.preventDefault(),d(null),Object.keys(b).length>0){d(b.email||b.password||b.display_name||b.agree_terms||null);return}v(!0),S.mutate({email:t.trim(),password:r,display_name:s.trim()})},P=E=>{var C;const L=(C=E.target.files)==null?void 0:C[0];if(L){const j=new FileReader;j.onload=function(N){var R;l((R=N.target)==null?void 0:R.result)},j.readAsDataURL(L)}},A=()=>{l(null),x.current&&(x.current.value="")},F=()=>{x.current&&x.current.click()},U=()=>y(E=>!E),V=h||!t||!r||!s||!c||!!b.email||!!b.password||!!b.display_name||!!b.agree_terms;let Q;try{Q=i.jsx("div",{className:"flex flex-col items-center justify-center w-full min-h-[70vh] py-10 bg-gray-50",children:i.jsxs("form",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-8",onSubmit:T,noValidate:!0,children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-6",children:"Create your BeachStay account"}),i.jsxs("div",{className:"flex flex-col items-center mb-6",children:[i.jsxs("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border border-gray-200 shadow-md mb-2 bg-white",children:[o?i.jsx("img",{src:o,alt:"Profile preview",className:"w-full h-full object-cover"}):i.jsx("img",{src:"https://picsum.photos/seed/profile_preview/96",alt:"Default profile",className:"w-full h-full object-cover opacity-50"}),o&&i.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white/60 rounded-full p-1 shadow text-xs","aria-label":"Remove photo",onClick:A,children:i.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("input",{ref:x,id:"profile_photo",type:"file",accept:"image/*",className:"hidden",onChange:P,disabled:h,tabIndex:-1,"aria-label":"Choose profile photo"}),i.jsx("button",{type:"button",className:"mt-1 px-4 py-2 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition",disabled:h,onClick:F,"aria-label":o?"Change Photo":"Add Photo",children:o?"Change Photo":"Add Photo"}),i.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"(Optional, not shared until booking)"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"display_name",className:"block text-sm font-semibold mb-1",children:"Display name"}),i.jsx("input",{id:"display_name",type:"text",className:`w-full px-4 py-2 border rounded focus:ring-indigo-500 focus:border-blue-400 transition outline-none ${b.display_name?"border-red-500":"border-gray-300"}`,value:s,onChange:E=>a(E.target.value),autoComplete:"name",disabled:h,required:!0,maxLength:255,placeholder:"Your name",spellCheck:!1,"aria-invalid":!!b.display_name,"aria-describedby":b.display_name?"display_name_error":void 0}),b.display_name&&i.jsx("span",{className:"text-xs text-red-500",id:"display_name_error",children:b.display_name})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold mb-1",children:"Email"}),i.jsx("input",{id:"email",type:"email",className:`w-full px-4 py-2 border rounded focus:ring-indigo-500 focus:border-blue-400 transition outline-none ${b.email?"border-red-500":"border-gray-300"}`,value:t,onChange:E=>e(E.target.value),autoComplete:"email",disabled:h,required:!0,maxLength:255,placeholder:"you@email.com",spellCheck:!1,"aria-invalid":!!b.email,"aria-describedby":b.email?"email_error":void 0}),b.email&&i.jsx("span",{className:"text-xs text-red-500",id:"email_error",children:b.email})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",type:g?"text":"password",className:`w-full px-4 py-2 border rounded focus:ring-indigo-500 focus:border-blue-400 transition outline-none pr-10 ${b.password?"border-red-500":"border-gray-300"}`,value:r,onChange:E=>n(E.target.value),autoComplete:"new-password",disabled:h,required:!0,minLength:8,maxLength:255,placeholder:"Password (min 8 characters)",spellCheck:!1,"aria-invalid":!!b.password,"aria-describedby":b.password?"password_error":void 0}),i.jsx("button",{type:"button",className:"absolute top-2 right-2 text-gray-400 hover:text-blue-600","aria-label":g?"Hide password":"Show password",onClick:U,tabIndex:-1,disabled:h,children:g?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-5 0-9-4.477-9-7s4-7 9-7c1.262 0 2.466.247 3.572.693M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}):i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M9.88 9.88a3 3 0 104.24 4.24m2.06-2.06c.912-.912 1.832-2.181 1.83-4.06C17 7 13 3 12 3s-5 4-5 7c0 2.274.772 3.572 1.47 4.27m.53.53c.878.878 2.153 1.853 4.06 1.83"})})})]}),b.password&&i.jsx("span",{className:"text-xs text-red-500",id:"password_error",children:b.password})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:c,onChange:E=>u(E.target.checked),disabled:h,required:!0,"aria-invalid":!!b.agree_terms,"aria-describedby":b.agree_terms?"terms_error":void 0}),i.jsxs("span",{children:["I agree to the"," ",i.jsx(q,{to:"/legal/terms",className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",tabIndex:-1,children:"Terms of Service"})," ","and"," ",i.jsx(q,{to:"/legal/privacy",className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",tabIndex:-1,children:"Privacy Policy"})]})]}),b.agree_terms&&i.jsx("div",{className:"text-xs text-red-500 mt-1",id:"terms_error",children:b.agree_terms})]}),f&&i.jsx("div",{className:"mb-4 text-center text-base text-red-700 bg-red-100 rounded p-2 border border-red-300",children:f}),i.jsx("button",{type:"submit",className:`w-full py-3 mt-1 rounded font-semibold text-white bg-blue-600 hover:bg-blue-700 transition ${V?"opacity-60 cursor-not-allowed":""}`,disabled:V,children:h?i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Signing up..."]}):"Sign Up"}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mt-5 gap-2 text-sm",children:[i.jsxs("span",{children:["Already have an account?"," ",i.jsx(q,{to:"/guest/login",className:"font-medium text-blue-700 hover:underline",children:"Login"})]}),i.jsx("span",{children:i.jsx(q,{to:"/guest/password-reset",className:"text-blue-600 hover:underline",children:"Forgot password?"})})]})]})})}catch{Q=i.jsx("div",{className:"flex items-center justify-center min-h-[60vh] text-lg text-red-700 p-6",children:"Oops, something went wrong! Please reload the page."})}return i.jsx(i.Fragment,{children:Q})},h6=()=>{const t=ie(y=>y.set_user_session),e=et(),[r,n]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState(null),[c,u]=w.useState(!1),f=Ze({mutationFn:async y=>(u(!0),(await W.post("https://123testing-project-yes-api.launchpulse.ai/api/auth/login",y,{headers:{"Content-Type":"application/json"}})).data),onSuccess:y=>{t({user_id:y.user_id,is_authenticated:!0,is_host:y.is_host,token:y.token,display_name:y.display_name,profile_photo_url:y.profile_photo_url,superhost_status:y.superhost_status,unread_message_count:0,last_active_at:null}),n(""),a(""),u(!1),e("/guest/dashboard",{replace:!0})},onError:y=>{var _;(_=y==null?void 0:y.response)!=null&&_.data&&typeof y.response.data.error=="string"?l(y.response.data.error):l("Unexpected error occurred. Please try again or check your network."),u(!1)},onSettled:()=>{u(!1)}}),d=async y=>{if(y.preventDefault(),l(null),!r.trim()||!s){l("Please enter both your email and password.");return}u(!0),f.mutate({email:r.trim(),password:s})},h=y=>{y.key==="Enter"&&d(y)},v=y=>{l(null),n(y.target.value)},g=y=>{l(null),a(y.target.value)};return i.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(80vh)] py-10 px-3 bg-white",children:i.jsxs("div",{className:"w-full max-w-md rounded-lg shadow-lg border border-gray-200 bg-white p-8",children:[i.jsx("h1",{className:"text-2xl font-extrabold text-gray-900 mb-6 text-center",children:"Welcome back"}),i.jsxs("form",{onSubmit:d,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),i.jsx("input",{id:"login-email",type:"email",value:r,autoComplete:"email",onChange:v,onKeyDown:h,className:"block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 text-base focus:ring-blue-500 focus:border-blue-500 bg-white disabled:bg-gray-100",placeholder:"you@example.com",required:!0,disabled:c||f.isPending})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{id:"login-password",type:"password",value:s,autoComplete:"current-password",onChange:g,onKeyDown:h,className:"block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 text-base focus:ring-blue-500 focus:border-blue-500 bg-white disabled:bg-gray-100",placeholder:"Enter your password",required:!0,minLength:8,disabled:c||f.isPending})]}),o&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded text-sm",children:o}),i.jsx("button",{type:"submit",disabled:c||f.isPending,className:`w-full py-2 px-4 rounded-md font-semibold shadow-sm transition-colors ${c||f.isPending?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 cursor-pointer"} text-white text-base`,children:c||f.isPending?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Signing in…"]}):"Sign in"})]}),i.jsxs("div",{className:"flex flex-col items-center mt-6 space-y-2",children:[i.jsx(q,{to:"/guest/password-reset",className:"text-sm text-blue-600 hover:underline focus:underline",children:"Forgot password?"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["New to BeachStay Villas?"," ",i.jsx(q,{to:"/guest/signup",className:"text-blue-600 hover:underline font-medium ml-1",children:"Sign up"})]})]})]})})},m6=Fd({email:Ft().email().max(255)}),p6=Fd({reset_code:Ft().min(6).max(32),new_password:Ft().min(8).max(255)}),Hv="https://123testing-project-yes-api.launchpulse.ai/api",g6=()=>{const[t]=Mw(),[e,r]=w.useState("request_email"),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,f]=w.useState(null),[d,h]=w.useState(!1),[v,g]=w.useState(!1);w.useEffect(()=>{const b=t.get("reset_code");b&&typeof b=="string"&&b.length>=6?(o(b.trim()),r("set_new_password"),f(null),g(!0)):g(!1)},[t]),w.useEffect(()=>{e==="request_email"&&(o(""),c(""),f(null),g(!1))},[e]);const y=Ze({mutationFn:async b=>{if(!m6.safeParse(b).success)throw new Error("Please enter a valid email.");const{data:T}=await W.post(`${Hv}/auth/password/request-reset`,{email:b.email});return T},onMutate:()=>{h(!0),f(null)},onSuccess:()=>{r("confirm_email_sent"),h(!1),f(null)},onError:b=>{f(typeof(b==null?void 0:b.message)=="string"?b.message:"Could not process request, please try again."),h(!1)}}),_=Ze({mutationFn:async b=>{var P,A;const S=p6.safeParse(b);if(!S.success)throw new Error(((A=(P=S.error.errors)==null?void 0:P[0])==null?void 0:A.message)||"Please enter a valid reset code and/or password.");const{data:T}=await W.post(`${Hv}/auth/password/reset`,{reset_code:b.reset_code,new_password:b.new_password});return T},onMutate:()=>{h(!0),f(null)},onSuccess:()=>{r("completed"),h(!1),f(null)},onError:b=>{var T,P;let S="Could not reset password, please try again.";W.isAxiosError(b)&&((P=(T=b.response)==null?void 0:T.data)!=null&&P.error)?S=b.response.data.error:typeof(b==null?void 0:b.message)=="string"&&(S=b.message),f(S),h(!1)}}),p=b=>{b.preventDefault(),!d&&y.mutate({email:n.trim()})},x=b=>{b.preventDefault(),!d&&_.mutate({reset_code:a.trim(),new_password:l})},m="Password must be 8-255 characters. Avoid using your name, email, or repeat passwords.";return w.useEffect(()=>{f(null)},[e,n,a,l]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg mt-12 shadow-lg px-6 py-8 flex flex-col items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Password Reset"}),e==="request_email"&&i.jsxs("form",{onSubmit:p,className:"w-full flex flex-col gap-4","aria-label":"Request password reset email",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{type:"email",autoComplete:"email",id:"email",name:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-400 focus:ring focus:ring-violet-200 focus:ring-opacity-50",value:n,onChange:b=>s(b.target.value),required:!0,disabled:d,"aria-required":"true","aria-label":"Email address"})]}),u&&i.jsx("div",{className:"text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200 text-sm",role:"alert",children:u}),i.jsxs("button",{type:"submit",className:`w-full py-2 px-4 rounded-md text-white font-semibold bg-violet-600 hover:bg-violet-700 transition flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d,"aria-busy":d,children:[d?i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4A4 4 0 108 16.9l-3.5 2.04C2.62 17.1 2.35 16.1 2.66 15.32 2.97 14.55 3.7 14 4.52 14h.98A6.98 6.98 0 014 12z"})]}):null,"Send reset email"]}),i.jsx("div",{className:"text-sm text-gray-500 mt-2 text-center",children:i.jsx(q,{className:"text-violet-700 hover:underline font-medium",to:"/guest/login",children:"Back to Login"})})]}),e==="confirm_email_sent"&&i.jsxs("div",{className:"w-full flex flex-col gap-6 items-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsxs("svg",{className:"w-14 h-14 text-violet-500 mb-2",fill:"none",stroke:"currentColor",strokeWidth:1.6,viewBox:"0 0 24 24",children:[i.jsx("rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",fill:"#e9e6fb",stroke:"currentColor",strokeWidth:1.3}),i.jsx("path",{d:"M3 5l9 7 9-7",stroke:"currentColor",strokeWidth:1.3,fill:"none"})]}),i.jsx("div",{className:"text-lg font-semibold text-violet-700",children:"Check your email"}),i.jsxs("div",{className:"text-gray-600 text-center text-sm",children:["If your email exists in our records, a password reset email has been sent.",i.jsx("br",{}),"Please follow the link in the email to complete your reset."]})]}),i.jsx("div",{className:"mt-1",children:i.jsx(q,{className:"text-violet-600 hover:text-violet-900 underline",to:"/guest/login",children:"Back to Login"})})]}),e==="set_new_password"&&i.jsxs("form",{onSubmit:x,className:"w-full flex flex-col gap-4","aria-label":"Set a new password",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"reset_code",className:"block text-sm font-medium text-gray-700",children:"Reset Code"}),i.jsx("input",{type:"text",id:"reset_code",name:"reset_code",pattern:".{6,32}",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-400 focus:ring focus:ring-violet-200 focus:ring-opacity-50",value:a,onChange:b=>o(b.target.value.trim()),required:!0,"aria-required":"true","aria-label":"Password reset code",disabled:v})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password (8-255 characters)"}),i.jsx("input",{type:"password",id:"new_password",name:"new_password",autoComplete:"new-password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-400 focus:ring focus:ring-violet-200 focus:ring-opacity-50",value:l,onChange:b=>c(b.target.value),minLength:8,maxLength:255,required:!0,"aria-required":"true","aria-label":"New password"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m})]}),u&&i.jsx("div",{className:"text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200 text-sm",role:"alert",children:u}),i.jsxs("button",{type:"submit",className:`w-full py-2 px-4 rounded-md text-white font-semibold bg-violet-600 hover:bg-violet-700 transition flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d||!a||!l||l.length<8,"aria-busy":d,children:[d?i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4A4 4 0 108 16.9l-3.5 2.04C2.62 17.1 2.35 16.1 2.66 15.32 2.97 14.55 3.7 14 4.52 14h.98A6.98 6.98 0 014 12z"})]}):null,"Set New Password"]}),i.jsx("div",{className:"text-sm text-gray-500 mt-2 text-center",children:i.jsx(q,{className:"text-violet-700 hover:underline font-medium",to:"/guest/login",children:"Back to Login"})})]}),e==="completed"&&i.jsxs("div",{className:"w-full flex flex-col gap-6 items-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsxs("svg",{className:"w-16 h-16 text-green-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#e4fae2"}),i.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12.5l2.5 2.5L16 9"})]}),i.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Password reset successful!"}),i.jsx("div",{className:"text-gray-600 text-center text-sm",children:"You may now log in with your new password."})]}),i.jsx(q,{className:"w-full py-2 px-4 rounded-md text-white font-semibold bg-violet-600 hover:bg-violet-700 transition text-center",to:"/guest/login",children:"Back to Login"})]})]})})},Ql="https://123testing-project-yes-api.launchpulse.ai/api",y6=async t=>{const{data:e}=await W.get(`${Ql}/account/me`,{headers:{Authorization:`Bearer ${t}`}});return Pi.parse(e)},x6=async t=>{const{data:e}=await W.get(`${Ql}/account/my_trips`,{headers:{Authorization:`Bearer ${t}`}});return{upcoming:Array.isArray(e.upcoming)?e.upcoming.map(r=>rr.parse({...r,booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),guest_user_id:Number(r.guest_user_id),host_user_id:Number(r.host_user_id)})):[],past:Array.isArray(e.past)?e.past.map(r=>rr.parse({...r,booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),guest_user_id:Number(r.guest_user_id),host_user_id:Number(r.host_user_id)})):[],cancelled:Array.isArray(e.cancelled)?e.cancelled.map(r=>rr.parse({...r,booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),guest_user_id:Number(r.guest_user_id),host_user_id:Number(r.host_user_id)})):[]}},v6=async t=>{const{data:e}=await W.get(`${Ql}/account/wishlists`,{headers:{Authorization:`Bearer ${t}`}});return e.map(r=>G5.parse({...r,wishlist_id:Number(r.wishlist_id),villa_ids:Array.isArray(r.villa_ids)?r.villa_ids.map(n=>Number(n)):[]}))},_6=async t=>{const{data:e}=await W.get(`${Ql}/inbox`,{headers:{Authorization:`Bearer ${t}`}});return e.map(r=>J5.parse({...r,thread_id:Number(r.thread_id),participant_user_id:Number(r.participant_user_id),villa_id:r.villa_id!==null&&r.villa_id!==void 0?Number(r.villa_id):null,booking_id:r.booking_id!==null&&r.booking_id!==void 0?Number(r.booking_id):null}))},b6=async t=>{const{data:e}=await W.get(`${Ql}/account/my_reviews`,{headers:{Authorization:`Bearer ${t}`}});return e.map(r=>kp.parse({...r,review_id:Number(r.review_id),booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),host_user_id:Number(r.host_user_id),guest_user_id:Number(r.guest_user_id)}))};class w6 extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){var e;return this.state.hasError?i.jsxs("div",{className:"w-full text-center py-10 text-red-600",children:[i.jsx("div",{className:"mb-2 font-semibold text-lg",children:"An error occurred loading this section."}),i.jsx("div",{className:"mb-4 text-xs text-gray-400",children:String(((e=this.state.error)==null?void 0:e.message)||this.state.error)}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>window.location.reload(),children:"Try again"})]}):this.props.children}}const Ln=t=>t?new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"-",hh=t=>{switch(t){case"pending":return"Pending";case"confirmed":return"Confirmed";case"requested":return"Requested";case"cancelled":return"Cancelled";case"completed":return"Completed";case"rejected":return"Rejected";case"modified":return"Modified";default:return t.charAt(0).toUpperCase()+t.slice(1)}},Zv=[{id:"my_trips",label:"My Trips"},{id:"wishlists",label:"Wishlists"},{id:"messages",label:"Inbox"},{id:"my_reviews",label:"Review History"}],j6=()=>{const t=et(),e=ie(C=>C.user_session.token),r=ie(C=>C.user_session.is_authenticated),n=ie(C=>C.user_session.display_name),s=ie(C=>C.user_session.profile_photo_url);ie(C=>C.notifications?C.notifications.unread_count:0);const a=ie(C=>C.user_session.unread_message_count),[o,l]=w.useState("my_trips");w.useEffect(()=>{r||t("/guest/login")},[r,t]);const{data:c,isLoading:u,isError:f,refetch:d}=ve(["guest_dashboard","profile"],()=>e?y6(e):Promise.reject("No token")),{data:h,isLoading:v,isError:g,refetch:y}=ve(["guest_dashboard","my_trips"],()=>e?x6(e):Promise.reject("No token")),{data:_,isLoading:p,isError:x,refetch:m}=ve(["guest_dashboard","wishlists"],()=>e?v6(e):Promise.reject("No token")),{data:b,isLoading:S,isError:T,refetch:P}=ve(["guest_dashboard","messages"],()=>e?_6(e):Promise.reject("No token")),{data:A,isLoading:F,isError:U,refetch:V}=ve(["guest_dashboard","my_reviews"],()=>e?b6(e):Promise.reject("No token")),Q=w.useCallback(()=>{switch(o){case"my_trips":t("/search");break;case"wishlists":t("/guest/wishlists");break;case"messages":t("/search");break;case"my_reviews":t("/search");break}},[o,t]),E=w.useCallback(()=>{t("/guest/profile/edit")},[t]),L=C=>{var j;return C==="messages"&&a>0?i.jsxs(i.Fragment,{children:["Inbox"," ",i.jsx("span",{className:"ml-2 inline-block px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full align-middle",children:a})]}):((j=Zv.find(N=>N.id===C))==null?void 0:j.label)||""};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-3xl mx-auto pt-10 pb-6 px-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6 mb-6 flex items-center gap-5",children:[i.jsx("div",{className:"flex-shrink-0",children:u?i.jsx("div",{className:"rounded-full bg-gray-200 w-20 h-20 animate-pulse"}):i.jsx("img",{src:(c==null?void 0:c.profile_photo_url)||s||"https://picsum.photos/seed/unknownuser/80",alt:c!=null&&c.display_name?`${c.display_name}'s avatar`:"Profile",className:"rounded-full w-20 h-20 object-cover border",loading:"lazy"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900 truncate",children:u?i.jsx("span",{className:"inline-block bg-gray-200 h-5 w-28 rounded animate-pulse"}):(c==null?void 0:c.display_name)||n||"Guest"}),(c==null?void 0:c.is_superhost)&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-300 rounded text-sm font-semibold text-yellow-900",title:"Superhost",children:"★ Superhost"})]}),i.jsx("div",{className:"text-gray-600 mt-1 text-sm truncate",children:u?i.jsx("span",{className:"inline-block bg-gray-200 h-4 w-32 rounded animate-pulse"}):(c==null?void 0:c.contact_email)||(c==null?void 0:c.email)||"-"}),(c==null?void 0:c.bio)&&i.jsx("div",{className:"max-w-md mt-2 text-xs text-gray-500 whitespace-pre-line",children:c.bio})]}),i.jsx("div",{children:i.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700","aria-label":"Edit Profile",type:"button",children:"Edit"})})]}),i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"flex border-b border-gray-200",children:Zv.map(C=>i.jsx("button",{className:`relative px-4 py-2 text-md focus:outline-none font-medium
                ${o===C.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-blue-600"}
                transition-all duration-150`,onClick:()=>l(C.id),"aria-selected":o===C.id,"aria-controls":`dashboard-tabpanel-${C.id}`,type:"button",children:L(C.id)},C.id))})}),i.jsx(w6,{children:i.jsxs("div",{className:"min-h-[400px]",id:`dashboard-tabpanel-${o}`,children:[o==="my_trips"&&i.jsx(i.Fragment,{children:v?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your trips..."})}):g?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your bookings."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>y(),children:"Try Again"})]}):!h||h.upcoming.length===0&&h.past.length===0&&h.cancelled.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:"🌴"}),i.jsx("div",{className:"font-semibold text-lg",children:"No trips yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"Start your journey and book a stay."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Q,children:"Browse Villas"})]}):i.jsxs("div",{className:"flex flex-col gap-8",children:[h.upcoming.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2 text-blue-700",children:"Upcoming Reservations"}),h.upcoming.map(C=>i.jsxs(q,{to:`/reservation/${String(C.booking_id)}`,className:"block border-l-4 border-blue-500 bg-blue-50 hover:bg-blue-100 mb-3 rounded transition flex md:flex-row flex-col items-center justify-between p-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-semibold text-lg text-blue-900 truncate",children:[Ln(C.checkin_date)," – ",Ln(C.checkout_date)]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-0.5",children:["Booking for ",C.num_guests," ",C.num_guests>1?"guests":"guest"]}),i.jsxs("div",{className:"text-xs mt-0.5 text-gray-400",children:["Status: ",hh(C.status)]})]}),i.jsx("div",{className:"text-right ml-4",children:i.jsxs("div",{className:"font-semibold text-blue-700",children:["$",C.total_price.toFixed(2)]})})]},String(C.booking_id)))]}),h.past.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2 text-green-700",children:"Past Stays"}),h.past.map(C=>i.jsxs(q,{to:`/reservation/${String(C.booking_id)}`,className:"block border-l-4 border-green-500 bg-green-50 hover:bg-green-100 mb-3 rounded transition flex md:flex-row flex-col items-center justify-between p-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-semibold text-lg text-green-900 truncate",children:[Ln(C.checkin_date)," – ",Ln(C.checkout_date)]}),i.jsx("div",{className:"text-sm text-gray-600 mt-0.5",children:C.num_guests>1?`${C.num_guests} guests`:"1 guest"}),i.jsxs("div",{className:"text-xs mt-0.5 text-gray-400",children:["Status: ",hh(C.status)]})]}),i.jsx("div",{className:"text-right ml-4",children:i.jsxs("div",{className:"font-semibold text-green-700",children:["$",C.total_price.toFixed(2)]})})]},String(C.booking_id)))]}),h.cancelled.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2 text-gray-700",children:"Cancelled Bookings"}),h.cancelled.map(C=>i.jsxs(q,{to:`/reservation/${String(C.booking_id)}`,className:"block border-l-4 border-gray-400 bg-gray-50 hover:bg-gray-100 mb-3 rounded transition flex md:flex-row flex-col items-center justify-between p-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-semibold text-lg text-gray-800 truncate",children:[Ln(C.checkin_date)," – ",Ln(C.checkout_date)]}),i.jsx("div",{className:"text-sm text-gray-600 mt-0.5",children:C.num_guests>1?`${C.num_guests} guests`:"1 guest"}),i.jsxs("div",{className:"text-xs mt-0.5 text-gray-400",children:["Status: ",hh(C.status)]})]}),i.jsx("div",{className:"text-right ml-4",children:i.jsxs("div",{className:"font-semibold text-gray-600",children:["$",C.total_price.toFixed(2)]})})]},String(C.booking_id)))]})]})}),o==="wishlists"&&i.jsx(i.Fragment,{children:p?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your wishlists..."})}):x?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your wishlists."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>m(),children:"Try Again"})]}):!_||_.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:"💖"}),i.jsx("div",{className:"font-semibold text-lg",children:"No wishlists yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"Save your first dream villa."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Q,children:"Manage Wishlists"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(C=>i.jsxs("div",{className:`relative rounded-lg border ${C.is_deleted?"border-gray-300 bg-gray-50 opacity-70":"border-blue-200 bg-blue-50"} px-5 py-4 flex flex-col`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"font-bold text-blue-900 text-lg truncate",children:C.name}),C.is_deleted&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-400 text-white text-xs rounded",children:"Deleted"})]}),i.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[C.villa_ids.length," villa",C.villa_ids.length===1?"":"s"]}),i.jsx(q,{to:"/guest/wishlists",className:"absolute top-3 right-3 text-blue-600 underline text-xs hover:text-blue-800 focus:underline",children:"Manage →"})]},String(C.wishlist_id)))})}),o==="messages"&&i.jsx(i.Fragment,{children:S?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your messages..."})}):T?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your messages."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>P(),children:"Try Again"})]}):!b||b.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:"📨"}),i.jsx("div",{className:"font-semibold text-lg",children:"No messages yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"No conversations with hosts yet."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Q,children:"Start Exploring"})]}):i.jsx("div",{className:"flex flex-col gap-3",children:b.map(C=>i.jsxs(q,{to:`/messaging/thread/${String(C.thread_id)}`,className:"flex items-center bg-blue-50 hover:bg-blue-100 rounded px-4 py-3 border border-blue-200 transition relative",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-blue-800 truncate leading-5",children:C.last_message_preview?C.last_message_preview:"No messages yet."}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:["Last updated: ",Ln(C.updated_at)]})]}),C.unread_count>0&&i.jsx("span",{className:"ml-3 px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full leading-none",children:C.unread_count})]},String(C.thread_id)))})}),o==="my_reviews"&&i.jsx(i.Fragment,{children:F?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your reviews..."})}):U?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your reviews."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>V(),children:"Try Again"})]}):!A||A.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:"⭐"}),i.jsx("div",{className:"font-semibold text-lg",children:"No reviews yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"Review your stays to help others."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Q,children:"Find a Stay"})]}):i.jsx("div",{className:"flex flex-col gap-4",children:A.map(C=>i.jsxs("div",{className:"border-l-4 border-yellow-500 bg-yellow-50 rounded px-5 py-4 flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-semibold text-yellow-700 mr-2",children:["Rating: ",i.jsxs("span",{className:"font-bold text-lg",children:[C.rating,i.jsx("span",{className:"text-yellow-400 ml-1",children:"★"})]})]}),i.jsxs("span",{className:"text-xs text-gray-400",children:["Left on ",Ln(C.created_at)]}),C.is_edited&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-gray-300 text-white text-xs rounded",children:"Edited"})]}),i.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:C.text||i.jsx("em",{children:"No comment"})}),(()=>{const j=new Date,N=new Date(C.created_at);return(j.getTime()-N.getTime())/(1e3*60*60)<=48?i.jsx("div",{className:"mt-1",children:i.jsx(q,{to:`/review/edit/${String(C.review_id)}`,className:"text-xs text-blue-600 underline hover:text-blue-800",children:"Edit Review"})}):null})()]},String(C.review_id)))})})]})})]})})},jN="https://123testing-project-yes-api.launchpulse.ai/api";async function N6(t){const{data:e}=await W.get(`${jN}/account/me`,{headers:{Authorization:`Bearer ${t}`}});return Pi.parse(e)}async function k6(t,e){const r={...e};delete r.user_id;const{data:n}=await W.patch(`${jN}/account/me`,r,{headers:{Authorization:`Bearer ${t}`}});return Pi.parse(n)}function S6(t){return t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t):!1}function C6(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=r,n.readAsDataURL(t)})}const E6=()=>{const t=ie(K=>K.user_session),e=ie(K=>K.set_user_session),r=!!(t!=null&&t.token),n=et(),s=Ot(),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,f]=w.useState(""),[d,h]=w.useState(""),v=w.useRef(null),[g,y]=w.useState(null),[_,p]=w.useState(null),[x,m]=w.useState(!1),[b,S]=w.useState(null),{data:T,isLoading:P,isError:A,error:F,refetch:U}=ve({queryKey:["account","me"],queryFn:()=>{if(!(t!=null&&t.token))throw new Error("Not authenticated");return N6(t.token??"")},enabled:r,refetchOnWindowFocus:!1});w.useEffect(()=>{T&&(o(T.display_name??""),c(T.profile_photo_url??""),f(T.bio??""),h(T.contact_email??""),y(null),S(null),m(!1))},[T]),w.useEffect(()=>{r||n("/guest/login")},[r,n]);const V=Ze({mutationFn:K=>{if(!(t!=null&&t.token))throw new Error("Auth required");return k6(t.token??"",K)},onSuccess:K=>{e({...t,display_name:K.display_name??"",profile_photo_url:K.profile_photo_url??"",contact_email:K.contact_email??"",bio:K.bio??""}),s.invalidateQueries({queryKey:["account","me"]}),m(!1),S(null),p(null)},onError:K=>{S(K.message||"Update failed")}}),Q=a.trim(),E=Q.length>0&&Q.length<=255,L=d.trim(),C=L.length>0&&L.length<=255&&S6(L),j=E&&C&&!V.isPending&&(x||g);function N(K){if(K.preventDefault(),S(null),p(null),!E){S("Display name is required.");return}if(!C){S("Please provide a valid email address.");return}let $=l||null;g&&($=g),V.mutate({display_name:a.trim(),profile_photo_url:$?$.trim():null,bio:u.trim()||null,contact_email:d.trim()||null})}function R(){T&&(o(T.display_name??""),c(T.profile_photo_url??""),f(T.bio??""),h(T.contact_email??""),S(null),m(!1),y(null),p(null))}async function M(K){var Z;p(null);const $=(Z=K.target.files)==null?void 0:Z[0];if($){if(!$.type.startsWith("image/")){p("Please select a valid image file.");return}if($.size>2*1024*1024){p("File must be less than 2MB.");return}try{const X=await C6($);y(X),m(!0)}catch{p("Could not preview image.")}}}function z(){const K=window.prompt("Paste an image URL to use as your profile picture:");if(K){if(!/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|bmp|svg)(\?.*)?$/.test(K.toLowerCase())){p("Please enter a direct link to an image.");return}c(K.trim()),y(null),m(!0),p(null)}}let re=null;return(A||b)&&(re=i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-800 px-4 py-2 rounded mb-4",children:b||(F==null?void 0:F.message)||"An error occurred while loading profile info."})),P||!r?i.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:i.jsx("div",{className:"text-lg text-gray-500",children:"Loading profile..."})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto px-4 py-10",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Edit Your Profile"}),i.jsx("p",{className:"mb-6 text-gray-500",children:"Update your information below. All fields are required except bio."}),re,i.jsxs("form",{className:"w-full bg-white rounded-lg shadow p-6 border border-gray-100",onSubmit:N,autoComplete:"off",children:[i.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:g||l||`https://picsum.photos/seed/${t.user_id||"default"}/128`,alt:"Profile avatar",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),i.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 hover:bg-blue-700 transition","aria-label":"Upload new avatar",onClick:()=>{var K;return(K=v.current)==null?void 0:K.click()},tabIndex:0,children:i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 20v-6M12 4V2M4.93 4.93l-1.42-1.42M19.07 19.07l1.42 1.42M1 12h2m18 0h2m-4.93-7.07l1.42-1.42M4.93 19.07l-1.42 1.42"}),i.jsx("circle",{cx:"12",cy:"12",r:"5"})]})}),i.jsx("input",{type:"file",ref:v,accept:"image/*",className:"hidden",onChange:M})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border border-gray-200 text-sm font-medium hover:bg-gray-50",onClick:z,children:"Use Image by URL"}),g&&i.jsx("button",{type:"button",className:"text-xs text-red-500 underline",onClick:()=>{y(null),p(null),m(!0)},children:"Remove Unsaved Photo"}),_&&i.jsx("span",{className:"text-red-500 text-xs",children:_})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"display_name",className:"block font-semibold mb-1",children:["Display Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"display_name",value:a,onChange:K=>{o(K.target.value),m(!0)},className:`w-full px-3 py-2 border rounded ${E?"border-gray-200":"border-red-400"} focus:outline-none focus:ring-2 focus:ring-blue-200`,maxLength:255,required:!0,placeholder:"Your name",autoComplete:"name"}),!E&&i.jsx("span",{className:"text-xs text-red-500",children:"Display name is required and must be under 255 characters."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"contact_email",className:"block font-semibold mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",id:"contact_email",value:d,onChange:K=>{h(K.target.value),m(!0)},className:`w-full px-3 py-2 border rounded ${C?"border-gray-200":"border-red-400"} focus:outline-none focus:ring-2 focus:ring-blue-200`,maxLength:255,required:!0,placeholder:"your@email.com",autoComplete:"email"}),!C&&i.jsx("span",{className:"text-xs text-red-500",children:"Please provide a valid email address (required, under 255 characters)."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"bio",className:"block font-semibold mb-1",children:["Short Bio ",i.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),i.jsx("textarea",{id:"bio",value:u,onChange:K=>{f(K.target.value),m(!0)},className:"w-full px-3 py-2 border border-gray-200 rounded min-h-[64px] focus:outline-none focus:ring-2 focus:ring-blue-200",maxLength:4096,placeholder:"Tell us about yourself"}),(u==null?void 0:u.length)>4096&&i.jsx("span",{className:"text-xs text-red-500",children:"Bio must be shorter than 4096 characters."})]}),i.jsxs("div",{className:"flex items-center mt-6 gap-3",children:[i.jsx("button",{type:"submit",disabled:!j,className:"bg-blue-600 text-white font-semibold px-5 py-2 rounded shadow transition hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed",children:V.isPending?"Saving...":"Save"}),i.jsx("button",{type:"button",onClick:R,disabled:V.isPending,className:"bg-gray-100 text-gray-700 font-semibold px-5 py-2 rounded shadow hover:bg-gray-200 transition",children:"Cancel"}),i.jsx(q,{to:"/guest/dashboard",className:"ml-auto text-blue-700 font-medium underline hover:text-blue-900 text-sm",children:"Back to Dashboard"})]}),V.isSuccess&&!x&&i.jsxs("div",{className:"mt-3 text-green-600 text-sm flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-500 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Profile updated!"]})]})]})})},P6="/legal/host-terms",O6="https://123testing-project-yes-api.launchpulse.ai/api",R6=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[f,d]=w.useState(""),[h,v]=w.useState(!1),[g,y]=w.useState(null),[_,p]=w.useState(!1),[x,m]=w.useState(!1),b=ie(A=>A.set_user_session),S=et(),T=Ze({mutationFn:async A=>(await W.post(`${O6}/auth/signup`,{email:A.email.trim(),password:A.password,display_name:A.display_name,is_host:!0},{headers:{"Content-Type":"application/json"}})).data,onSuccess:A=>{b({user_id:typeof A.user_id=="number"?A.user_id:null,is_authenticated:!0,is_host:!!A.is_host,token:A.token||"",display_name:A.display_name||"",profile_photo_url:typeof A.profile_photo_url=="string"&&A.profile_photo_url?A.profile_photo_url:"",superhost_status:typeof A.superhost_status=="boolean"?A.superhost_status:!1,unread_message_count:0,last_active_at:new Date().toISOString()}),p(!1),S("/host/onboarding")},onError:A=>{var F,U;p(!1),W.isAxiosError(A)&&((U=(F=A.response)==null?void 0:F.data)!=null&&U.error)?y(A.response.data.error):A instanceof Error?y(A.message):y("Could not complete signup. Please try again.")}}),P=A=>{if(A.preventDefault(),y(null),!t.trim()){y("Email is required.");return}if(!/^[^@]+@[^@]+\.[^@]+$/.test(t.trim())){y("Please enter a valid email address.");return}if(!r||r.length<8){y("Password must be at least 8 characters.");return}if(!s.trim()){y("Display name is required.");return}if(!h){y("You must agree to the BeachStay Host Terms of Service to continue.");return}p(!0),T.mutate({email:t.trim(),password:r,display_name:s.trim(),is_host:!0})};return i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex w-full min-h-[calc(100vh-8rem)] items-center justify-center bg-gray-50 py-10 px-4",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-md p-8 space-y-7 border border-gray-100",children:[i.jsx("h1",{className:"text-2xl font-bold text-center text-gray-700",children:"Become a BeachStay Host"}),i.jsxs("p",{className:"text-center text-gray-500 text-sm mb-4",children:["Create your host account to list your villa rentals and start earning. Already have an account?"," ",i.jsx(q,{className:"text-blue-600 underline hover:text-blue-800",to:"/guest/login",children:"Log in"}),". Or want to sign up as a guest?"," ",i.jsx(q,{className:"text-blue-600 underline hover:text-blue-800",to:"/guest/signup",children:"Guest Signup"})]}),null,g?i.jsx("div",{className:"bg-red-100 text-red-700 rounded px-4 py-3 text-center mb-4",children:g}):null,i.jsxs("form",{className:"space-y-5",onSubmit:P,noValidate:!0,children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block font-medium text-sm text-gray-700 mb-1",children:["Email",i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{id:"email",type:"email",autoComplete:"email",value:t,onChange:A=>e(A.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:_,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"password",className:"block font-medium text-sm text-gray-700 mb-1",children:["Password",i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{id:"password",type:"password",autoComplete:"new-password",minLength:8,value:r,onChange:A=>n(A.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:_,required:!0}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum 8 characters."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"display_name",className:"block font-medium text-sm text-gray-700 mb-1",children:["Host Display Name",i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{id:"display_name",type:"text",value:s,onChange:A=>a(A.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:_,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"profile_photo_url",className:"block font-medium text-sm text-gray-700 mb-1",children:["Profile Photo URL ",i.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),i.jsx("input",{id:"profile_photo_url",type:"url",value:o,onChange:A=>{l(A.target.value),m(!1)},className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:_,placeholder:"https://example.com/photo.jpg","aria-describedby":"profile_photo_preview"}),i.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[i.jsx("img",{src:x||!o?"https://picsum.photos/seed/beachhostsignup/48":o,alt:"Profile preview",className:"rounded-full border border-gray-200 w-12 h-12 object-cover",onError:()=>!x&&m(!0),id:"profile_photo_preview"}),i.jsx("span",{className:"text-gray-400 text-xs",children:"Preview"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"bio",className:"block font-medium text-sm text-gray-700 mb-1",children:["Your Bio ",i.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),i.jsx("textarea",{id:"bio",value:c,onChange:A=>u(A.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 min-h-[64px] focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:_,maxLength:2048,placeholder:"Tell travelers about yourself!"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_email",className:"block font-medium text-sm text-gray-700 mb-1",children:["Contact Email ",i.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),i.jsx("input",{id:"contact_email",type:"email",value:f,onChange:A=>d(A.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:_,placeholder:"Notification email for your host account"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Used for reservation notifications (leave blank to use above email)."})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("input",{id:"agree_to_host_tos",type:"checkbox",name:"agree_to_host_tos",checked:h,onChange:A=>v(A.target.checked),required:!0,disabled:_,className:"mt-1 accent-blue-600"}),i.jsxs("label",{htmlFor:"agree_to_host_tos",className:"text-sm text-gray-700",children:["I agree to the"," ",i.jsx(q,{to:P6,className:"text-blue-600 underline hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"BeachStay Host Terms of Service"}),"."]})]}),i.jsx("div",{children:i.jsxs("button",{type:"submit",className:"w-full py-2 px-4 rounded bg-blue-600 hover:bg-blue-700 text-white font-semibold transition disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:_||!t||!r||!s||!h,children:[_?i.jsx("span",{className:"animate-spin inline-block mr-2 align-middle",children:i.jsxs("svg",{className:"w-5 h-5 text-white inline",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]})}):null,_?"Creating Host Account...":"Sign Up as Host"]})})]})]})})})},Ms="https://123testing-project-yes-api.launchpulse.ai/api";function So(t){return typeof t=="number"?t.toLocaleString("en-US",{style:"currency",currency:"USD"}):"$0"}function Is(t){if(!t)return"-";const e=new Date(t);return isNaN(e.valueOf())?"-":e.toLocaleDateString()}function T6(t){switch(t){case"confirmed":return i.jsx("span",{className:"text-green-700 font-semibold",children:"Confirmed"});case"pending":return i.jsx("span",{className:"text-yellow-600 font-semibold",children:"Pending"});case"requested":return i.jsx("span",{className:"text-yellow-500 font-semibold",children:"Requested"});case"cancelled":return i.jsx("span",{className:"text-gray-400 font-semibold",children:"Cancelled"});case"rejected":return i.jsx("span",{className:"text-red-600 font-semibold",children:"Rejected"});case"completed":return i.jsx("span",{className:"text-blue-700 font-semibold",children:"Completed"});default:return i.jsx("span",{children:t})}}const A6=()=>{var j,N,R,M,z,re,K;const t=ie($=>$.user_session),e=ie($=>$.set_host_dashboard_state),r=ie($=>$.host_dashboard_state),[n,s]=w.useState("my_villas"),[a,o]=w.useState(null),l=et(),c=t.token;Ot();const u=ve({queryKey:["host_villas"],queryFn:async()=>{const $=await W.get(`${Ms}/host/villas`,{headers:{Authorization:`Bearer ${c}`}});return(Array.isArray($.data)?$.data:Array.isArray($.data.results)?$.data.results:[]).map(X=>({...X,villa_id:X.villa_id.toString(),main_photo_url:X.main_photo_url||""}))},enabled:!!c,staleTime:1e3*60*2}),f=ve({queryKey:["host_reservations"],queryFn:async()=>{const $=await W.get(`${Ms}/host/reservations`,{headers:{Authorization:`Bearer ${c}`}});return(Array.isArray($.data)?$.data:Array.isArray($.data.results)?$.data.results:[]).map(X=>({...X,booking_id:X.booking_id.toString(),villa_id:X.villa_id.toString()}))},enabled:!!c,staleTime:1e3*60*2}),d=ve({queryKey:["inbox_threads"],queryFn:async()=>{const $=await W.get(`${Ms}/inbox`,{headers:{Authorization:`Bearer ${c}`}});return(Array.isArray($.data)?$.data:Array.isArray($.data.results)?$.data.results:[]).map(X=>{var I;return{...X,thread_id:X.thread_id.toString(),participant_user_id:(I=X.participant_user_id)==null?void 0:I.toString(),villa_id:X.villa_id?X.villa_id.toString():null,booking_id:X.booking_id?X.booking_id.toString():null}})},enabled:!!c&&n==="inbox",staleTime:1e3*30}),h=Rm({queries:(u.data||[]).map($=>({queryKey:["villa_reviews",$.villa_id],queryFn:async()=>{try{const Z=await W.get(`${Ms}/villas/${$.villa_id}/reviews?page=1`,{headers:{Authorization:`Bearer ${c}`}});return Z.data&&Array.isArray(Z.data.reviews)?Z.data.reviews:[]}catch{return[]}},enabled:!!c&&n==="reviews",staleTime:1e3*60}))}),v=Rm({queries:(u.data||[]).map($=>({queryKey:["villa_guest_reviews",$.villa_id],queryFn:async()=>{try{const Z=await W.get(`${Ms}/host/villas/${$.villa_id}/guest-reviews`,{headers:{Authorization:`Bearer ${c}`}});return Array.isArray(Z.data)?Z.data:[]}catch{return[]}},enabled:!!c&&n==="reviews",staleTime:1e3*60}))}),g=ve({queryKey:["superhost_status"],queryFn:async()=>(await W.get(`${Ms}/account/superhost`,{headers:{Authorization:`Bearer ${c}`}})).data,enabled:!!c,staleTime:1e3*60*5}),[y,_]=w.useState({}),[p,x]=w.useState({}),[m,b]=w.useState({}),S=w.useCallback(async $=>{x(Z=>({...Z,[$]:!0})),b(Z=>({...Z,[$]:""}));try{const Z=await W.get(`${Ms}/villa/${$}/calendar`,{headers:{Authorization:`Bearer ${c}`}});_(X=>({...X,[$]:Array.isArray(Z.data)?Z.data:[]})),x(X=>({...X,[$]:!1}))}catch(Z){x(X=>({...X,[$]:!1})),b(X=>{var I,se;return{...X,[$]:((se=(I=Z==null?void 0:Z.response)==null?void 0:I.data)==null?void 0:se.error)||(Z==null?void 0:Z.message)||"Failed to fetch calendar."}})}},[c]),T=$=>{if(!$)return{total:0,upcoming:0};let Z=0,X=0;const I=new Date;return $.forEach(se=>{["confirmed","completed"].includes(se.status)&&(Z+=se.total_price,new Date(se.checkin_date)>=I&&(X+=se.total_price))}),{total:Z,upcoming:X}};w.useEffect(()=>{u.data?e({villas:u.data.map($=>({villa_id:$.villa_id,title:$.title,published_at:$.published_at||null,is_active:$.is_active,main_photo_url:$.main_photo_url||"",pending_reservations:0,upcoming_reservations:0}))}):e({villas:[]})},[u.data,e]),w.useEffect(()=>{if(f.data&&Array.isArray(r.villas)&&r.villas.length>0){const $=r.villas.map(Z=>({...Z,pending_reservations:f.data.filter(X=>X.villa_id===Z.villa_id&&["pending","requested"].includes(X.status)).length,upcoming_reservations:f.data.filter(X=>X.villa_id===Z.villa_id&&["confirmed"].includes(X.status)&&new Date(X.checkin_date)>=new Date).length}));e({villas:$,reservations:f.data,revenue_summary:T(f.data)})}else f.data||e({reservations:[],revenue_summary:{total:0,upcoming:0}})},[f.data,e,r.villas]);const[P,A]=w.useState([]),[F,U]=w.useState([]);w.useEffect(()=>{if(n==="reviews"){const $=[];h.forEach(X=>{Array.isArray(X.data)&&$.push(...X.data)}),A($);const Z=[];v.forEach(X=>{Array.isArray(X.data)&&Z.push(...X.data)}),U(Z)}},[h,v,n]);const V=typeof((j=g.data)==null?void 0:j.is_superhost)<"u"?g.data.is_superhost:t.is_superhost;w.useEffect(()=>{(!t.is_authenticated||!t.is_host||!c)&&l("/guest/login",{replace:!0})},[t,c,l]);const Q=u.isLoading||f.isLoading||n==="reviews"&&(h.some($=>$.isLoading)||v.some($=>$.isLoading))||n==="inbox"&&d.isLoading||g.isLoading,E=u.error||f.error||n==="reviews"&&((N=h.find($=>$.error)||v.find($=>$.error))==null?void 0:N.error)||n==="inbox"&&d.error||g.error,L=(((R=u.data)==null?void 0:R.length)||0)>0,C=[{id:"my_villas",label:"My Villas"},{id:"reservations",label:"Reservations"},{id:"calendar",label:"Calendar Management"},{id:"inbox",label:"Inbox"},{id:"reviews",label:"Reviews"},{id:"earnings",label:"Earnings"},{id:"profile",label:"Profile Edit"}];return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8 flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:t.profile_photo_url||"https://picsum.photos/seed/profile/64",alt:"Profile",className:"w-16 h-16 rounded-full object-cover border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",t.display_name||"Host"]}),V&&i.jsxs("span",{title:"Superhost",className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-200 border border-yellow-400 text-yellow-800 rounded text-xs font-bold",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-4 h-4 text-yellow-500",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 16.7l-6.16 3.84 1.66-7.14L2 8.76l7.19-.61L12 1.75l2.81 6.4 7.19.61-5.5 4.64 1.66 7.14z"})}),"Superhost"]})]}),i.jsx("p",{className:"text-gray-500",children:"Manage your properties, bookings, and messages"})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Total Earnings"}),i.jsx("div",{className:"text-xl font-bold",children:So(((M=r.revenue_summary)==null?void 0:M.total)||0)}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Upcoming:"," ",So(((z=r.revenue_summary)==null?void 0:z.upcoming)||0)]})]})]}),i.jsx("div",{className:"border-b border-gray-200 mb-6 flex gap-4 flex-wrap",children:C.map($=>i.jsx("button",{onClick:()=>s($.id),className:`px-4 py-2 text-sm font-medium ${n===$.id?"border-b-2 border-blue-600 text-blue-700":"text-gray-600 hover:text-blue-600"} bg-transparent focus:outline-none transition`,children:$.label},$.id))}),Q&&i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("span",{className:"text-gray-500 animate-pulse",children:"Loading..."})}),!Q&&E&&i.jsxs("div",{className:"bg-red-100 text-red-800 border border-red-300 px-4 py-3 rounded mb-4",children:["Error loading dashboard data. Please try refreshing.",i.jsx("br",{}),i.jsx("span",{className:"text-xs break-all",children:(E==null?void 0:E.message)||String(E)})]}),!Q&&!L&&n==="my_villas"&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-blue-50 rounded-lg border border-blue-100",children:[i.jsx("img",{src:"https://picsum.photos/seed/hostonboarding/160/80",className:"rounded shadow mb-4",alt:"List your villa",width:160,height:80}),i.jsx("div",{className:"text-2xl font-semibold text-blue-800 mb-2",children:"You have no villas listed."}),i.jsx("div",{className:"text-gray-500 mb-6",children:"Get started by listing your first villa and start earning."}),i.jsx(q,{to:"/host/onboarding",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded px-6 py-2 transition",children:"List Your Villa"})]}),!Q&&L&&i.jsxs(i.Fragment,{children:[n==="my_villas"&&i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-end mb-6",children:i.jsx(q,{to:"/host/onboarding",className:"bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2 font-medium",children:"+ Add Villa"})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r.villas||[]).map($=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-5 flex flex-col",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("img",{src:$.main_photo_url||`https://picsum.photos/seed/villa${$.villa_id}/400/220`,alt:$.title,className:"w-full h-40 object-cover rounded mb-2"}),!$.is_active&&i.jsx("span",{className:"absolute top-2 left-2 bg-yellow-200 text-yellow-800 px-2 py-1 text-xs rounded font-bold z-10",children:"Inactive"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-lg mb-1",children:$.title}),i.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Listed:"," ",$.published_at?Is($.published_at):i.jsx("span",{className:"text-red-500",children:"Unpublished"})]}),i.jsxs("div",{className:"flex justify-between mb-2 text-xs text-gray-600",children:[i.jsxs("span",{children:["Pending:"," ",i.jsx("strong",{children:$.pending_reservations})]}),i.jsxs("span",{children:["Upcoming:"," ",i.jsx("strong",{children:$.upcoming_reservations})]})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx(q,{to:`/host/villa/${$.villa_id}`,className:"flex-1 text-center bg-gray-100 hover:bg-gray-200 rounded px-3 py-2 font-medium text-gray-700 border border-gray-200",title:"View/Manage Villa",children:"Manage"}),i.jsx(q,{to:`/host/villa/${$.villa_id}/edit`,className:"flex-1 text-center bg-blue-50 hover:bg-blue-100 rounded px-3 py-2 font-medium text-blue-700 border border-blue-200",title:"Edit Villa",children:"Edit"}),i.jsx("button",{className:"flex-1 text-center bg-yellow-50 hover:bg-yellow-100 rounded px-3 py-2 font-medium text-yellow-800 border border-yellow-200",title:"(Not implemented) Remove/Unlist",disabled:!0,children:"Unlist"})]})]},$.villa_id))})]}),n==="reservations"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Reservations"}),Array.isArray(r.reservations)&&r.reservations.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto border border-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"px-4 py-2 text-left",children:"Villa"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Guest"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Check-In"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Check-Out"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Total"}),i.jsx("th",{})]})}),i.jsx("tbody",{children:r.reservations.map($=>{const Z=r.villas.find(X=>X.villa_id===$.villa_id);return i.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2",children:(Z==null?void 0:Z.title)||"Villa #"+$.villa_id}),i.jsx("td",{className:"px-4 py-2",children:i.jsxs("span",{className:"text-gray-600",children:["ID: ",$.guest_user_id]})}),i.jsx("td",{className:"px-4 py-2",children:Is($.checkin_date)}),i.jsx("td",{className:"px-4 py-2",children:Is($.checkout_date)}),i.jsx("td",{className:"px-4 py-2",children:T6($.status)}),i.jsx("td",{className:"px-4 py-2",children:So($.total_price)}),i.jsx("td",{className:"px-4 py-2",children:i.jsx(q,{to:`/host/reservation/${$.booking_id}`,className:"text-blue-600 hover:underline text-sm",children:"Details"})})]},$.booking_id)})})]})}):i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-8 text-center text-gray-500",children:"No reservations yet. Once you receive bookings, they'll show up here."})]}),n==="calendar"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Calendar Management"}),i.jsx("div",{className:"flex flex-wrap gap-3 mb-5",children:(r.villas||[]).map($=>i.jsx("button",{onClick:()=>{o($.villa_id),!y[$.villa_id]&&!p[$.villa_id]&&S($.villa_id)},className:`px-3 py-1 rounded border ${a===$.villa_id?"bg-blue-100 border-blue-400 text-blue-900 font-semibold":"bg-gray-100 border-gray-200 text-gray-700"}`,children:$.title},$.villa_id))}),a&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium text-lg mb-2",children:["Calendar for ",(re=r.villas.find($=>$.villa_id===a))==null?void 0:re.title]}),p[a]&&i.jsx("div",{className:"text-gray-400 py-6",children:"Loading calendar..."}),m[a]&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded mb-2",children:m[a]}),!p[a]&&!m[a]&&(y[a]?i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white max-w-2xl",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:y[a]&&y[a].length>0?y[a].map($=>i.jsxs("div",{className:`px-2 py-3 border rounded text-center
                                ${$.is_available?"bg-green-50 border-green-200 text-green-700":"bg-gray-100 border-gray-200 text-gray-400 line-through"}`,children:[i.jsx("div",{className:"font-mono",children:Is($.date)}),$.is_available?"Available":"Blocked",$.reason&&i.jsx("div",{className:"text-gray-400 text-xs mt-1",children:$.reason})]},$.date)):i.jsx("div",{className:"col-span-4 text-center text-gray-400 py-6",children:"No calendar data available."})}),i.jsx("div",{className:"mt-2 text-xs text-gray-500 text-right",children:"(Calendar editing coming soon)"})]}):i.jsx("div",{className:"text-gray-400 py-6",children:"No calendar data available."}))]}),!a&&i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-8 text-center text-gray-500",children:"Select a villa to manage its availability calendar."})]}),n==="inbox"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Messaging Inbox"}),Array.isArray(d.data)&&d.data.length>0?i.jsx("div",{className:"divide-y border rounded bg-white overflow-hidden",children:d.data.map($=>{var Z;return i.jsx(q,{to:`/messaging/thread/${$.thread_id}`,className:"block hover:bg-blue-50 p-4 transition",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold mb-1",children:["Thread #",$.thread_id]}),i.jsxs("div",{className:"text-gray-600 text-sm",children:["Villa:"," ",((Z=r.villas.find(X=>X.villa_id===$.villa_id))==null?void 0:Z.title)||($.villa_id?`#${$.villa_id}`:"-"),$.booking_id&&i.jsxs("span",{children:[" ","(Booking #",$.booking_id,")"]})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Updated: ",Is($.updated_at)]}),i.jsx("div",{className:"text-gray-700 mt-1 truncate",children:$.last_message_preview||"(No messages)"})]}),i.jsx("div",{className:"flex flex-col items-center",children:$.unread_count>0&&i.jsxs("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5 font-semibold",children:[$.unread_count," new"]})})]})},$.thread_id)})}):i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-8 text-center text-gray-500",children:"No messages yet. New guest inquiries will appear here."})]}),n==="reviews"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reviews"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-700 mb-2",children:[i.jsx("span",{className:"mr-1",children:"Reviews Received"}),i.jsx("span",{className:"bg-gray-200 text-xs px-2 py-0.5 rounded-full",children:P.length})]}),i.jsx("div",{className:"space-y-4",children:P.length===0?i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-6 text-center text-gray-400",children:"No reviews received."}):P.map($=>{const Z=r.villas.find(X=>X.villa_id===$.villa_id);return i.jsxs("div",{className:"border rounded p-3 bg-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-yellow-400 text-lg font-bold",children:[Array($.rating).fill("★").join(""),i.jsx("span",{className:"text-gray-300",children:Array(5-$.rating).fill("★").join("")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold",children:(Z==null?void 0:Z.title)||"Villa #"+$.villa_id}),i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:Is($.created_at)})]})]}),i.jsx("div",{className:"mt-2",children:$.text||i.jsx("em",{className:"text-gray-400",children:"No comment left"})})]},$.review_id)})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-700 mb-2",children:[i.jsx("span",{className:"mr-1",children:"Reviews Given"}),i.jsx("span",{className:"bg-gray-200 text-xs px-2 py-0.5 rounded-full",children:F.length})]}),i.jsx("div",{className:"space-y-4",children:F.length===0?i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-6 text-center text-gray-400",children:"No reviews given."}):F.map($=>i.jsxs("div",{className:"border rounded p-3 bg-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-yellow-400 text-lg font-bold",children:[Array($.rating).fill("★").join(""),i.jsx("span",{className:"text-gray-300",children:Array(5-$.rating).fill("★").join("")})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"font-bold",children:["Guest #",$.guest_user_id]}),i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:Is($.created_at)})]})]}),i.jsx("div",{className:"mt-2",children:$.text||i.jsx("em",{className:"text-gray-400",children:"No comment left"})})]},$.guest_review_id))})]})]})]}),n==="earnings"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Earnings Summary"}),i.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:(r.villas||[]).map($=>{const Z=(r.reservations||[]).filter(X=>X.villa_id===$.villa_id&&["confirmed","completed"].includes(X.status)).reduce((X,I)=>X+I.total_price,0);return i.jsxs("div",{className:"p-5 bg-white rounded-lg border border-gray-100 shadow flex-1 min-w-[220px]",children:[i.jsx("div",{className:"text-gray-600 text-sm mb-1",children:$.title}),i.jsx("div",{className:"text-2xl font-bold",children:So(Z)}),i.jsx("div",{className:"text-xs text-gray-400",children:"All time"})]},$.villa_id)})}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-gray-500 mb-2",children:[i.jsx("strong",{children:"Total earnings:"})," ",So(((K=r.revenue_summary)==null?void 0:K.total)||0)]}),i.jsxs("div",{className:"text-gray-400 text-xs",children:["Based on confirmed and completed reservations. ",i.jsx("span",{className:"italic",children:"(Simulated payout)"})]})]})]}),n==="profile"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Profile"}),i.jsxs("div",{className:"p-6 bg-white border border-gray-100 rounded-lg shadow max-w-md",children:[i.jsxs("div",{className:"mb-4 flex gap-3 items-center",children:[i.jsx("img",{src:t.profile_photo_url||"https://picsum.photos/seed/profile/56",className:"w-14 h-14 rounded-full object-cover border",alt:"Profile"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-lg font-bold mb-0.5",children:[t.display_name,V&&i.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded bg-yellow-100 border border-yellow-200 text-yellow-700 font-semibold",children:"Superhost"})]}),i.jsxs("div",{className:"text-gray-500 text-sm",children:["User #",t.user_id]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("div",{className:"text-gray-700",children:"Display Name"}),i.jsx("div",{className:"text-gray-900 font-medium",children:t.display_name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("div",{className:"text-gray-700",children:"Email"}),i.jsx("div",{className:"text-gray-900 font-medium",children:"******"})]})]}),i.jsx(q,{to:"/host/profile/edit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",children:"Edit Profile"})]})]})]})]})})},Qv="https://123testing-project-yes-api.launchpulse.ai/api",$6=({error:t})=>i.jsxs("div",{className:"w-full max-w-lg mx-auto bg-red-50 border border-red-200 rounded px-6 py-4 text-red-600 my-8",children:[i.jsx("h2",{className:"font-bold text-lg mb-2",children:"Something went wrong with your profile"}),i.jsx("div",{className:"mb-1",children:t.message}),i.jsx(q,{to:"/host/dashboard",className:"text-blue-700 hover:underline",children:"Go to Host Dashboard"})]});class L6 extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e){}render(){return this.state.hasError&&this.state.error?i.jsx($6,{error:this.state.error}):this.props.children}}const F6=()=>{const t=ie(C=>C.user_session.token);ie(C=>C.user_session.display_name),ie(C=>C.user_session.profile_photo_url),ie(C=>C.user_session.superhost_status);const e=ie(C=>C.set_user_session);et();const r=Ot(),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,f]=w.useState(""),[d,h]=w.useState(!1),[v,g]=w.useState(!1),[y,_]=w.useState(null),[p,x]=w.useState(!1),{data:m,error:b,isLoading:S,refetch:T}=ve({queryKey:["host-profile-me"],enabled:!!t,queryFn:async()=>{const C=await W.get(`${Qv}/account/me`,{headers:{Authorization:`Bearer ${t}`}}),j=Pi.safeParse(C.data);if(j.success)return j.data;throw new Error("Failed to validate profile data.")},staleTime:1e3*60,retry:1});w.useEffect(()=>{m&&!v&&(s(m.display_name||""),o(m.profile_photo_url||""),c(m.bio||""),f(m.contact_email||""),h(m.is_superhost),g(!0),_(null))},[m,v]);const{mutate:P,isPending:A}=Ze({mutationFn:async C=>{const j={};C.display_name!==void 0&&(j.display_name=C.display_name),C.profile_photo_url!==void 0&&(j.profile_photo_url=C.profile_photo_url),C.bio!==void 0&&(j.bio=C.bio),C.contact_email!==void 0&&(j.contact_email=C.contact_email);const N=await W.patch(`${Qv}/account/me`,j,{headers:{Authorization:`Bearer ${t}`}}),R=Pi.safeParse(N.data);if(R.success)return R.data;throw new Error("Failed to validate updated user")},onSuccess:C=>{_(null),x(!0),s(C.display_name||""),o(C.profile_photo_url||""),c(C.bio||""),f(C.contact_email||""),h(C.is_superhost),e({display_name:C.display_name||"",profile_photo_url:C.profile_photo_url||"",superhost_status:C.is_superhost}),r.invalidateQueries({queryKey:["host-profile-me"]}),setTimeout(()=>x(!1),2e3)},onError:C=>{_(C.message||"Failed to update profile")}}),F=m||{display_name:"",profile_photo_url:"",bio:"",contact_email:""},U=v&&(n!==(F.display_name||"")||a!==(F.profile_photo_url||"")||l!==(F.bio||"")||u!==(F.contact_email||"")),V=v&&n.trim().length>0&&u.trim().length>0&&!A&&U,Q=w.useCallback(()=>{s(F.display_name||""),o(F.profile_photo_url||""),c(F.bio||""),f(F.contact_email||""),_(null)},[F.display_name,F.profile_photo_url,F.bio,F.contact_email]),E=C=>{if(C.preventDefault(),_(null),n.trim().length===0||u.trim().length===0){_("Display name and contact email are required.");return}const j={};n!==(F.display_name||"")&&(j.display_name=n.trim()),a!==(F.profile_photo_url||"")&&(j.profile_photo_url=a.trim()),l!==(F.bio||"")&&(j.bio=l.trim()),u!==(F.contact_email||"")&&(j.contact_email=u.trim()),P(j)},L=i.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-160px)] py-10 bg-gray-50",children:i.jsxs("div",{className:"w-full max-w-lg bg-white border border-gray-200 rounded-lg shadow px-8 py-8 relative",children:[i.jsxs("h1",{className:"text-2xl font-extrabold mb-2 text-gray-900 flex items-center gap-2",children:["Edit Host Profile",d&&i.jsxs("span",{title:"Superhost: Consistently rated 4.7+, completed 10+ stays in the past year, maintains high response rate and 0 cancellations.",className:"bg-yellow-300 text-gray-800 rounded px-2 py-0.5 ml-2 text-xs font-semibold flex items-center whitespace-nowrap","data-testid":"superhost-badge",children:[i.jsx("svg",{className:"w-4 h-4 mr-1 text-yellow-600 inline-block",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 15.27L16.18 19l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 4.73L3.82 19z"})}),"Superhost",i.jsx("span",{className:"ml-1 text-gray-600 cursor-help",title:"What is Superhost?",children:"ⓘ"})]})]}),i.jsx("div",{className:"text-gray-600 mb-6",children:"Keep your info up to date so guests trust your brand as a beach villa host."}),S&&i.jsxs("div",{className:"flex justify-center items-center my-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400"}),i.jsx("span",{className:"ml-2 text-gray-400",children:"Loading profile..."})]}),b&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-4 py-2 text-red-700 mb-4",children:b.message}),y&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-4 py-2 text-red-700 mb-4",children:y}),p&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded px-4 py-2 text-green-700 mb-4",children:"Profile saved successfully!"}),i.jsxs("form",{className:"space-y-6",onSubmit:E,autoComplete:"off",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold text-gray-700 mb-2",children:"Profile Photo"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:a||"https://picsum.photos/seed/profilehost/100",alt:"Profile",className:"w-20 h-20 rounded-full object-cover border border-gray-200",referrerPolicy:"no-referrer"}),i.jsx("input",{type:"url",className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",value:a,onChange:C=>o(C.target.value),autoComplete:"off",spellCheck:!1,placeholder:"Photo image URL...",disabled:A})]}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Paste a photo URL (public JPG/PNG). Change will appear after save."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block font-semibold text-gray-700 mb-2",children:["Display Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",value:n,onChange:C=>s(C.target.value),maxLength:255,required:!0,autoComplete:"off",disabled:A})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block font-semibold text-gray-700 mb-2",children:["Contact Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",value:u,onChange:C=>f(C.target.value),maxLength:255,required:!0,autoComplete:"off",disabled:A})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold text-gray-700 mb-2",children:"Bio"}),i.jsx("textarea",{value:l,onChange:C=>c(C.target.value),className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",rows:3,maxLength:4096,placeholder:"Tell guests about yourself and your hosting style",disabled:A})]}),i.jsx("div",{className:"block mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"block font-semibold text-gray-700 mb-0",children:"Superhost status:"}),i.jsx("span",{className:`inline-block text-xs font-bold rounded px-2 py-0.5 ${d?"bg-yellow-200 text-yellow-900":"bg-gray-100 text-gray-500"}`,title:d?"You're a Superhost! Guests see this badge on your listings.":"Requirements: 10+ stays, avg 4.7+ rating, high response, no cancellations.",children:d?"Yes":"No"}),i.jsx("span",{title:"About Superhost status",className:"ml-1 cursor-pointer text-gray-400",children:"ℹ"})]})}),i.jsxs("div",{className:"flex gap-2 mt-8 items-center",children:[i.jsx("button",{type:"submit",className:`bg-primary-600 hover:bg-primary-700 text-white font-bold px-6 py-2 rounded transition
                ${V?"":"opacity-60 cursor-not-allowed"}`,disabled:!V,"data-testid":"save-btn",children:A?i.jsxs("span",{className:"inline-flex items-center",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Saving..."]}):"Save"}),i.jsx("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold px-6 py-2 rounded transition",onClick:Q,disabled:A||!U,"data-testid":"cancel-btn",children:"Cancel"}),i.jsx(q,{to:"/host/dashboard",className:"ml-auto text-primary-700 hover:underline text-sm",children:"← Back to Host Dashboard"})]})]})]})});return i.jsx(L6,{children:L})},wc=7,M6=["Property Info","Photos","Amenities","House Rules & Cancellation","Pricing","Availability Calendar","Preview & Publish"],ln="https://123testing-project-yes-api.launchpulse.ai/api",I6=(t=Math.floor(Math.random()*1e4))=>`https://picsum.photos/seed/beachstay_${t}/800/600`,D6=()=>{const t=et(),{villaId:e}=an(),r=!!e,n=e&&!isNaN(Number(e))?parseInt(e,10):null,s=n,a=o.user_id!==null&&!isNaN(Number(o.user_id))?Number(o.user_id):null,o=ie(j=>j.user_session),[l,c]=w.useState({step_index:0,villa_id:s,title:"",description_short:"",description_long:"",address_street:"",address_city:"",address_area:"",address_postal_code:"",address_country:"",latitude:0,longitude:0,photos:[],main_photo_url:"",amenity_ids:[],amenities_options:[],rules:[],cancellation_policy:"",house_rules:"",price_per_night:0,cleaning_fee:0,service_fee:0,taxes:0,min_nights:1,max_nights:14,bedrooms:1,beds:1,bathrooms:1,max_guests:1,is_active:!0,is_beachfront:!1,is_pet_friendly:!1,is_instant_book:!1,calendar_data:[],loading:!1,error:null}),{data:u,isFetching:f,error:d}=ve({queryKey:["amenities_global"],queryFn:async()=>{const j=await W.get(`${ln}/villas/amenities`);return Vs(Vv).parse(j.data)}}),h=w.useRef(!1);w.useEffect(()=>{!r||!n||h.current||(async()=>{c(j=>({...j,loading:!0,error:null}));try{const j=await W.get(`${ln}/villa/${n}`),N=ma.parse(j.data),R=await W.get(`${ln}/villa/${n}/photos`),z=Vs(K5).parse(R.data).map((xe,ze)=>({villa_photo_id:String(xe.villa_photo_id),photo_url:xe.photo_url,ordering:Number(xe.ordering),is_main:xe.is_main})),re=await W.get(`${ln}/villa/${n}/amenities`),$=Vs(Vv).parse(re.data).map(xe=>Number(xe.amenity_id)),Z=await W.get(`${ln}/villa/${n}/rules`),I=Vs(Y5).parse(Z.data).map(xe=>({rule_type:xe.rule_type,allowed:xe.allowed,notes:xe.notes})),se=await W.get(`${ln}/villa/${n}/calendar`),Ce=Vs(Wv).parse(se.data);c(xe=>{var ze;return{...xe,villa_id:Number(N.villa_id),title:N.title,description_short:N.description_short||"",description_long:N.description_long||"",address_street:N.address_street||"",address_city:N.address_city,address_area:N.address_area||"",address_postal_code:N.address_postal_code||"",address_country:N.address_country,latitude:N.latitude,longitude:N.longitude,main_photo_url:N.main_photo_url||(((ze=z.find(ct=>ct.is_main))==null?void 0:ze.photo_url)??""),photos:z,amenity_ids:$,rules:I,cancellation_policy:N.cancellation_policy,house_rules:N.house_rules||"",price_per_night:N.price_per_night,cleaning_fee:N.cleaning_fee,service_fee:N.service_fee,taxes:N.taxes,min_nights:N.min_nights,max_nights:N.max_nights,bedrooms:N.bedrooms,beds:N.beds,bathrooms:N.bathrooms,max_guests:N.max_guests,is_active:N.is_active,is_beachfront:N.is_beachfront,is_pet_friendly:N.is_pet_friendly,is_instant_book:N.is_instant_book,calendar_data:Ce.map(ct=>({date:ct.date,is_available:ct.is_available,reason:ct.reason})),loading:!1,error:null}}),h.current=!0}catch(j){c(N=>{var R,M;return{...N,loading:!1,error:((M=(R=j==null?void 0:j.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to load villa data."}})}})()},[r,n]),w.useEffect(()=>{u&&u.length>0&&c(j=>({...j,amenities_options:u}))},[u==null?void 0:u.length]);function v(j,N){switch(j){case 0:return N.title.trim().length>3&&N.address_city.trim().length>1&&N.address_country.trim().length>1;case 1:return N.photos.length>=5&&N.photos.length<=20&&N.photos.some(R=>R.is_main);case 2:return N.amenity_ids.length>0;case 3:return["flexible","moderate","strict"].includes(N.cancellation_policy)&&N.rules.length>0;case 4:return N.price_per_night>0&&N.cleaning_fee>=0&&N.service_fee>=0&&N.taxes>=0&&N.min_nights>0&&N.max_nights>=N.min_nights&&N.bedrooms>0&&N.beds>0&&N.bathrooms>0&&N.max_guests>0;case 5:return N.calendar_data.length>0;case 6:return!0;default:return!1}}function g(){c(j=>({...j,step_index:Math.min(wc-1,j.step_index+1),error:null}))}function y(){c(j=>({...j,step_index:Math.max(0,j.step_index-1),error:null}))}const _=Ot(),p=Ze({mutationFn:async j=>{const N=await W.post(`${ln}/host/villas`,j,{headers:{Authorization:`Bearer ${o.token||""}`}});return ma.parse(N.data)},onSuccess:j=>{_.invalidateQueries({queryKey:["host_villas"]}),c(N=>({...N,villa_id:Number(j.villa_id),loading:!1})),t(`/host/villa/${j.villa_id}`)},onError:j=>{c(N=>{var R,M;return{...N,loading:!1,error:((M=(R=j==null?void 0:j.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to create listing."}})}}),x=Ze({mutationFn:async j=>{if(!l.villa_id)throw new Error("Missing villa id for edit");const N={villa_id:l.villa_id,owner_user_id:a,title:l.title,description_short:l.description_short,description_long:l.description_long,address_street:l.address_street,address_city:l.address_city,address_area:l.address_area,address_postal_code:l.address_postal_code,address_country:l.address_country,latitude:l.latitude,longitude:l.longitude,main_photo_url:l.main_photo_url,cancellation_policy:l.cancellation_policy,house_rules:l.house_rules,min_nights:l.min_nights,max_nights:l.max_nights,bedrooms:l.bedrooms,beds:l.beds,bathrooms:l.bathrooms,max_guests:l.max_guests,price_per_night:l.price_per_night,cleaning_fee:l.cleaning_fee,service_fee:l.service_fee,taxes:l.taxes,is_active:l.is_active,is_beachfront:l.is_beachfront,is_pet_friendly:l.is_pet_friendly,is_instant_book:l.is_instant_book,published_at:null,created_at:"",updated_at:""},R=await W.patch(`${ln}/villa/${l.villa_id}`,N,{headers:{Authorization:`Bearer ${o.token||""}`}});return ma.parse(R.data)},onSuccess:()=>{_.invalidateQueries({queryKey:["host_villas"]}),c(j=>({...j,loading:!1})),t(`/host/villa/${l.villa_id}`)},onError:j=>{c(N=>{var R,M;return{...N,loading:!1,error:((M=(R=j==null?void 0:j.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to save changes."}})}}),m=Ze({mutationFn:async j=>{if(!l.villa_id)throw new Error("Missing id");const N=await W.patch(`${ln}/villa/${l.villa_id}/calendar`,j,{headers:{Authorization:`Bearer ${o.token||""}`,"Content-Type":"application/json"}});return Vs(Wv).parse(N.data)},onSuccess:()=>{c(j=>({...j,loading:!1}))},onError:j=>{c(N=>{var R,M;return{...N,loading:!1,error:((M=(R=j==null?void 0:j.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to update calendar."}})}});function b(j,N){c(R=>({...R,[j]:N,error:null}))}function S(j){r||c(N=>{if(N.photos.length>=20)return N;const R={villa_photo_id:`local_${Math.random().toString(36).substr(2,10)}`,photo_url:j,ordering:N.photos.length+1,is_main:N.photos.length===0};return{...N,photos:[...N.photos,R],main_photo_url:N.main_photo_url||(N.photos.length===0?j:N.main_photo_url),error:null}})}function T(j){r||c(N=>{var z;let R=N.photos.slice();return R.splice(j,1),!R.some(re=>re.is_main)&&R.length>0&&(R[0].is_main=!0),{...N,photos:R.map((re,K)=>({...re,ordering:K+1})),main_photo_url:((z=R.find(re=>re.is_main))==null?void 0:z.photo_url)??""}})}function P(j){r||c(N=>{var M;const R=N.photos.map((z,re)=>({...z,is_main:re===j}));return{...N,photos:R,main_photo_url:(M=R[j])==null?void 0:M.photo_url}})}function A(j,N){r||c(R=>{let M=R.photos.slice();return j+N<0||j+N>=M.length?R:([M[j],M[j+N]]=[M[j+N],M[j]],M=M.map((z,re)=>({...z,ordering:re+1})),{...R,photos:M})})}function F(j){r||c(N=>{let R=new Set(N.amenity_ids);return R.has(j)?R.delete(j):R.add(j),{...N,amenity_ids:Array.from(R)}})}const U=[{rule_type:"no_smoking",allowed:!1,notes:""},{rule_type:"pets_allowed",allowed:!1,notes:""},{rule_type:"parties_allowed",allowed:!1,notes:""},{rule_type:"quiet_hours",allowed:!0,notes:""},{rule_type:"children_welcome",allowed:!0,notes:""}];w.useEffect(()=>{l.step_index===3&&l.rules.length===0&&!r&&c(j=>({...j,rules:U}))},[l.step_index,r]);function V(j,N,R){r||c(M=>{let z=M.rules.slice();return z[j]={...z[j],[N]:R},{...M,rules:z}})}function Q(){r||c(j=>({...j,rules:[...j.rules,{rule_type:`custom_${j.rules.length}`,allowed:!0,notes:""}]}))}function E(j){r||c(N=>{let R=N.rules.slice();return R.splice(j,1),{...N,rules:R}})}w.useEffect(()=>{if(l.step_index===5&&!r&&l.calendar_data.length===0){const j=[],N=new Date;for(let R=0;R<60;R++){const z=new Date(N.getTime()+R*864e5).toISOString().slice(0,10);j.push({date:z,is_available:!0,reason:null})}c(R=>({...R,calendar_data:j}))}},[l.step_index,r,l.calendar_data.length]);function L(j){c(N=>{let R=N.calendar_data.slice();return R[j]={...R[j],is_available:!R[j].is_available,reason:R[j].is_available?"Host blocked":null},{...N,calendar_data:R}})}function C(){if(c(j=>({...j,loading:!0,error:null})),r)x.mutate({}),m.mutate(l.calendar_data);else{for(let j=0;j<=5;j++)if(!v(j,l)){c(N=>({...N,loading:!1,error:"Some steps are incomplete or have invalid data."}));return}p.mutate({owner_user_id:a,title:l.title,description_short:l.description_short,description_long:l.description_long,address_street:l.address_street,address_city:l.address_city,address_area:l.address_area,address_postal_code:l.address_postal_code,address_country:l.address_country,latitude:l.latitude,longitude:l.longitude,main_photo_url:l.main_photo_url,cancellation_policy:l.cancellation_policy,min_nights:l.min_nights,max_nights:l.max_nights,bedrooms:l.bedrooms,beds:l.beds,bathrooms:l.bathrooms,max_guests:l.max_guests,price_per_night:l.price_per_night,cleaning_fee:l.cleaning_fee,service_fee:l.service_fee,taxes:l.taxes,is_active:l.is_active,is_beachfront:l.is_beachfront,is_pet_friendly:l.is_pet_friendly,is_instant_book:l.is_instant_book,house_rules:l.house_rules,photos:l.photos,amenity_ids:l.amenity_ids,rules:l.rules,calendar_data:l.calendar_data})}}return w.useEffect(()=>{(!o.is_authenticated||!o.is_host)&&t("/guest/login")},[o.is_authenticated,o.is_host,t]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-700",children:M6.map((j,N)=>i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"rounded-full border-2 w-8 h-8 flex items-center justify-center mr-2 "+(N===l.step_index?"border-blue-600 text-blue-700 bg-blue-100":N<l.step_index?"border-green-500 text-green-600 bg-green-100":"border-gray-200 text-gray-400 bg-gray-100"),"aria-label":`Step ${N+1}: ${j}`,children:N+1}),i.jsx("span",{className:(N===l.step_index?"text-blue-700":"text-gray-500")+" whitespace-nowrap",children:j})]}),N<wc-1&&i.jsx("div",{className:"h-1 bg-gray-200 my-1 mx-4 rounded-full"})]},j))})}),l.error&&i.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700 font-semibold border border-red-300",children:l.error}),(l.loading||f)&&i.jsx("div",{className:"absolute left-0 top-0 w-full h-full bg-white/60 z-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full border-4 border-blue-300 border-t-blue-600 w-12 h-12"})}),i.jsxs("div",{className:"mt-2 mb-8",children:[l.step_index===0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Property Info"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_title",children:"Title*"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_title",value:l.title,maxLength:255,onChange:j=>b("title",j.target.value),placeholder:"e.g. Beachfront Oasis"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_desc_short",children:"Short Description*"}),i.jsx("textarea",{className:"input input-bordered w-full mt-1",id:"wizard_desc_short",value:l.description_short,maxLength:500,onChange:j=>b("description_short",j.target.value),placeholder:"A quick teaser about your villa."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_desc_long",children:"Detailed Description*"}),i.jsx("textarea",{className:"input input-bordered w-full mt-1",id:"wizard_desc_long",value:l.description_long,maxLength:4096,onChange:j=>b("description_long",j.target.value),rows:5,placeholder:"Describe your villa in detail..."})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_street",children:"Street"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_street",value:l.address_street,maxLength:255,onChange:j=>b("address_street",j.target.value),placeholder:"123 Beach Ave"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_city",children:"City*"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_city",value:l.address_city,maxLength:255,onChange:j=>b("address_city",j.target.value),placeholder:"Miami"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_area",children:"Area/Neighborhood"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_area",value:l.address_area,maxLength:255,onChange:j=>b("address_area",j.target.value),placeholder:"South Beach"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_postal",children:"Postal"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_postal",value:l.address_postal_code,maxLength:16,onChange:j=>b("address_postal_code",j.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_country",children:"Country*"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_country",value:l.address_country,maxLength:64,onChange:j=>b("address_country",j.target.value),placeholder:"USA"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_lat",children:"Latitude"}),i.jsx("input",{className:"input input-bordered w-full mt-1",type:"number",id:"wizard_lat",value:l.latitude,onChange:j=>b("latitude",Number(j.target.value)),step:1e-6,placeholder:"25.790654"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_lng",children:"Longitude"}),i.jsx("input",{className:"input input-bordered w-full mt-1",type:"number",id:"wizard_lng",value:l.longitude,onChange:j=>b("longitude",Number(j.target.value)),step:1e-6,placeholder:"-80.1300455"})]})]})]})]}),l.step_index===1&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Photos"}),i.jsxs("div",{className:"mb-3",children:[i.jsx("span",{className:"font-semibold",children:"Add photo URLs (min 5, max 20)"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-2",children:[i.jsx("input",{type:"url",className:"input input-bordered grow",placeholder:"Paste an image URL here","aria-label":"Photo URL input",disabled:r,onKeyDown:j=>{j.key==="Enter"&&j.currentTarget.value.trim()&&!r&&(S(j.currentTarget.value.trim()),j.currentTarget.value="")}}),i.jsx("button",{className:"btn btn-secondary",disabled:r,"aria-disabled":r,onClick:()=>{r||S(I6())},children:"Add Random Image"})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"flex flex-wrap gap-4",children:l.photos.map((j,N)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:j.photo_url,alt:"Villa",className:`w-40 h-28 object-cover rounded border-2 ${j.is_main?"border-blue-500":"border-gray-300"}`}),i.jsx("button",{className:"absolute top-1 right-1 text-xs bg-white px-2 py-1 rounded shadow hover:bg-red-500 hover:text-white","aria-label":`Remove photo ${N+1}`,onClick:()=>T(N),disabled:r,"aria-disabled":r,children:"×"}),i.jsx("button",{className:`absolute bottom-1 left-1 text-xs px-2 py-1 rounded-md ${j.is_main?"bg-blue-600 text-white":"bg-gray-200"} `,"aria-label":"Set as main photo",disabled:r,"aria-disabled":r,onClick:()=>P(N),children:"Main"}),i.jsxs("div",{className:"absolute bottom-1 right-1 flex gap-1",children:[i.jsx("button",{onClick:()=>A(N,-1),disabled:N===0||r,"aria-disabled":N===0||r,className:"bg-white rounded px-2 py-1 text-xs shadow disabled:opacity-40",children:"↑"}),i.jsx("button",{onClick:()=>A(N,1),disabled:N===l.photos.length-1||r,"aria-disabled":N===l.photos.length-1||r,className:"bg-white rounded px-2 py-1 text-xs shadow disabled:opacity-40",children:"↓"})]})]},j.villa_photo_id))}),l.photos.length<5&&i.jsx("div",{className:"mt-2 text-sm text-red-600",children:"Add at least 5 photos (URLs)"})]}),r&&i.jsxs("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:[i.jsx("b",{children:"Note:"})," You may only change the photo order/main photo on new listings. Photo management for existing villas is not supported in this MVP."]})]}),l.step_index===2&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Amenities"}),d&&i.jsx("div",{className:"text-red-700 mb-2",children:String(d)}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.amenities_options.map(j=>{const N=`amenity_id_checkbox_${j.amenity_id}`;return i.jsxs("label",{htmlFor:N,className:"inline-flex items-center border rounded px-3 py-2 cursor-pointer "+(l.amenity_ids.includes(j.amenity_id)?"bg-blue-100 border-blue-400":"border-gray-300")+(r?" opacity-50 pointer-events-none":""),children:[i.jsx("input",{type:"checkbox",id:N,className:"mr-2",checked:l.amenity_ids.includes(j.amenity_id),onChange:()=>F(j.amenity_id),disabled:r,"aria-disabled":r,"aria-label":j.label}),j.icon_url&&i.jsx("img",{src:j.icon_url,alt:"",className:"w-5 h-5 mr-1"}),j.label]},j.amenity_id)})}),r&&i.jsxs("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:[i.jsx("b",{children:"Note:"})," You may only set amenities on new listings. Updating amenities is not supported for existing villas in this MVP."]})]}),l.step_index===3&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"House Rules & Cancellation"}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"cancellation_policy",children:"Cancellation Policy*"}),i.jsxs("select",{className:"input input-bordered w-full mt-1",id:"cancellation_policy",value:l.cancellation_policy,onChange:j=>b("cancellation_policy",j.target.value),disabled:r,"aria-disabled":r,children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"flexible",children:"Flexible"}),i.jsx("option",{value:"moderate",children:"Moderate"}),i.jsx("option",{value:"strict",children:"Strict"})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:"font-semibold",children:"Rules checklist"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.rules.map((j,N)=>{const R=`rule_allowed_${j.rule_type}_${N}`,M=`rule_note_${j.rule_type}_${N}`;return i.jsxs("div",{className:"flex items-center justify-between border rounded px-2 py-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"capitalize font-medium",children:j.rule_type.replace(/_/g," ")}),i.jsx("input",{type:"checkbox",id:R,className:"ml-2",checked:!!j.allowed,onChange:()=>V(N,"allowed",!j.allowed),disabled:r,"aria-disabled":r})]}),i.jsx("input",{type:"text",className:"input input-bordered ml-3",id:M,value:j.notes||"",placeholder:"Notes",onChange:z=>V(N,"notes",z.target.value),style:{width:"150px"},disabled:r,"aria-disabled":r}),i.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>E(N),"aria-label":"Remove rule",type:"button",disabled:r,"aria-disabled":r,children:"×"})]},j.rule_type+N)})}),i.jsx("button",{className:"btn btn-secondary mt-2",onClick:Q,type:"button",disabled:r,"aria-disabled":r,children:"Add Custom Rule"})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("label",{className:"font-semibold",htmlFor:"additional_house_rules",children:"Additional House Rules"}),i.jsx("textarea",{className:"input input-bordered w-full",id:"additional_house_rules",value:l.house_rules,maxLength:2048,onChange:j=>b("house_rules",j.target.value),rows:2,disabled:r,"aria-disabled":r,placeholder:"Summarize any other special rules (e.g. late check-in policy)."})]}),r&&i.jsxs("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:[i.jsx("b",{children:"Note:"})," You may only set rules on new listings. Updating rules is not supported for existing villas in this MVP."]})]}),l.step_index===4&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Pricing & Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_nightly_rate",children:"Nightly Rate*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_nightly_rate",value:l.price_per_night,onChange:j=>b("price_per_night",Number(j.target.value)),placeholder:"e.g. 320"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_cleaning_fee",children:"Cleaning Fee*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_cleaning_fee",value:l.cleaning_fee,onChange:j=>b("cleaning_fee",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_service_fee",children:"Service Fee*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_service_fee",value:l.service_fee,onChange:j=>b("service_fee",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_taxes",children:"Taxes*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_taxes",value:l.taxes,onChange:j=>b("taxes",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_min_nights",children:"Min Nights*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:30,id:"field_min_nights",value:l.min_nights,onChange:j=>b("min_nights",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_max_nights",children:"Max Nights*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:l.min_nights,max:60,id:"field_max_nights",value:l.max_nights,onChange:j=>b("max_nights",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_bedrooms",children:"Bedrooms*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:100,id:"field_bedrooms",value:l.bedrooms,onChange:j=>b("bedrooms",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_beds",children:"Beds*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:200,id:"field_beds",value:l.beds,onChange:j=>b("beds",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_bathrooms",children:"Bathrooms*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:100,id:"field_bathrooms",value:l.bathrooms,onChange:j=>b("bathrooms",Number(j.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_max_guests",children:"Max Guests*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:50,id:"field_max_guests",value:l.max_guests,onChange:j=>b("max_guests",Number(j.target.value))})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_active",children:"Listing Active?"}),i.jsx("input",{type:"checkbox",id:"field_active",className:"mr-2",checked:l.is_active,onChange:()=>b("is_active",!l.is_active)})," ",i.jsx("span",{className:"ml-1",children:"Is Active"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_beachfront",children:"Beachfront?"}),i.jsx("input",{type:"checkbox",id:"field_beachfront",className:"mr-2",checked:l.is_beachfront,onChange:()=>b("is_beachfront",!l.is_beachfront)})," ",i.jsx("span",{className:"ml-1",children:"Beachfront"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_pet",children:"Pet Friendly?"}),i.jsx("input",{type:"checkbox",id:"field_pet",className:"mr-2",checked:l.is_pet_friendly,onChange:()=>b("is_pet_friendly",!l.is_pet_friendly)})," ",i.jsx("span",{className:"ml-1",children:"Pet Friendly"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_instant",children:"Instant Book?"}),i.jsx("input",{type:"checkbox",id:"field_instant",className:"mr-2",checked:l.is_instant_book,onChange:()=>b("is_instant_book",!l.is_instant_book)})," ",i.jsx("span",{className:"ml-1",children:"Instant Book"})]})]})]}),l.step_index===5&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Availability Calendar"}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("span",{children:"Toggle days to block (unavailable for guests). Add notes for special restrictions."}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-2 bg-gray-50 p-3 max-h-[320px] overflow-auto rounded",children:l.calendar_data.map((j,N)=>{const R=`calendar_available_${j.date}`,M=`calendar_note_${j.date}`;return i.jsxs("div",{className:`rounded border p-2 flex flex-col bg-white ${j.is_available?"border-green-600":"border-red-400 opacity-70"}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-xs",htmlFor:R,children:j.date}),i.jsx("input",{type:"checkbox",id:R,checked:j.is_available,onChange:()=>L(N),className:"ml-2","aria-label":j.is_available?"Available":"Blocked"}),i.jsx("span",{className:"text-xs ml-1",children:j.is_available?"Open":"Blocked"})]}),!j.is_available&&i.jsx("input",{type:"text",id:M,className:"input input-bordered w-full mt-1",value:j.reason||"",placeholder:"Block reason",onChange:z=>{let re=l.calendar_data.slice();re[N].reason=z.target.value,c(K=>({...K,calendar_data:re}))}})]},j.date)})})]})]}),l.step_index===6&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Preview & Publish"}),i.jsxs("div",{className:"rounded shadow border bg-gray-50 p-4",children:[i.jsx("h3",{className:"font-semibold text-lg mb-2",children:l.title}),i.jsxs("div",{className:"flex gap-4 items-start",children:[i.jsx("div",{children:l.main_photo_url?i.jsx("img",{src:l.main_photo_url,className:"rounded-md w-60 h-40 object-cover shadow",alt:"Main photo"}):i.jsx("div",{className:"w-60 h-40 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:"No main photo"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"mb-1",children:i.jsxs("b",{children:[l.address_street&&i.jsxs(i.Fragment,{children:[l.address_street,", "]}),l.address_city,", ",l.address_country]})}),i.jsxs("div",{className:"mb-1 text-sm",children:["Price/Night: ",i.jsxs("b",{children:["$",l.price_per_night]})]}),i.jsxs("div",{className:"mb-1 text-sm",children:["Beds: ",l.beds," · Baths: ",l.bathrooms," · Max guests: ",l.max_guests]}),i.jsxs("div",{className:"mb-1 text-sm",children:["Cancellation: ",i.jsx("span",{className:"capitalize",children:l.cancellation_policy})]}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:l.amenities_options.filter(j=>l.amenity_ids.includes(j.amenity_id)).map(j=>i.jsx("span",{className:"text-xs bg-blue-100 px-2 py-1 rounded",children:j.label},j.amenity_id))})]})]}),i.jsx("div",{className:"mt-3 text-base",children:l.description_short}),i.jsx("div",{className:"mt-1 text-sm text-gray-600",children:l.description_long}),i.jsxs("div",{className:"mt-3 text-xs text-gray-700",children:["Rules: ",l.rules.map(j=>i.jsxs("span",{className:"mr-1",children:[j.rule_type.replace(/_/g," "),": ",j.allowed?"Allowed":"Not allowed"]},j.rule_type))]}),i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("b",{children:"Availability (next 2 weeks): "}),l.calendar_data.slice(0,14).map(j=>i.jsxs("span",{className:`inline-block rounded px-1 ${j.is_available?"bg-green-200":"bg-red-200"}`,children:[j.date.slice(5)," ",j.is_available?"✓":"×"]},j.date))]})]}),r&&i.jsx("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:i.jsxs("div",{children:[i.jsx("b",{children:"LIMITATION (MVP):"})," You can only edit general info, NOT photos, amenities, or rules for an existing villa. To update those, please contact support."]})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("button",{className:`btn btn-primary px-6 text-lg ${l.loading?"opacity-60 pointer-events-none":""}`,onClick:C,disabled:l.loading,"aria-disabled":l.loading,children:r?"Save changes":"Publish villa"}),i.jsx("span",{className:"ml-3",children:i.jsx(q,{to:"/host/dashboard",className:"underline text-gray-500 hover:text-blue-700",children:"Cancel, return to dashboard"})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[i.jsx("button",{className:`btn px-4 ${l.step_index===0?"btn-disabled opacity-50":"btn-secondary"}`,onClick:y,disabled:l.step_index===0,children:"Back"}),i.jsxs("span",{children:["Step ",l.step_index+1," of ",wc]}),l.step_index<wc-1&&i.jsx("button",{className:`btn px-4 ${v(l.step_index,l)?"btn-primary":"btn-disabled opacity-50"}`,onClick:g,disabled:!v(l.step_index,l),"aria-disabled":!v(l.step_index,l),children:"Next"})]}),i.jsxs("div",{className:"mt-7 text-xs text-gray-500 border-t pt-4",children:["Fields marked * are required.",i.jsx("br",{}),r?i.jsxs(i.Fragment,{children:["Listing edit is limited (MVP): ",i.jsx("b",{children:"photos, amenities and rules"})," cannot be updated here. Contact support for advanced editing."]}):i.jsxs(i.Fragment,{children:["Your listing will be published and appear to guests after completing all steps and publishing.",i.jsx("br",{}),i.jsx("span",{className:"text-blue-600 underline",children:i.jsx(q,{to:"/host/dashboard",children:"Back to Host Dashboard"})})]})]})]})})},Fn="https://123testing-project-yes-api.launchpulse.ai/api";function Co(t){return t?(typeof t=="string"?new Date(t):t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}const B6={confirmed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",requested:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700",rejected:"bg-red-100 text-red-700",completed:"bg-gray-100 text-gray-700",modified:"bg-blue-100 text-blue-700"},U6=()=>{var $s,Li,Fi;const t=an(),e=t.villaId?parseInt(t.villaId,10):void 0,r=et(),n=Ot(),s=ie(ne=>ne.user_session.user_id);ie(ne=>ne.user_session.is_host);const a=ie(ne=>ne.user_session.token),{data:o,isLoading:l,error:c}=ve({queryKey:["villaDetail",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:ne}=await W.get(`${Fn}/villa/${e}`,{headers:{Authorization:`Bearer ${a}`}});return ne}});ge.useEffect(()=>{!l&&o&&typeof s=="number"&&o.owner_user_id!==s&&r("/error",{state:{message:"Not authorized to view this villa."},replace:!0})},[l,o,s,r]);const{data:u=[],isLoading:f,error:d}=ve({queryKey:["villaPhotos",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:ne}=await W.get(`${Fn}/villa/${e}/photos`,{headers:{Authorization:`Bearer ${a}`}});return ne}}),{data:h=[],isLoading:v,error:g,refetch:y}=ve({queryKey:["villaCalendar",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:ne}=await W.get(`${Fn}/villa/${e}/calendar`,{headers:{Authorization:`Bearer ${a}`}});return ne}}),{data:_=[],isLoading:p,error:x,refetch:m}=ve({queryKey:["villaPricingOverrides",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:ne}=await W.get(`${Fn}/villa/${e}/pricing-overrides`,{headers:{Authorization:`Bearer ${a}`}});return ne}}),{data:b=[],isLoading:S,error:T,refetch:P}=ve({queryKey:["hostReservations",e],enabled:!!a,queryFn:async()=>{const{data:ne}=await W.get(`${Fn}/host/reservations`,{headers:{Authorization:`Bearer ${a}`}});return ne}}),A=(b==null?void 0:b.filter(ne=>ne.villa_id===e))||[],{data:F,isLoading:U,error:V,refetch:Q}=ve({queryKey:["villaReviews",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:ne}=await W.get(`${Fn}/villas/${e}/reviews`,{headers:{Authorization:`Bearer ${a}`}});return ne}}),E=(F==null?void 0:F.reviews)||[],L=(F==null?void 0:F.avg_rating)??0,C=(F==null?void 0:F.total_reviews)??0,[j,N]=ge.useState([]),[R,M]=ge.useState(null),[z,re]=ge.useState(!1),K=Ze({mutationFn:async ne=>{re(!0),M(null);const{data:ht}=await W.patch(`${Fn}/villa/${e}/calendar`,ne,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return ht},onSuccess:ne=>{n.setQueryData(["villaCalendar",e],ne),N([]),y(),re(!1)},onError:ne=>{M(ne.message||"Calendar update failed."),re(!1)}}),[$,Z]=ge.useState([]),[X,I]=ge.useState(null),[se,Ce]=ge.useState(!1),xe=Ze({mutationFn:async ne=>{Ce(!0),I(null);const{data:ht}=await W.patch(`${Fn}/villa/${e}/pricing-overrides`,ne,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return ht},onSuccess:ne=>{n.setQueryData(["villaPricingOverrides",e],ne),Z([]),m(),Ce(!1)},onError:ne=>{I(ne.message||"Pricing update failed."),Ce(!1)}});ge.useEffect(()=>{h.length>0&&N(h.map(ne=>({...ne})))},[h]),ge.useEffect(()=>{_.length>0&&Z(_.map(ne=>({...ne})))},[_]);const ze=l||f||v||p||S||U,ct=c||d||g||x||T||V,[ft,Ts]=ge.useState(0),As=u.findIndex(ne=>ne.is_main);ge.useEffect(()=>{As!==-1&&Ts(As)},[As]);function ae(ne,ht,tt){N(Mi=>Mi.map((On,Ii)=>Ii===ne?{...On,[ht]:tt}:On))}function Ae(ne){ne.preventDefault(),K.mutate(j)}function kt(ne,ht,tt){Z(Mi=>Mi.map((On,Ii)=>Ii===ne?{...On,[ht]:tt}:On))}function on(ne){ne.preventDefault(),xe.mutate($)}const $i=new Date;return A.filter(ne=>new Date(ne.checkin_date)>=$i&&["confirmed","pending","requested"].includes(ne.status)),i.jsxs(i.Fragment,{children:[ze&&i.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-30 bg-white/80 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-400 border-solid"})}),ct&&i.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-850 p-4 rounded mt-6 max-w-2xl mx-auto",children:[i.jsx("div",{className:"text-lg font-semibold mb-1",children:"Error loading villa detail"}),i.jsx("div",{className:"break-all",children:String(ct.message)})]}),!ze&&!ct&&o&&i.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-10",children:[i.jsx("div",{className:"w-full md:w-2/5",children:u.length>0?i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"rounded-xl w-full h-72 object-cover",src:($s=u[ft])==null?void 0:$s.photo_url,alt:`Villa photo #${ft+1}`}),i.jsx("button",{className:"absolute left-1 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full px-2 py-1 shadow-lg hover:bg-white",onClick:()=>Ts(ft===0?u.length-1:ft-1),"aria-label":"Previous Photo",children:"◀"}),i.jsx("button",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full px-2 py-1 shadow-lg hover:bg-white",onClick:()=>Ts(ft===u.length-1?0:ft+1),"aria-label":"Next Photo",children:"▶"}),i.jsx("div",{className:"flex justify-center mt-2 gap-2",children:u.map((ne,ht)=>i.jsx("img",{className:`w-10 h-10 object-cover rounded cursor-pointer border ${ht===ft?"border-blue-400":"border-transparent"}`,src:ne.photo_url,alt:`thumb-${ht+1}`,onClick:()=>Ts(ht)},ne.villa_photo_id))})]}):i.jsx("div",{className:"w-full h-72 rounded-xl bg-gray-100 flex items-center justify-center text-gray-400",children:"No photos uploaded"})}),i.jsxs("div",{className:"w-full md:w-3/5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-row justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:o.title}),i.jsxs("div",{className:"text-gray-600",children:[o.address_city,", ",o.address_country]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",o.villa_id]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-yellow-500 text-xl",children:"★"}),i.jsx("span",{className:"text-lg font-semibold",children:(L||0).toFixed(2)}),i.jsxs("span",{className:"text-gray-500 text-sm",children:["/ 5 · ",C," review",C===1?"":"s"]})]}),o.is_active?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-100 text-green-700 text-xs font-medium mt-1",children:"Active Listing"}):i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-200 text-gray-600 text-xs font-medium mt-1",children:"Inactive"}),o.is_instant_book&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded bg-blue-100 text-blue-800 text-xs font-medium",children:"Instant Book"})]}),i.jsx("div",{children:i.jsx(q,{to:`/host/villa/${o.villa_id}/edit`,className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg shadow font-semibold hover:bg-blue-700 transition",children:"Edit Listing"})})]}),o.description_short&&i.jsx("div",{className:"text-md mt-1 text-gray-700",children:o.description_short}),o.house_rules&&i.jsxs("div",{className:"text-sm mt-1 text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:"House Rules:"})," ",o.house_rules]}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Bedrooms:"})," ",o.bedrooms]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Beds:"})," ",o.beds]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Bathrooms:"})," ",o.bathrooms]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Max Guests:"})," ",o.max_guests]})]}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Nightly base price:"}),i.jsxs("span",{className:"ml-1",children:["$",((Li=o==null?void 0:o.price_per_night)==null?void 0:Li.toFixed(2))||"0.00"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Cleaning fee:"}),i.jsxs("span",{className:"ml-1",children:["$",((Fi=o==null?void 0:o.cleaning_fee)==null?void 0:Fi.toFixed(2))||"0.00"]})]})]}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsx(q,{to:`/messaging?villa=${o.villa_id}`,className:"inline-flex items-center px-3 py-1.5 bg-gray-200 text-blue-800 rounded hover:bg-blue-50",children:"Messages"}),i.jsx("a",{href:"#upcoming-reservations",className:"inline-flex items-center px-3 py-1.5 bg-gray-200 text-blue-800 rounded hover:bg-blue-50",children:"Upcoming Bookings"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-10 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Availability Calendar Management"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Mark days as available/unavailable and adjust per-date prices."}),R&&i.jsx("div",{className:"mb-3 bg-red-100 text-red-700 border px-3 py-2 rounded text-sm",children:R}),i.jsxs("form",{onSubmit:Ae,children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1",children:"Date"}),i.jsx("th",{className:"px-2 py-1",children:"Available?"}),i.jsx("th",{className:"px-2 py-1",children:"Reason (if blocked)"})]})}),i.jsx("tbody",{children:j.map((ne,ht)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 py-1",children:Co(ne.date)}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{type:"checkbox",checked:ne.is_available,onChange:tt=>ae(ht,"is_available",tt.target.checked),disabled:z,className:"scale-125"})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{type:"text",value:ne.reason||"",onChange:tt=>ae(ht,"reason",tt.target.value),disabled:z||ne.is_available,className:`border px-1 rounded w-full ${ne.is_available?"bg-gray-100":""}`,placeholder:"Reason for blocking date"})})]},ne.date))})]})}),i.jsx("button",{type:"submit",className:`mt-3 px-4 py-2 rounded bg-blue-700 text-white font-semibold shadow hover:bg-blue-800 transition ${z?"opacity-70 pointer-events-none":""}`,disabled:z,children:z?"Saving Calendar...":"Save Calendar Changes"})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-10 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Per-Date Price Overrides"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Adjust nightly prices, min/max stay per date (leave blank for default)."}),X&&i.jsx("div",{className:"mb-3 bg-red-100 text-red-700 border px-3 py-2 rounded text-sm",children:X}),i.jsxs("form",{onSubmit:on,children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1",children:"Date"}),i.jsx("th",{className:"px-2 py-1",children:"Nightly Price ($)"}),i.jsx("th",{className:"px-2 py-1",children:"Min Nights"}),i.jsx("th",{className:"px-2 py-1",children:"Max Nights"})]})}),i.jsx("tbody",{children:$.map((ne,ht)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 py-1",children:Co(ne.date)}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{className:"border px-1 rounded w-24",type:"number",min:1,value:ne.nightly_price,onChange:tt=>kt(ht,"nightly_price",Number(tt.target.value)),disabled:se})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{className:"border px-1 rounded w-12",type:"number",min:1,value:ne.min_nights??"",onChange:tt=>kt(ht,"min_nights",tt.target.value===""?null:Number(tt.target.value)),disabled:se})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{className:"border px-1 rounded w-12",type:"number",min:1,value:ne.max_nights??"",onChange:tt=>kt(ht,"max_nights",tt.target.value===""?null:Number(tt.target.value)),disabled:se})})]},ne.date))})]})}),i.jsx("button",{type:"submit",className:`mt-3 px-4 py-2 rounded bg-blue-700 text-white font-semibold shadow hover:bg-blue-800 transition ${se?"opacity-70 pointer-events-none":""}`,disabled:se,children:se?"Saving Prices...":"Save Pricing Changes"})]})]}),i.jsxs("div",{id:"upcoming-reservations",className:"mb-10",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Reservations & Booking History"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto text-sm border mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1",children:"Guest UID"}),i.jsx("th",{className:"px-2 py-1",children:"Check-in"}),i.jsx("th",{className:"px-2 py-1",children:"Check-out"}),i.jsx("th",{className:"px-2 py-1",children:"Status"}),i.jsx("th",{className:"px-2 py-1",children:"Price Paid"}),i.jsx("th",{className:"px-2 py-1",children:"Booking"}),i.jsx("th",{className:"px-2 py-1",children:"Message"})]})}),i.jsx("tbody",{children:A.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:"No reservations to display yet."})}):A.map(ne=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 py-1 font-mono",children:ne.guest_user_id}),i.jsx("td",{className:"px-2 py-1",children:Co(ne.checkin_date)}),i.jsx("td",{className:"px-2 py-1",children:Co(ne.checkout_date)}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("span",{className:`inline-block rounded px-2 py-0.5 text-xs font-bold ${B6[ne.status]||"bg-gray-200 text-gray-900"}`,children:ne.status})}),i.jsxs("td",{className:"px-2 py-1",children:["$",ne.total_price.toFixed(2)]}),i.jsx("td",{className:"px-2 py-1",children:i.jsx(q,{to:`/reservation/${ne.booking_id}`,className:"text-blue-600 underline hover:text-blue-900",children:"Details"})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx(q,{to:`/messaging?booking=${ne.booking_id}`,className:"text-blue-800 hover:underline",children:"Message"})})]},ne.booking_id))})]})}),i.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Tip: You can message guests directly from this table."})]}),i.jsxs("div",{className:"mb-10",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Guest Reviews"}),E.length===0?i.jsx("div",{className:"text-gray-500 mb-2",children:"No reviews yet for this villa."}):i.jsx("div",{className:"flex flex-col gap-4",children:E.map(ne=>i.jsxs("div",{className:"bg-white rounded-md border p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("span",{className:"text-yellow-500",children:"★"}),i.jsx("span",{className:"text-lg font-semibold",children:ne.rating}),i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:Co(ne.created_at)}),ne.is_edited&&i.jsx("span",{className:"ml-1 text-xs italic text-gray-400",children:"(edited)"})]}),i.jsx("div",{className:"ml-1 text-gray-700 text-sm mt-1",children:ne.text})]},ne.review_id))})]})]})]})},z6=["inbox_threads"],q6=async t=>{const{data:e}=await W.get("https://123testing-project-yes-api.launchpulse.ai/api/inbox",{headers:{Authorization:`Bearer ${t}`}});return Array.isArray(e)?e.map(r=>({...r,thread_id:String(r.thread_id),participant_user_id:String(r.participant_user_id),villa_id:r.villa_id!==null&&r.villa_id!==void 0?String(r.villa_id):null,booking_id:r.booking_id!==null&&r.booking_id!==void 0?String(r.booking_id):null,last_message_preview:r.last_message_preview??null})):[]};class V6 extends ge.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){}render(){return this.state.hasError?this.props.fallback:this.props.children}}const W6=()=>{const t=ie(g=>g.user_session.token);ie(g=>g.user_session.user_id);const e=ie(g=>g.messaging_threads.threads),r=ie(g=>g.set_messaging_threads),[n,s]=w.useState(""),{isLoading:a,isError:o,error:l,data:c,refetch:u}=ve({queryKey:z6,queryFn:()=>{if(!t)throw new Error("Not authenticated");return q6(t)},enabled:!!t,staleTime:30*1e3,refetchOnWindowFocus:!0,onSuccess:g=>{r({threads:g})}}),f=w.useMemo(()=>e&&Array.isArray(e)?e:[],[e]),d=w.useMemo(()=>{if(!n.trim())return f;const g=n.trim().toLowerCase();return f.filter(y=>{const _=`user ${y.participant_user_id}`.toLowerCase(),p=y.villa_id!==null?`villa ${y.villa_id}`.toLowerCase():"",x=y.booking_id!==null?`booking ${y.booking_id}`.toLowerCase():"";return _.includes(g)||String(y.participant_user_id).toLowerCase().includes(g)||p.includes(g)||String(y.villa_id||"").toLowerCase().includes(g)||x.includes(g)||String(y.booking_id||"").toLowerCase().includes(g)||y.last_message_preview&&y.last_message_preview.toLowerCase().includes(g)})},[n,f]);w.useEffect(()=>{t&&(!e||e.length===0)&&u()},[t]);const h=w.useCallback(g=>{s(g.target.value)},[]),v=g=>{const y=Date.now(),_=new Date(g).getTime(),p=Math.floor((y-_)/1e3);return p<60?"just now":p<3600?`${Math.floor(p/60)} min ago`:p<86400?`${Math.floor(p/3600)}h ago`:p<3*86400?`${Math.floor(p/86400)}d ago`:new Date(g).toLocaleDateString()};return i.jsx(V6,{fallback:i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-red-600",children:[i.jsxs("svg",{width:64,height:64,fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),i.jsx("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#ef4444",strokeWidth:"2"})]}),i.jsx("div",{className:"mt-2 font-semibold text-lg",children:"Sorry, something went wrong loading your inbox."}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600",onClick:()=>u(),children:"Retry"})]}),children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-8 pb-16",children:[i.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-1 text-gray-800",children:"Inbox"}),i.jsx("div",{className:"text-gray-500",children:"Your guest-host conversations"})]}),i.jsx("div",{children:i.jsxs(q,{to:"/search",className:"inline-flex items-center px-4 py-1.5 rounded bg-sky-100 text-sky-700 hover:bg-sky-200 hover:text-sky-900 font-medium transition text-sm",title:"Start a conversation",children:[i.jsx("span",{className:"mr-2",children:"Start New"}),i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 5v14m7-7H5",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]})})]}),i.jsx("div",{className:"mb-8",children:i.jsx("input",{type:"text",autoComplete:"off",className:"w-full rounded border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-sky-300 transition",placeholder:"Search by user, villa, or keywords...",value:n,onChange:h,"aria-label":"Search message threads"})}),a?i.jsxs("div",{className:"flex justify-center items-center py-24",children:[i.jsxs("svg",{className:"animate-spin h-9 w-9 text-sky-500",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.37 0 0 5.37 0 12h4z"})]}),i.jsx("span",{className:"ml-4 text-gray-500 text-lg",children:"Loading your messages..."})]}):o?i.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-rose-600",children:[i.jsxs("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),i.jsx("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#ef4444",strokeWidth:"2"})]}),i.jsx("div",{className:"mt-2",children:"Could not load messages."}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600",onClick:()=>u(),children:"Retry"})]}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[i.jsx("img",{src:"https://picsum.photos/seed/inboxempty/180/100",className:"mb-4 rounded",alt:"No messages",width:180,height:100,style:{objectFit:"cover"}}),i.jsx("div",{className:"font-semibold text-lg mb-2",children:"No conversations yet."}),i.jsxs("div",{className:"text-sm mb-4 text-center max-w-xs",children:["Your messages with hosts and guests will appear here.",i.jsx("br",{}),"Once you contact someone on a villa page or have a booking, you'll find your conversations here."]}),i.jsx(q,{to:"/search",className:"mt-1 px-4 py-2 rounded bg-sky-200 text-sky-800 hover:bg-sky-300 font-medium transition",children:i.jsx("span",{children:"Find a beach villa"})})]}):i.jsx("ul",{className:"divide-y divide-gray-200 rounded-xl border border-gray-200 shadow bg-white",children:d.map(g=>i.jsx("li",{className:"block hover:bg-sky-50 transition",children:i.jsxs(q,{to:`/messaging/thread/${encodeURIComponent(g.thread_id)}`,className:"flex items-center gap-3 px-3 py-4 focus:outline-none",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:`https://picsum.photos/seed/user${g.participant_user_id}/48`,className:"h-11 w-11 rounded-full object-cover bg-gray-200 border border-gray-300",alt:`User #${g.participant_user_id} avatar`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["User #",g.participant_user_id]}),g.villa_id?i.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-emerald-50 text-emerald-700 text-xs",children:["Villa #",g.villa_id]}):null,g.booking_id?i.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-sky-50 text-sky-700 text-xs",children:["Booking #",g.booking_id]}):null]}),i.jsx("div",{className:"text-gray-500 text-sm flex items-center truncate mt-0.5",children:g.last_message_preview?i.jsx("span",{className:"truncate",children:g.last_message_preview}):i.jsx("span",{className:"italic",children:"No messages yet"})})]}),i.jsxs("div",{className:"flex flex-col items-end pl-2",children:[i.jsx("span",{className:"text-xs text-gray-400 font-mono mt-1 mb-2",children:v(g.updated_at)}),g.unread_count>0&&i.jsx("span",{className:"inline-block rounded-full bg-rose-500 text-white px-2 text-xs font-semibold min-w-[1.2rem] text-center",children:g.unread_count})]})]})},g.thread_id))})]})})},mh=Fd({message_id:Ft(),thread_id:Ft(),sender_user_id:Ft(),recipient_user_id:Ft(),content:Ft(),is_read:hp(),sent_at:Qj([Ft(),_A()])}),Kv="https://123testing-project-yes-api.launchpulse.ai/api";function Yv(t){return(typeof t=="string"?new Date(t):t).toLocaleString(void 0,{year:"2-digit",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}const H6=()=>{const t=an(),e=et(),r=t.threadId||t.thread_id;let n=r&&typeof r=="string"?r:"",s=null;n&&!isNaN(Number(n))&&(s=Number(n));const a=n,o=ie(I=>I.user_session),l=ie(I=>I.messaging_threads),c=ie(I=>I.connect_socket);ie(I=>I.socket_connected);const u=ie(I=>I.last_event_received),f=ie(I=>I.set_thread_messages),[d,h]=w.useState(null);w.useEffect(()=>{const I=l.threads.find(se=>String(se.thread_id)===String(a))||null;h(I)},[a,l.threads]);const[v,g]=w.useState([]),[y,_]=w.useState(!0),[p,x]=w.useState(null),[m,b]=w.useState(""),[S,T]=w.useState(!1),[P,A]=w.useState(null),F=w.useRef(null);w.useEffect(()=>{F.current&&setTimeout(()=>{var I;return(I=F.current)==null?void 0:I.scrollIntoView({behavior:"smooth"})},40)},[v.length]);const U=async()=>{if(!o.token)throw new Error("Not authenticated");if(!s)throw new Error("Thread ID numeric required");const I=await W.get(`${Kv}/inbox/${s}`,{headers:{Authorization:`Bearer ${o.token}`}});if(!Array.isArray(I.data))throw new Error("Unexpected server response");const se=I.data.map(Ce=>{const xe=mh.safeParse(Ce);if(xe.success)return xe.data;throw new Error("Invalid message object from backend")});return se.length>0&&(d?d.updated_at!==se[se.length-1].sent_at&&h({...d,updated_at:se[se.length-1].sent_at}):h({thread_id:se[0].thread_id,villa_id:null,booking_id:null,participant_user_id:null,last_message_preview:se[se.length-1].content||"",unread_count:0,updated_at:se[se.length-1].sent_at})),typeof f=="function"&&f(a,se),se},{data:V,isLoading:Q,isError:E,error:L,refetch:C}=ve({queryKey:["threadMessages",a,o.token],queryFn:U,enabled:!!s&&!!o.is_authenticated,staleTime:1e4,refetchOnWindowFocus:!1});w.useEffect(()=>{V&&(g(V),x(null),_(!1)),E&&(g([]),x((L==null?void 0:L.message)||"Could not load messages."),_(!1)),Q&&_(!0)},[V,E,L,Q]),w.useEffect(()=>{o.token&&c(o.token)},[o.token]),w.useEffect(()=>{if(u&&u.type==="message_new"&&u.payload&&String(u.payload.thread_id)===String(a)){const I=u.payload,se=mh.safeParse(I);se.success&&g(Ce=>{if(Ce.some(ze=>ze.message_id===se.data.message_id))return Ce;const xe=[...Ce,se.data].sort((ze,ct)=>new Date(ze.sent_at).getTime()-new Date(ct.sent_at).getTime());return typeof f=="function"&&f(a,xe),xe})}},[u,a,f]),Ot();const j=Ze({mutationFn:async I=>{if(!o.token)throw new Error("Not authenticated; login to send messages.");if(!I.trim())throw new Error("Cannot send an empty message.");if(!s)throw new Error("Thread ID numeric required");const se=await W.post(`${Kv}/inbox/${s}`,{content:I},{headers:{Authorization:`Bearer ${o.token}`}}),Ce=mh.safeParse(se.data);if(!Ce.success)throw new Error("Invalid message data from server.");return Ce.data},onMutate:()=>{T(!0),A(null)},onSuccess:I=>{g(se=>{const Ce=[...se,I].sort((xe,ze)=>new Date(xe.sent_at).getTime()-new Date(ze.sent_at).getTime());return typeof f=="function"&&f(a,Ce),Ce}),b(""),T(!1),A(null)},onError:I=>{T(!1),A((I==null?void 0:I.message)||"Could not send message.")},onSettled:()=>{T(!1)}}),N=I=>{I.preventDefault(),!(S||!m.trim())&&j.mutate(m)},R=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),!S&&m.trim()&&j.mutate(m))},M=()=>{e("/guest/login")},z=()=>{const I=d;return I?i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-3 flex flex-wrap items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-blue-900",children:I.booking_id!==null&&I.booking_id!==void 0?i.jsx(i.Fragment,{children:i.jsxs("span",{children:["Booking conversation",i.jsx(q,{to:`/reservation/${I.booking_id}`,className:"text-blue-700 underline",children:"(view reservation)"})]})}):I.villa_id!==null&&I.villa_id!==void 0?i.jsx(i.Fragment,{children:i.jsxs("span",{children:["Inquiry for",i.jsxs(q,{to:`/villa/${I.villa_id}`,className:"text-blue-700 underline",children:["villa #",I.villa_id]})]})}):i.jsx("span",{children:"Direct message conversation"})}),i.jsxs("span",{className:"text-xs text-blue-600 mt-1",children:["Updated: ",Yv(I.updated_at||new Date)]})]}),I.booking_id===null&&I.villa_id!==null&&I.villa_id!==void 0?i.jsx(q,{to:`/villa/${I.villa_id}`,className:"ml-2 inline-block rounded bg-blue-600 px-5 py-2 text-sm font-semibold text-white hover:bg-blue-800 transition",children:"Book Now"}):null]}):i.jsx("div",{className:"bg-gray-100 rounded-lg p-4 mb-3 text-gray-700 text-center",children:i.jsx("span",{children:"Conversation: Unknown context"})})},re=!!o&&!!o.token&&!!o.is_authenticated,K=typeof o.user_id=="number"?String(o.user_id):o.user_id||"",[$,Z]=w.useState(null);let X=$;try{a||(X="Thread not specified")}catch(I){X=(I==null?void 0:I.message)||"Unknown error"}return i.jsx(i.Fragment,{children:X?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[i.jsx("div",{className:"text-red-600 text-2xl font-semibold mb-3",children:"Error"}),i.jsx("div",{className:"mb-6 text-gray-700",children:X}),i.jsx("button",{className:"bg-blue-600 text-white rounded px-4 py-2",onClick:()=>window.location.href="/inbox",children:"Back to Inbox"})]}):re?i.jsxs("div",{className:"max-w-2xl flex flex-col mx-auto h-[calc(100vh-7rem)] md:h-[calc(100vh-8rem)] p-2 relative",children:[z(),i.jsx("div",{className:"flex-1 overflow-y-auto w-full pb-3",style:{scrollbarWidth:"thin"},children:y?i.jsx("div",{className:"flex flex-col gap-2 p-3",children:[...Array(6)].map((I,se)=>i.jsx("div",{className:"animate-pulse bg-slate-100 rounded-lg h-8 w-3/4 mx-auto"},se))}):p?i.jsxs("div",{className:"text-red-500 p-4 text-center",children:[p,i.jsx("button",{className:"ml-3 text-blue-700 underline",onClick:()=>C(),children:"Retry"})]}):v.length===0?i.jsxs("div",{className:"p-8 text-gray-500 text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:"💬"}),"No messages yet in this conversation."]}):i.jsxs("div",{className:"flex flex-col gap-2",children:[v.sort((I,se)=>new Date(I.sent_at).getTime()-new Date(se.sent_at).getTime()).map((I,se)=>{const Ce=K&&String(I.sender_user_id)===String(K);return i.jsx("div",{className:`flex ${Ce?"justify-end items-end":"justify-start items-start"}`,children:i.jsxs("div",{className:`relative max-w-[80%] px-4 py-2 rounded-lg shadow ${Ce?"bg-blue-600 text-white ml-8":"bg-gray-100 text-gray-900 mr-8"}`,children:[i.jsx("div",{className:"whitespace-pre-line break-words",children:I.content}),i.jsx("div",{className:`absolute -bottom-5 right-2 text-xs text-gray-400 select-none ${Ce?"text-white/70":"text-gray-500"}`,children:Yv(I.sent_at)})]})},I.message_id)}),i.jsx("div",{ref:F})]})}),i.jsxs("div",{className:"sticky bottom-0 left-0 bg-white py-2 px-1 mt-1 border-t border-gray-200",children:[i.jsxs("form",{className:"flex gap-2 items-end",onSubmit:N,autoComplete:"off",children:[i.jsx("label",{htmlFor:"msgTextarea",className:"sr-only",children:"Type your message"}),i.jsx("textarea",{id:"msgTextarea",className:"flex-1 border rounded-md px-2 py-2 resize-none min-h-[38px] max-h-24 text-base bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 ring-blue-100",value:m,onChange:I=>b(I.target.value),onKeyDown:R,rows:1,placeholder:"Type your message…",disabled:S||!re,tabIndex:0,autoFocus:!0,"aria-label":"Type your message",spellCheck:!0}),i.jsxs("button",{type:"submit",className:"rounded inline-flex items-center px-5 py-2 font-semibold text-sm bg-blue-700 text-white disabled:bg-blue-300 transition",disabled:S||!re||!(m.trim().length>0),tabIndex:0,"aria-label":"Send message",children:[S?i.jsx("span",{className:"animate-spin mr-2 w-4 h-4 border-2 border-white border-b-transparent rounded-full"}):null,"Send"]})]}),P?i.jsx("div",{className:"text-red-600 text-sm mt-2",children:P}):null]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[i.jsx("div",{className:"text-blue-600 text-xl font-semibold mb-3",children:"Sign in to view or send messages."}),i.jsxs("div",{className:"mb-6 text-gray-700",children:["Please"," ",i.jsx("button",{className:"underline text-blue-700",type:"button",onClick:M,children:"login"})," ","to continue."]})]})})},Ds=25,Z6=()=>{const e=an().bookingId??"",r=e&&!Number.isNaN(Number(e))?Number(e):null,n=ie(m=>m.user_session),[s,a]=w.useState(0),[o,l]=w.useState(""),[c,u]=w.useState(!1),[f,d]=w.useState(null),[h,v]=w.useState(!1),g=(n==null?void 0:n.is_authenticated)&&!!n.token,y=g&&!!r&&s>=1&&s<=5&&o.trim().length>=Ds,_=Ze({mutationFn:async m=>(await W.post(`https://123testing-project-yes-api.launchpulse.ai/api/booking/${encodeURIComponent(m.booking_id)}/review`,{booking_id:m.booking_id,rating:m.rating,text:m.text.trim()},{headers:{Authorization:`Bearer ${n.token}`,"Content-Type":"application/json"}})).data,onMutate:()=>{v(!0)},onSuccess:()=>{u(!0),d(null)},onError:m=>{var S;let b="Something went wrong.";m&&m.response&&typeof((S=m.response.data)==null?void 0:S.error)=="string"&&(b=m.response.data.error),d(b)},onSettled:()=>{v(!1)}}),p=m=>{if(m.preventDefault(),d(null),!y){d(s?o.trim().length<Ds?`Comment must be at least ${Ds} characters.`:g?"Invalid form. Check fields.":"You must be logged in to leave a review.":"Please select a star rating (1–5).");return}if(!r){d("Invalid booking reference.");return}_.mutate({booking_id:r,rating:s,text:o.trim()})},x=()=>i.jsx("div",{className:"flex flex-row items-center gap-2 mt-1",children:[1,2,3,4,5].map(m=>i.jsx("button",{type:"button",className:`p-1 focus:outline-none ${s>=m?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,"aria-label":`Rate ${m} star${m!==1?"s":""}`,disabled:c||h,onClick:()=>a(m),children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:s>=m?"currentColor":"none",className:"h-8 w-8 transition-all",stroke:"currentColor",strokeWidth:s>=m?0:1.5,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.437 4.402a1 1 0 00.95.69h4.624c.969 0 1.371 1.24.588 1.81l-3.742 2.718a1 1 0 00-.364 1.118l1.437 4.402c.299.921-.755 1.688-1.539 1.118l-3.742-2.718a1 1 0 00-1.176 0l-3.742 2.718c-.783.57-1.838-.197-1.539-1.118l1.437-4.402a1 1 0 00-.364-1.118L2.44 9.829c-.783-.57-.38-1.81.588-1.81h4.624a1 1 0 00.95-.69l1.437-4.402z"})})},m))});return e?g?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-2xl mx-auto pt-10 pb-20 px-4",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-10",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Leave a Review"}),i.jsxs("p",{className:"mt-2 text-gray-600",children:["Thanks for staying!",i.jsx("br",{}),"Share your experience: leave a star rating (1–5) and at least"," ",Ds," characters of feedback. You may edit your review within 48 hours after submission."]})]}),f&&i.jsxs("div",{className:"mb-4 rounded bg-red-50 border border-red-200 px-4 py-2 text-red-700",children:[i.jsx("span",{className:"font-semibold",children:"Error:"})," ",f]}),c?i.jsx("div",{className:"w-full bg-green-50 border border-green-200 rounded-xl py-8 px-5 text-center shadow mt-8",children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[i.jsxs("svg",{className:"w-14 h-14 text-green-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:2,fill:"none"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12l2.5 2.5L16 9",stroke:"currentColor",strokeWidth:2.5,fill:"none"})]}),i.jsx("h2",{className:"font-bold text-green-700 text-2xl",children:"Thank you for your review!"}),i.jsxs("p",{className:"text-green-700 font-medium mb-3",children:["Your feedback helps future guests and hosts.",i.jsx("br",{}),"You can edit your review for up to 48 hours from now from your trips list."]}),i.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[i.jsx(q,{to:"/guest/my-trips",className:"inline-block rounded px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 font-semibold",children:"Back to My Trips"}),i.jsx(q,{to:"/",className:"inline-block rounded px-4 py-2 bg-gray-200 text-gray-800 hover:bg-gray-300 font-semibold",children:"Home"})]})]})}):i.jsxs("form",{className:"max-w-2xl mx-auto flex flex-col gap-5 bg-white shadow border border-gray-100 rounded-xl p-7",onSubmit:p,"aria-disabled":c,children:[i.jsxs("label",{className:"block mb-0.5 font-semibold text-gray-800 text-lg",children:["Star Rating ",i.jsx("span",{className:"text-red-500",children:"*"})]}),x(),i.jsx("span",{className:`text-sm mt-1 ${s>=1?"text-green-600 font-medium":"text-gray-400"}`,children:s>0?["1 (Very poor)","2 (Poor)","3 (Average)","4 (Very good)","5 (Excellent)"][s-1]:"Select a rating"}),i.jsxs("label",{htmlFor:"review_comment",className:"block mb-0.5 font-semibold text-gray-800 text-lg mt-5",children:["Your Review ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"review_comment",rows:6,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-lg focus:outline-none focus:ring focus:border-blue-300 resize-none disabled:opacity-60",maxLength:4096,minLength:Ds,placeholder:"Share your thoughts: what you loved, tips for future guests, or improvements...",value:o,disabled:c||h,onChange:m=>l(m.target.value),required:!0}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[i.jsx("span",{children:o.length<Ds?`At least ${Ds-o.length} more characters required`:"Minimum length reached"}),i.jsxs("span",{children:[o.length,"/4096"]})]}),i.jsxs("button",{type:"submit",className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-5 rounded-lg transition-colors duration-150 shadow disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:!y||c||h,children:[h&&i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Submit Review"]}),i.jsxs("div",{className:"text-xs text-gray-500 pt-2",children:["By submitting your feedback, you agree that your review may be visible to other users.",i.jsx("br",{}),i.jsx("span",{className:"block text-gray-400 mt-2",children:"You can edit or update your review for 48 hours after submission from your Trips page."})]})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto pt-16 pb-24 px-4",children:[i.jsx("div",{className:"rounded-md bg-yellow-50 border border-yellow-200 p-5 text-yellow-800 text-lg font-semibold shadow",children:"You must be logged in to leave a review."}),i.jsxs("div",{className:"mt-6",children:[i.jsx(q,{to:"/guest/login",className:"underline text-blue-700 hover:text-blue-500",children:"Log In"}),i.jsx("span",{children:" or "}),i.jsx(q,{to:"/guest/signup",className:"underline text-blue-700 hover:text-blue-500",children:"Sign Up"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto pt-16 pb-24 px-4",children:[i.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 p-5 text-red-700 text-lg font-semibold shadow",children:"Error: No booking selected for review."}),i.jsx("div",{className:"mt-6",children:i.jsx(q,{to:"/guest/my-trips",className:"underline text-blue-700 hover:text-blue-500",children:"Return to My Trips"})})]})})},Gv="https://123testing-project-yes-api.launchpulse.ai/api",Jv=48*60*60*1e3,Q6=60*60*1e3,K6=()=>{const{reviewId:t}=an(),e=ie(N=>N.user_session.token),r=et(),[n,s]=w.useState(1),[a,o]=w.useState(""),[l,c]=w.useState(!1),[u,f]=w.useState(""),[d,h]=w.useState(!1),[v,g]=w.useState(null),[y,_]=w.useState(!1),[p,x]=w.useState(!1),[m,b]=w.useState(0),S=Ot(),{data:T,isLoading:P,isError:A,error:F,refetch:U}=ve({queryKey:["review",t,e],queryFn:async()=>{if(!t)throw new Error("Invalid review_id");const N=await W.get(`${Gv}/review/${t}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),R=kp.safeParse(N.data);if(!R.success)throw new Error("Malformed review response");return R.data},enabled:!!t&&!!e,staleTime:10*60*1e3,retry:1,onSuccess:N=>{s(Number.isInteger(N.rating)&&N.rating>=1&&N.rating<=5?N.rating:1),o(N.text??""),c(!!N.is_edited),f(N.updated_at?new Date(N.updated_at).toISOString():"");const R=N.updated_at?new Date(N.updated_at).getTime():0,M=Date.now(),z=R+Jv;b(z-M),x(M>z),g(null)},onError:N=>{g("Unable to load review for editing.")}});w.useEffect(()=>{if(u){const N=setInterval(()=>{const M=new Date(u).getTime()+Jv,z=Date.now();b(M-z),x(z>M)},6e4);return()=>clearInterval(N)}},[u]),w.useEffect(()=>{e||r("/guest/login?to="+encodeURIComponent(window.location.pathname),{replace:!0})},[e,r]);const V=Ze(async({rating:N,text:R})=>{if(!t)throw new Error("Missing review id");h(!0),g(null);const M=Number.isInteger(N)&&N>=1&&N<=5?N:1,z=await W.patch(`${Gv}/review/${t}`,{rating:M,text:R},{headers:e?{Authorization:`Bearer ${e}`}:{}}),re=kp.safeParse(z.data);if(!re.success)throw new Error("Malformed response on save");return re.data},{onSuccess:N=>{_(!0),x(!0),c(!0),h(!1),s(N.rating),o(N.text??""),g(null),S.invalidateQueries({queryKey:["review",t]}),S.invalidateQueries({queryKey:["my_reviews"]})},onError:N=>{var R,M;h(!1),(M=(R=N==null?void 0:N.response)==null?void 0:R.data)!=null&&M.error?g(N.response.data.error):g("Failed to update review. Please try again.")}}),Q=m>0?Math.floor(m/(60*1e3)):0,E=m>0?Math.floor(m/(60*60*1e3)):0,L=N=>{!p&&!d&&Number.isInteger(N)&&N>=1&&N<=5&&s(N)},C=N=>{!p&&!d&&o(N.target.value)},j=N=>{if(N.preventDefault(),!(p||d)){if(!Number.isInteger(n)||n<1||n>5){g("Rating must be an integer between 1 and 5.");return}if(a.trim().length===0){g("Review text cannot be empty.");return}g(null),V.mutate({rating:n,text:a.trim()})}};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto py-10 px-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Edit Your Review"}),P&&i.jsxs("div",{className:"flex flex-col items-center py-12",children:[i.jsx("span",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-primary-500 border-gray-200"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading review..."})]}),v&&i.jsx("div",{className:"bg-red-50 border border-red-300 text-red-700 px-4 py-2 rounded mb-4",children:v}),A&&i.jsxs("div",{className:"bg-red-100 text-red-700 px-4 py-4 rounded shadow mb-8",children:[i.jsx("p",{children:"Unable to load review. The review may not exist, or you may not have access."}),i.jsx(q,{to:"/guest/my-trips",className:"mt-4 inline-block underline text-primary-600",children:"Back to My Trips"})]}),!P&&T&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[p?i.jsxs("div",{className:"flex items-center text-yellow-700 bg-yellow-100 border border-yellow-200 px-4 py-3 rounded mb-1",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"})}),i.jsx("span",{children:"The 48-hour edit window for this review has expired. You cannot make further changes."})]}):i.jsxs("div",{className:"flex items-center text-blue-800 bg-blue-100 border border-blue-200 px-4 py-3 rounded mb-1",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"})}),i.jsxs("span",{children:["You may edit your review within ",i.jsx("b",{children:"48 hours"})," after posting."," ",Q>0&&i.jsxs("span",{children:[E>0?i.jsxs(i.Fragment,{children:[i.jsx("b",{children:E})," hour",E!==1&&"s"]}):i.jsx(i.Fragment,{children:i.jsxs("span",{className:"text-red-700",children:[i.jsx("b",{children:Q})," minutes"]})})," ","remaining."]})]})]}),m>0&&m<Q6&&!p&&i.jsx("div",{className:"mt-2 text-sm bg-red-50 text-red-800 p-2 rounded border border-red-200",children:"Warning: Less than 1 hour left to edit your review."}),l&&i.jsxs("span",{className:"inline-flex items-center bg-gray-100 border border-gray-300 rounded px-2 py-0.5 ml-1 text-xs text-gray-700 ml-0.5",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 9V7a4 4 0 114 4h-2a2 2 0 11-2-2h2V9a2 2 0 11-2-2v2H7a4 4 0 11-4-4h2a2 2 0 112-2H5a4 4 0 110 8z"})}),"Edited"]})]}),y&&i.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-4 rounded mb-4 flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold mb-0.5",children:"Your review has been updated."}),i.jsxs("p",{className:"text-sm",children:["Thank you!"," ",i.jsx(q,{to:"/guest/my-trips",className:"underline text-green-700 ml-1",children:"Back to My Trips"})]})]})]}),i.jsxs("form",{onSubmit:j,className:`space-y-7 mt-6 ${p||y?"opacity-60 pointer-events-none select-none":""}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold mb-2",children:"Your rating"}),i.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(N=>i.jsx("button",{type:"button","aria-label":`Set rating ${N}`,className:`p-0.5 transition ${N<=n?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,disabled:p||d,onClick:()=>L(N),tabIndex:p?-1:0,children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.222 3.764a1 1 0 00.95.69h3.963c.969 0 1.371 1.24.588 1.81l-3.206 2.33a1 1 0 00-.364 1.118l1.222 3.764c.3.921-.755 1.688-1.539 1.118l-3.206-2.33a1 1 0 00-1.175 0l-3.206 2.33c-.783.57-1.838-.197-1.539-1.118l1.222-3.764a1 1 0 00-.364-1.118l-3.206-2.33c-.783-.57-.38-1.81.588-1.81h3.963a1 1 0 00.95-.69l1.222-3.764z"})})},N))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"review-content",className:"block font-semibold mb-2",children:"Review text"}),i.jsx("textarea",{id:"review-content",rows:6,className:"block w-full border border-gray-300 rounded px-3 py-2 text-base focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-400 placeholder-gray-400",placeholder:"Share your experience of your stay...",value:a,onChange:C,disabled:p||d,maxLength:4096,minLength:10,required:!0}),i.jsxs("div",{className:"flex justify-end mt-1 text-xs text-gray-500",children:[a.length,"/4096 characters"]})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4",children:[i.jsx("button",{type:"submit",className:`bg-primary-600 text-white rounded font-bold px-6 py-2 shadow hover:bg-primary-700 focus:outline-none transition ${d?"opacity-60 cursor-not-allowed":""}`,disabled:p||d||y,"aria-disabled":p||d||y,children:d?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin w-5 h-5 mr-2 text-white inline",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Saving..."]}):"Save Changes"}),i.jsx(q,{to:"/guest/my-trips",className:"rounded px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium border border-gray-200",tabIndex:0,children:"Cancel"})]})]})]})]})})},zd="https://123testing-project-yes-api.launchpulse.ai/api",Y6=async t=>{const{data:e}=await W.get(`${zd}/account/my_trips`,{headers:{Authorization:`Bearer ${t}`}});return{bookings_upcoming:(e.upcoming??[]).map(r=>rr.parse(r)),bookings_past:(e.past??[]).map(r=>rr.parse(r)),bookings_cancelled:(e.cancelled??[]).map(r=>rr.parse(r))}},G6=async({villa_id:t})=>{try{const{data:e}=await W.get(`${zd}/villa/${t}`);return ma.parse(e)}catch{return null}},J6=async({booking_id:t,token:e})=>{const{data:r}=await W.delete(`${zd}/bookings/${t}`,{headers:{Authorization:`Bearer ${e}`}});return rr.parse(r)},X6=async({booking_id:t,token:e,checkin_date:r,checkout_date:n,num_guests:s})=>{const{data:a}=await W.patch(`${zd}/bookings/${t}`,{checkin_date:r,checkout_date:n,num_guests:s},{headers:{Authorization:`Bearer ${e}`}});return rr.parse(a)},Xv={upcoming:"Upcoming",past:"Past",cancelled:"Cancelled"},eL=t=>{switch(t){case"pending":return"Pending";case"requested":return"Requested";case"confirmed":return"Confirmed";case"completed":return"Completed";case"cancelled":return"Cancelled";case"rejected":return"Rejected";case"modified":return"Modified";default:return t}},tL=()=>{const t=ie(E=>E.user_session.token),e=ie(E=>E.user_session.is_authenticated),r=et(),n=Ot(),[s,a]=w.useState("upcoming"),[o,l]=w.useState({}),[c,u]=w.useState({}),[f,d]=w.useState({}),[h,v]=w.useState({}),{data:g,isLoading:y,isError:_,error:p,refetch:x}=ve(["my_trips",t],()=>{if(!t)throw new Error("No token");return Y6(t)}),m=w.useMemo(()=>[...(g==null?void 0:g.bookings_upcoming)??[],...(g==null?void 0:g.bookings_past)??[],...(g==null?void 0:g.bookings_cancelled)??[]],[g]),b=Array.from(new Set(m.map(E=>Number(E.villa_id)).filter(E=>!Number.isNaN(E)))),S=Rm({queries:b.map(E=>({queryKey:["villa",E],queryFn:()=>G6({villa_id:E}),enabled:!!E,staleTime:1e3*60*60}))}),T={};b.forEach((E,L)=>{var C;T[String(E)]=((C=S[L])==null?void 0:C.data)===void 0?null:S[L].data});const P=Ze({mutationFn:async E=>{if(!t)throw new Error("Missing token");return await J6({booking_id:Number(E),token:t})},onMutate:E=>{l(L=>({...L,[E]:!0})),u(L=>({...L,[E]:null}))},onSuccess:(E,L)=>{l(C=>({...C,[L]:!1})),n.invalidateQueries({queryKey:["my_trips"]})},onError:(E,L)=>{var j,N;l(R=>({...R,[L]:!1}));const C=((N=(j=E==null?void 0:E.response)==null?void 0:j.data)==null?void 0:N.error)||(E==null?void 0:E.message)||"Error cancelling booking";u(R=>({...R,[L]:C}))}}),A=Ze({mutationFn:async({booking_id:E,checkin_date:L,checkout_date:C,num_guests:j})=>{if(!t)throw new Error("Missing token");return await X6({booking_id:Number(E),token:t,checkin_date:L,checkout_date:C,num_guests:j})},onMutate:({booking_id:E})=>{l(L=>({...L,[E]:!0})),u(L=>({...L,[E]:null}))},onSuccess:(E,L)=>{l(C=>({...C,[L.booking_id]:!1})),d(C=>({...C,[L.booking_id]:!1})),n.invalidateQueries({queryKey:["my_trips"]})},onError:(E,L)=>{var j,N;l(R=>({...R,[L.booking_id]:!1}));const C=((N=(j=E==null?void 0:E.response)==null?void 0:j.data)==null?void 0:N.error)||(E==null?void 0:E.message)||"Error modifying booking";u(R=>({...R,[L.booking_id]:C}))}}),F=E=>{P.mutate(E)},U=E=>{d(L=>({...L,[E.booking_id]:!L[E.booking_id]})),v(L=>({...L,[E.booking_id]:{checkin_date:E.checkin_date,checkout_date:E.checkout_date,num_guests:E.num_guests}}))},V=E=>{const{checkin_date:L,checkout_date:C,num_guests:j}=h[E];if(!L||!C||!j){u(N=>({...N,[E]:"All fields are required"}));return}A.mutate({booking_id:E,checkin_date:L,checkout_date:C,num_guests:j})},Q=w.useMemo(()=>g?s==="upcoming"?g.bookings_upcoming:s==="past"?g.bookings_past:s==="cancelled"?g.bookings_cancelled:[]:[],[g,s]);return ge.useEffect(()=>{e||r("/guest/login")},[e,r]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-4xl mx-auto pt-8 pb-20 px-2 sm:px-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"My Trips"}),i.jsxs("div",{className:"flex space-x-2 mb-8 border-b",children:[["upcoming","past","cancelled"].map(E=>i.jsxs("button",{className:`px-4 py-2 border-b-2 font-medium transition-colors ${s===E?"border-primary-600 text-primary-700":"border-transparent text-gray-500 hover:text-primary-500"}`,onClick:()=>a(E),"data-testid":`tab-${E}`,type:"button",children:[Xv[E],g&&(E==="upcoming"&&g.bookings_upcoming.length>0?i.jsxs("span",{className:"ml-1 text-xs text-primary-700 font-bold",children:["(",g.bookings_upcoming.length,")"]}):E==="past"&&g.bookings_past.length>0?i.jsxs("span",{className:"ml-1 text-xs text-primary-700 font-bold",children:["(",g.bookings_past.length,")"]}):E==="cancelled"&&g.bookings_cancelled.length>0?i.jsxs("span",{className:"ml-1 text-xs text-primary-700 font-bold",children:["(",g.bookings_cancelled.length,")"]}):null)]},E)),i.jsx("button",{className:"ml-auto px-3 py-2 text-xs font-semibold rounded hover:bg-gray-100 text-gray-500",onClick:()=>x(),type:"button",children:"Refresh"})]}),y?i.jsx("div",{className:"py-32 text-center text-lg text-primary-600 font-medium animate-pulse",children:"Loading your trips..."}):_?i.jsxs("div",{className:"py-32 text-center text-red-600 font-bold",children:["Unable to load your trips. Please try again.",p instanceof Error&&i.jsx("div",{className:"mt-2 text-sm font-mono text-gray-500",children:p.message}),i.jsx("button",{className:"block mx-auto mt-4 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",onClick:()=>x(),type:"button",children:"Retry"})]}):Q.length===0?i.jsxs("div",{className:"w-full min-h-32 flex flex-col items-center justify-center py-20 text-center",children:[i.jsx("img",{src:"https://picsum.photos/seed/vacationempty1/180/110",alt:"Plan next trip",className:"mx-auto rounded mb-4 shadow",width:180,height:110}),i.jsx("div",{className:"text-lg text-gray-800 font-semibold mb-2",children:"Plan your next beach escape"}),i.jsxs("div",{className:"text-gray-500 mb-6",children:["You have no ",Xv[s].toLowerCase()," trips yet."]}),i.jsx(q,{to:"/search",className:"inline-block px-5 py-2 bg-primary-600 text-white rounded-lg text-base shadow hover:bg-primary-700 transition",children:"Discover Villas"})]}):i.jsx("div",{className:"space-y-6",children:Q.map(E=>{var z,re,K;const L=T[String(E.villa_id)],C=!!o[E.booking_id],j=c[E.booking_id],N=s==="upcoming"&&E.status!=="cancelled"&&E.status!=="completed",R=s==="upcoming"&&E.status!=="cancelled"&&E.status!=="completed",M=s==="past"&&E.status==="completed";return i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm flex flex-col sm:flex-row","data-testid":`booking-card-${E.booking_id}`,children:[i.jsx("div",{className:"sm:w-48 w-full flex-shrink-0",children:L&&L.main_photo_url?i.jsx("img",{src:L.main_photo_url,alt:L.title,className:"h-36 w-full object-cover rounded-t-lg sm:rounded-l-lg sm:rounded-t-none",width:192,height:144,loading:"lazy"}):i.jsx("img",{src:`https://picsum.photos/seed/villa${E.villa_id}/200/150`,alt:"Villa",className:"h-36 w-full object-cover rounded-t-lg sm:rounded-l-lg sm:rounded-t-none",width:192,height:144,loading:"lazy"})}),i.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-gray-900",children:L?L.title:"Villa unavailable"}),i.jsxs("div",{className:"text-sm text-gray-600",children:[E.checkin_date," → ",E.checkout_date,"  ",i.jsxs("span",{className:"inline ml-2 text-xs font-medium bg-gray-100 px-2 rounded",children:[E.num_guests," guest",E.num_guests!==1?"s":""]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("span",{className:"text-xs py-1 px-2 rounded bg-blue-50 text-blue-700 font-semibold",children:eL(E.status)}),E.is_instant_book&&i.jsx("span",{className:"text-xs py-1 px-2 rounded bg-green-100 text-green-700 font-semibold",children:"Instant Book"})]})]}),i.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[i.jsxs("div",{className:"text-[15px] text-gray-700 font-semibold",children:["$",E.total_price.toFixed(2),i.jsx("span",{className:"ml-1 text-xs font-normal text-gray-400",children:"total"})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Night: $",E.nightly_price.toFixed(2)]}),i.jsxs("div",{className:"text-xs text-gray-400",children:[E.num_guests," guest",E.num_guests!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[i.jsx(q,{to:`/reservation/${E.booking_id}`,className:"px-4 py-1 bg-gray-100 text-gray-800 rounded font-medium hover:bg-gray-200 transition",children:"Details"}),N&&i.jsx("button",{className:`px-4 py-1 rounded font-medium transition
                            ${C?"bg-gray-200 text-gray-400":"bg-rose-500 text-white hover:bg-rose-600"}`,disabled:C,onClick:()=>F(E.booking_id),type:"button",children:C?"Cancelling...":"Cancel"}),R&&i.jsx("button",{className:"px-4 py-1 rounded font-medium bg-primary-100 text-primary-900 hover:bg-primary-200 transition",type:"button",onClick:()=>U(E),disabled:C,children:f[E.booking_id]?"Close":"Modify"}),i.jsx(q,{to:`/messaging?booking_id=${E.booking_id}`,className:"px-4 py-1 rounded font-medium bg-blue-50 text-blue-800 hover:bg-blue-100 transition","data-testid":`contact-host-${E.booking_id}`,children:"Contact Host"}),M&&i.jsx(q,{to:`/review/leave/${E.booking_id}`,className:"px-4 py-1 rounded font-medium bg-yellow-50 text-yellow-800 hover:bg-yellow-100 transition",children:"Leave Review"}),(s==="past"||s==="cancelled")&&L&&i.jsx(q,{to:`/villa/${L.villa_id}`,className:"px-4 py-1 rounded font-medium bg-teal-50 text-teal-900 hover:bg-teal-100 transition",children:"Book Again"})]}),j&&i.jsx("div",{className:"mt-2 text-xs text-red-600",children:j}),f[E.booking_id]&&i.jsxs("div",{className:"mt-4 bg-gray-50 border p-4 rounded-lg w-full",children:[i.jsx("div",{className:"text-sm font-semibold mb-2",children:"Modify Trip"}),i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mt-2",children:["Check-in Date",i.jsx("input",{type:"date",value:((z=h[E.booking_id])==null?void 0:z.checkin_date)||"",onChange:$=>v(Z=>({...Z,[E.booking_id]:{...Z[E.booking_id],checkin_date:$.target.value}})),className:"mt-1 block w-full border rounded px-2 py-1 text-sm",disabled:C})]}),i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mt-2",children:["Check-out Date",i.jsx("input",{type:"date",value:((re=h[E.booking_id])==null?void 0:re.checkout_date)||"",onChange:$=>v(Z=>({...Z,[E.booking_id]:{...Z[E.booking_id],checkout_date:$.target.value}})),className:"mt-1 block w-full border rounded px-2 py-1 text-sm",disabled:C})]}),i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mt-2",children:["Number of Guests",i.jsx("input",{type:"number",min:1,step:1,value:((K=h[E.booking_id])==null?void 0:K.num_guests)??1,onChange:$=>v(Z=>({...Z,[E.booking_id]:{...Z[E.booking_id],num_guests:Number($.target.value)}})),className:"mt-1 block w-full border rounded px-2 py-1 text-sm",disabled:C})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("button",{className:`px-4 py-1 rounded font-medium transition ${C?"bg-gray-200 text-gray-400":"bg-primary-600 text-white hover:bg-primary-700"}`,disabled:C,type:"button",onClick:()=>V(E.booking_id),children:C?"Saving...":"Confirm Changes"}),i.jsx("button",{className:"px-4 py-1 bg-gray-100 text-gray-700 rounded font-medium hover:bg-gray-200 transition",type:"button",disabled:C,onClick:()=>d($=>({...$,[E.booking_id]:!1})),children:"Cancel"})]})]})]})]},E.booking_id)})})]})})},rL=[{value:null,label:"All"},{value:"requested",label:"Requested"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"},{value:"cancelled",label:"Cancelled"},{value:"modified",label:"Modified"}],nL={paid:"text-green-600 bg-green-100",pending:"text-yellow-700 bg-yellow-100",refunded:"text-indigo-700 bg-indigo-100",failed:"text-red-700 bg-red-100"},sL={requested:"text-blue-700 bg-blue-100",pending:"text-yellow-800 bg-yellow-100",confirmed:"text-green-700 bg-green-100",completed:"text-emerald-900 bg-emerald-100",rejected:"text-red-700 bg-red-100",cancelled:"text-gray-700 bg-gray-200",modified:"text-blue-800 bg-blue-50"},NN="https://123testing-project-yes-api.launchpulse.ai/api",iL=async t=>{if(!t)throw new Error("Not authenticated");const e=await W.get(`${NN}/host/reservations`,{headers:{Authorization:`Bearer ${t}`}}),r=Vs(rr).safeParse(e.data);if(!r.success)throw new Error("Malformed booking data");return r.data},aL=async(t,{booking_id:e,status:r})=>{if(!["approved","rejected","cancelled"].includes(r))throw new Error("Status must be approved, rejected, or cancelled");const n=typeof e=="string"&&!isNaN(Number(e))?Number(e):e,s=await W.patch(`${NN}/host/reservations/${n}/status`,{status:r},{headers:{Authorization:`Bearer ${t}`}}),a=rr.safeParse(s.data);if(!a.success)throw new Error("Malformed booking data after update");return a.data};class oL extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){return this.state.hasError?this.props.fallback||i.jsx("div",{className:"p-8 text-center text-red-600 font-semibold",children:"An error occurred. Please reload page."}):this.props.children}}const lL=()=>{const t=ie(m=>m.user_session.token);ie(m=>m.user_session.user_id);const e=ie(m=>m.user_session.is_authenticated),r=ie(m=>m.user_session.is_host);et();const[n,s]=ge.useState(null),[a,o]=ge.useState({}),[l,c]=ge.useState({}),u=Ot(),{data:f,isLoading:d,isError:h,error:v,refetch:g}=ve({queryKey:["host_reservations"],queryFn:()=>iL(t||void 0),enabled:!!t,staleTime:1e3*60}),y=Ze({mutationFn:({booking_id:m,status:b})=>aL(t,{booking_id:m,status:b}),onMutate:({booking_id:m})=>{o(b=>({...b,[m]:!0})),c(b=>({...b,[m]:null}))},onSuccess:(m,{booking_id:b})=>{u.invalidateQueries({queryKey:["host_reservations"]}),o(S=>({...S,[b]:!1})),c(S=>({...S,[b]:null}))},onError:(m,{booking_id:b})=>{o(S=>({...S,[b]:!1})),c(S=>({...S,[b]:m.message||"Failed to update reservation"}))},retry:1}),_=w.useMemo(()=>f?n?f.filter(m=>m.status===n).sort(p("checkin_date",!0)):f.slice().sort(p("checkin_date",!0)):[],[f,n]);function p(m,b=!0){return function(S,T){if(!S[m]||!T[m])return 0;if(typeof S[m]=="string"&&typeof T[m]=="string"){const P=m.toLowerCase().includes("date")&&!isNaN(Date.parse(S[m]))?Date.parse(S[m]):S[m],A=m.toLowerCase().includes("date")&&!isNaN(Date.parse(T[m]))?Date.parse(T[m]):T[m];return P>A?b?1:-1:P<A?b?-1:1:0}return typeof S[m]=="number"&&typeof T[m]=="number"?b?S[m]-T[m]:T[m]-S[m]:0}}function x(m,b){["approved","rejected","cancelled"].includes(b)&&y.mutate({booking_id:m,status:b})}return e?r?i.jsx(oL,{children:i.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between mb-5 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Reservations Manager"}),i.jsx("p",{className:"text-gray-500 max-w-xl mt-1",children:"Review, approve or reject booking requests, and track all reservation activity for your villas."})]}),i.jsxs("div",{className:"min-w-[180px] flex flex-col items-end",children:[i.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter: Status"}),i.jsx("select",{id:"filter",value:n??"",onChange:m=>s(m.target.value||null),className:"rounded border-gray-300 text-sm px-2 py-1",children:rL.map(m=>i.jsx("option",{value:m.value??"",children:m.label},m.label))})]})]}),d&&i.jsxs("div",{className:"py-16 flex justify-center text-blue-500 animate-pulse",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Loading reservations..."]}),h&&i.jsxs("div",{className:"py-4 mb-4 rounded bg-red-100 border border-red-300 text-red-800 text-center",children:[(v==null?void 0:v.message)||"Failed to load reservations.",i.jsx("button",{className:"ml-4 inline-block px-2 py-0.5 text-sm rounded bg-red-600 text-white hover:bg-red-700",onClick:()=>g(),children:"Retry"})]}),!d&&(!_||_.length===0)&&i.jsxs("div",{className:"p-10 flex flex-col items-center text-gray-500 bg-gray-50 rounded-lg border mt-8",children:[i.jsx("img",{src:`https://picsum.photos/seed/rsvp-${n||"all"}/180/100`,alt:"Empty State",className:"opacity-40 mb-3 rounded"}),i.jsxs("div",{className:"text-xl",children:["No reservations found",n?` for ${n}`:"","."]}),i.jsx("div",{className:"text-gray-400",children:"You will see booking requests and reservations appear here as they are made."})]}),_&&_.length>0&&i.jsx("div",{className:"overflow-x-auto border rounded-lg bg-white shadow-sm mt-6",children:i.jsxs("table",{className:"min-w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100 text-gray-700 border-b",children:[i.jsx("th",{className:"py-2 px-3 text-left",children:"Villa ID"}),i.jsx("th",{className:"py-2 px-3 text-left",children:"Guest"}),i.jsx("th",{className:"py-2 px-3 text-left",children:"Check-in"}),i.jsx("th",{className:"py-2 px-3 text-left",children:"Check-out"}),i.jsx("th",{className:"py-2 px-3 text-right",children:"Guests"}),i.jsx("th",{className:"py-2 px-3 text-right",children:"Total, $"}),i.jsx("th",{className:"py-2 px-3 text-center",children:"Payment"}),i.jsx("th",{className:"py-2 px-3 text-center",children:"Status"}),i.jsx("th",{className:"py-2 px-3 text-center",children:"Actions"}),i.jsx("th",{className:"py-2 px-3 text-center"})]})}),i.jsx("tbody",{children:_.map(m=>{const b=m.booking_id.toString(),S=m.villa_id.toString();return i.jsxs("tr",{className:"border-b hover:bg-blue-50 transition",children:[i.jsx("td",{className:"py-2 px-3 font-semibold text-blue-900",children:i.jsx(q,{to:`/host/villa/${S}`,className:"hover:underline",title:"View Villa",children:S})}),i.jsx("td",{className:"py-2 px-3",children:i.jsxs(q,{to:`/messaging?booking_id=${b}`,className:"inline-flex items-center text-blue-700 hover:underline",title:"Message Guest",children:[i.jsxs("span",{className:"font-semibold",children:["Guest #",m.guest_user_id.toString()]}),i.jsx("svg",{className:"w-4 h-4 ml-1 text-blue-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),i.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:i.jsx("span",{children:m.checkin_date})}),i.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:i.jsx("span",{children:m.checkout_date})}),i.jsx("td",{className:"py-2 px-3 text-right",children:m.num_guests}),i.jsx("td",{className:"py-2 px-3 text-right font-semibold text-gray-700",children:m.total_price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"py-2 px-3 text-center",children:i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-bold rounded ${nL[m.payment_status]||"bg-gray-100 text-gray-700"}`,children:m.payment_status})}),i.jsx("td",{className:"py-2 px-3 text-center",children:i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-bold rounded ${sL[m.status]||"bg-gray-200 text-gray-700"}`,children:m.status})}),i.jsxs("td",{className:"py-2 px-3 text-center",children:[(m.status==="requested"||m.status==="pending")&&i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsxs("button",{type:"button",className:"w-24 px-2 py-1 rounded font-semibold text-white bg-green-600 hover:bg-green-700 disabled:opacity-60",disabled:!!a[b],onClick:()=>x(m.booking_id,"approved"),children:[a[b]?i.jsx("span",{className:"animate-spin mr-1",children:"⏳"}):null,"Approve"]}),i.jsxs("button",{type:"button",className:"w-24 px-2 py-1 rounded font-semibold text-white bg-red-600 hover:bg-red-700 disabled:opacity-60",disabled:!!a[b],onClick:()=>x(m.booking_id,"rejected"),children:[a[b]?i.jsx("span",{className:"animate-spin mr-1",children:"⏳"}):null,"Reject"]})]}),(m.status==="confirmed"||m.status==="completed")&&i.jsxs("button",{type:"button",className:"w-24 px-2 py-1 rounded font-semibold text-white bg-gray-700 hover:bg-gray-800 disabled:opacity-50",disabled:!!a[b],onClick:()=>x(m.booking_id,"cancelled"),children:[a[b]?i.jsx("span",{className:"animate-spin mr-1",children:"⏳"}):null,"Cancel"]}),l[b]&&i.jsx("span",{className:"block mt-1 text-xs text-red-600 whitespace-pre",children:l[b]})]}),i.jsx("td",{className:"py-2 px-1 text-center",children:i.jsx(q,{to:`/host/reservation/${b}`,className:"inline-block text-blue-700 hover:underline px-1 py-0.5",title:"View reservation details",children:"Details"})})]},b)})})]})})]})}):i.jsx("div",{className:"py-24 flex justify-center items-center",children:i.jsxs("div",{className:"shadow border p-8 bg-white rounded",children:[i.jsx("div",{className:"text-lg text-gray-800",children:"This page is for hosts only."}),i.jsx(q,{to:"/",className:"block mt-4 px-4 py-2 bg-gray-100 text-blue-700 rounded hover:bg-blue-100 text-center",children:"Go to Homepage"})]})}):i.jsx("div",{className:"py-24 flex justify-center items-center",children:i.jsxs("div",{className:"shadow border p-8 bg-white rounded",children:[i.jsx("div",{className:"text-lg text-gray-800",children:"You must be logged in to view your reservations."}),i.jsx(q,{to:"/guest/login",className:"block mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-800 text-center",children:"Login as Host"})]})})},Cl="https://123testing-project-yes-api.launchpulse.ai/api",El=t=>t?{Authorization:`Bearer ${t}`}:{},cL=async(t,e)=>{const r=parseInt(t,10);if(isNaN(r))throw new Error("Invalid booking id");const{data:n}=await W.get(`${Cl}/bookings/${r}`,{headers:El(e)}),s=rr.safeParse(n);if(!s.success)throw new Error("Invalid booking response");return s.data},uL=async(t,e)=>{const r=typeof t=="number"?t:parseInt(t,10);if(isNaN(r))throw new Error("Invalid villa id");const{data:n}=await W.get(`${Cl}/villa/${r}`,{headers:El(e)}),s=ma.safeParse(n);if(!s.success)throw new Error("Invalid villa response");return s.data},dL=async t=>{const{data:e}=await W.get(`${Cl}/account/me`,{headers:El(t)}),r=Pi.safeParse(e);if(!r.success)throw new Error("Invalid user response");return r.data},fL=()=>{const{reservationId:t}=an();et();const e=Ot(),r=ie(I=>I.user_session),[n,s]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(null),[u,f]=w.useState(null),{data:d,isLoading:h,isError:v,error:g,refetch:y}=ve({queryKey:["reservation",t,r.token],queryFn:()=>t?cL(t,r.token):Promise.reject(new Error("No booking id")),enabled:!!t&&!!r.token,retry:!1}),_=typeof(d==null?void 0:d.villa_id)=="string"?parseInt(d.villa_id,10):d==null?void 0:d.villa_id,{data:p,isLoading:x,isError:m,error:b}=ve({queryKey:["villa",_],queryFn:()=>_?uL(_,r.token):Promise.reject("no_villa"),enabled:!!_,retry:!1}),{data:S,isLoading:T,isError:P}=ve({queryKey:["me",r.token],queryFn:()=>dL(r.token),enabled:!!r.token,retry:!1,onSuccess:I=>{d&&I.user_id===d.guest_user_id&&c(I),d&&I.user_id===d.host_user_id&&f(I)}}),A=S&&d&&Number(S.user_id)===Number(d.guest_user_id),F=S&&d&&Number(S.user_id)===Number(d.host_user_id),U=Ze({mutationFn:async()=>{if(!d||!r.token)throw new Error("Unauthorized");const{data:I}=await W.delete(`${Cl}/bookings/${Number(d.booking_id)}`,{headers:El(r.token)}),se=rr.safeParse(I);if(!se.success)throw new Error("Cancel failed: Bad booking response");return se.data},onMutate:()=>{o(null)},onSuccess:I=>{e.invalidateQueries({queryKey:["reservation",t]}),s(null)},onError:I=>{o(I.message)}}),[V,Q]=w.useState(null),E=Ze({mutationFn:async I=>{if(!d||!r.token)throw new Error("Unauthorized");const{data:se}=await W.patch(`${Cl}/bookings/${Number(d.booking_id)}`,I,{headers:El(r.token)}),Ce=rr.safeParse(se);if(!Ce.success)throw new Error("Modify failed: Bad booking response");return Ce.data},onMutate:()=>{o(null)},onSuccess:I=>{e.invalidateQueries({queryKey:["reservation",t]}),s(null)},onError:I=>{o(I.message)}});function L(){return!(!d||!["confirmed","pending","requested"].includes(d.status)||!A&&!F)}function C(){if(!d||["cancelled","rejected","completed"].includes(d.status)||!A&&!F)return!1;const I=new Date;return!(d.checkout_date&&new Date(d.checkout_date)<I)}function j(){return!(!d||d.status!=="completed"||!A&&!F)}function N(){return d?d.status==="cancelled":!1}const R=d?{user_id:d.guest_user_id,display_name:d.guest_user_id===(S==null?void 0:S.user_id)&&(S!=null&&S.display_name)?S.display_name:"Guest",profile_photo_url:d.guest_user_id===(S==null?void 0:S.user_id)&&(S!=null&&S.profile_photo_url)?S.profile_photo_url:`https://picsum.photos/seed/g_${d.guest_user_id}/80`}:null,M=d?{user_id:d.host_user_id,display_name:d.host_user_id===(S==null?void 0:S.user_id)&&(S!=null&&S.display_name)?S.display_name:"Host",profile_photo_url:d.host_user_id===(S==null?void 0:S.user_id)&&(S!=null&&S.profile_photo_url)?S.profile_photo_url:`https://picsum.photos/seed/h_${d.host_user_id}/80`}:null,z=A&&S?{user_id:S.user_id,display_name:S.display_name||(R==null?void 0:R.display_name)||"Guest",profile_photo_url:S.profile_photo_url||(R==null?void 0:R.profile_photo_url)}:R,re=F&&S?{user_id:S.user_id,display_name:S.display_name||(M==null?void 0:M.display_name)||"Host",profile_photo_url:S.profile_photo_url||(M==null?void 0:M.profile_photo_url)}:M;!l&&z&&c(z),!u&&re&&f(re);const K=d==null?void 0:d.checkin_date,$=d==null?void 0:d.checkout_date;let Z=null;if(K&&$){const I=new Date(K),se=new Date($);se>I&&(Z=Math.round((se.getTime()-I.getTime())/(1e3*60*60*24)))}if(h||x&&_)return i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("span",{className:"text-blue-600 font-semibold",children:"Loading reservation..."})});if(v||!d)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[i.jsx("span",{className:"text-red-600 font-bold text-xl",children:"Reservation not found."}),i.jsx(q,{to:"/guest/my-trips",className:"mt-4 text-blue-600 underline",children:"Back to My Trips"})]});if(m)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[i.jsx("span",{className:"text-red-600 font-bold",children:"Unable to load villa information."}),i.jsx("span",{className:"text-gray-500",children:b==null?void 0:b.message})]});const X=(p==null?void 0:p.main_photo_url)||`https://picsum.photos/seed/villa_${d.villa_id}/400/240`;return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 border-b pb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:X,alt:(p==null?void 0:p.title)||`Villa photo #${d.villa_id}`,className:"w-32 h-20 object-cover rounded-lg shadow"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg text-gray-800",children:p?i.jsx(q,{to:`/villa/${p.villa_id}`,className:"hover:underline",children:p.title}):i.jsxs("span",{children:["Villa #",d.villa_id]})}),i.jsxs("div",{className:"text-gray-500 text-sm",children:[p==null?void 0:p.address_city,", ",p==null?void 0:p.address_country]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block rounded px-2 py-1 text-xs font-semibold uppercase ${d.status==="confirmed"?"bg-green-100 text-green-700":d.status==="completed"?"bg-gray-200 text-gray-700":d.status==="cancelled"?"bg-red-100 text-red-700":d.status==="pending"?"bg-yellow-100 text-yellow-800":d.status==="requested"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:d.status}),d.is_instant_book&&i.jsx("span",{className:"ml-3 inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded font-medium",children:"Instant Book"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[j()&&i.jsx(q,{to:`/review/leave/${d.booking_id}`,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded shadow text-xs font-medium",children:"Leave Review"}),C()&&i.jsx("button",{onClick:()=>{Q({checkin_date:d.checkin_date,checkout_date:d.checkout_date,num_guests:d.num_guests}),s("modify")},className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded shadow text-xs font-medium",children:"Modify"}),L()&&i.jsx("button",{onClick:()=>s("cancel"),className:"bg-red-500 hover:bg-red-700 text-white px-4 py-2 rounded shadow text-xs font-medium",children:"Cancel"}),i.jsx(q,{to:`/messaging?booking_id=${d.booking_id}`,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded shadow text-xs font-medium",children:A?"Contact Host":"Message Guest"})]})]}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("section",{className:"col-span-1 bg-gray-50 rounded shadow p-5",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"font-semibold text-gray-700",children:"Stay Details"}),i.jsxs("div",{className:"mt-2 text-gray-600 text-sm flex flex-col gap-1",children:[i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Check-in:"})," ",i.jsx("span",{children:d.checkin_date})]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Check-out:"})," ",i.jsx("span",{children:d.checkout_date})]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Nights:"})," ",i.jsx("span",{children:Z&&Z>0?Z:"?"})]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Guests:"})," ",d.num_guests]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"font-semibold text-gray-700",children:"Guest"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("img",{src:(z==null?void 0:z.profile_photo_url)||"https://picsum.photos/seed/guest/40",alt:`Guest: ${(z==null?void 0:z.display_name)||"Guest"}`,className:"w-10 h-10 object-cover rounded-full"}),i.jsx("span",{className:"font-medium text-sm",children:(z==null?void 0:z.display_name)||"Guest"})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-700",children:"Host"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("img",{src:(re==null?void 0:re.profile_photo_url)||"https://picsum.photos/seed/host/40",alt:`Host: ${(re==null?void 0:re.display_name)||"Host"}`,className:"w-10 h-10 object-cover rounded-full"}),i.jsx("span",{className:"font-medium text-sm",children:(re==null?void 0:re.display_name)||"Host"})]})]})]}),i.jsxs("section",{className:"col-span-1 bg-white rounded shadow p-5 border",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-3",children:"Price Breakdown"}),i.jsxs("ul",{className:"text-sm text-gray-700 mb-2",children:[i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Per night x ",Z&&Z>0?Z:"?"]}),i.jsxs("span",{children:["$",d.nightly_price," × ",Z&&Z>0?Z:"?"," = $",Z&&Z>0?d.nightly_price*Z:"--"]})]}),i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Cleaning fee"}),i.jsxs("span",{children:["$",d.cleaning_fee]})]}),i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Service fee"}),i.jsxs("span",{children:["$",d.service_fee]})]}),i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Taxes"}),i.jsxs("span",{children:["$",d.taxes]})]}),i.jsxs("li",{className:"flex justify-between font-bold border-t pt-2 mt-2",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:["$",d.total_price]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Payment:",i.jsx("span",{className:"ml-2 font-bold",children:d.payment_status==="paid"?"Paid":d.payment_status})]}),N()&&d.cancellation_reason&&i.jsxs("div",{className:"mt-4 p-2 border-l-4 border-red-400 bg-red-50 text-sm text-red-700",children:[i.jsxs("div",{className:"font-semibold",children:["Cancelled: ",d.cancellation_date?new Date(d.cancellation_date).toLocaleString():""]}),i.jsx("div",{children:d.cancellation_reason})]})]})]}),i.jsxs("div",{className:"mt-8 bg-gray-50 rounded shadow p-4",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Policies"}),i.jsxs("ul",{className:"text-gray-700 text-sm flex flex-col gap-1",children:[(p==null?void 0:p.cancellation_policy)&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Cancellation:"})," ",i.jsx("span",{className:"capitalize",children:p.cancellation_policy})]}),(p==null?void 0:p.min_nights)&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Minimum nights:"})," ",p.min_nights]}),(p==null?void 0:p.max_nights)&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Maximum nights:"})," ",p.max_nights]}),typeof(p==null?void 0:p.is_pet_friendly)=="boolean"&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Pet Friendly:"})," ",p.is_pet_friendly?"Yes":"No"]}),typeof(p==null?void 0:p.is_beachfront)=="boolean"&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Beachfront:"})," ",p.is_beachfront?"Yes":"No"]})]})]}),n==="cancel"&&i.jsx("div",{className:"fixed z-50 top-0 left-0 w-full h-full bg-black bg-opacity-30 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-md p-6",children:[i.jsx("div",{className:"mb-3 font-bold text-lg",children:"Cancel Reservation"}),i.jsx("div",{className:"mb-4 text-sm text-gray-700",children:"Are you sure you want to cancel this reservation?"}),a&&i.jsx("div",{className:"mb-2 text-red-600",children:a}),i.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[i.jsx("button",{onClick:()=>s(null),className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-700",disabled:U.isLoading,children:"Back"}),i.jsx("button",{className:"px-4 py-1 rounded bg-red-600 text-white font-bold hover:bg-red-800",onClick:()=>U.mutate(),disabled:U.isLoading,children:U.isLoading?"Cancelling...":"Confirm Cancel"})]})]})}),n==="modify"&&i.jsx("div",{className:"fixed z-50 top-0 left-0 w-full h-full bg-black bg-opacity-30 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-lg p-6",children:[i.jsx("div",{className:"mb-4 font-bold text-lg",children:"Modify Reservation"}),i.jsxs("form",{className:"flex flex-col gap-3",onSubmit:I=>{if(I.preventDefault(),!V)return;const se=new Date(V.checkin_date),Ce=new Date(V.checkout_date);if(!(se<Ce)){o("Check-out date must be after check-in date.");return}if(V.num_guests<1||p!=null&&p.max_guests&&V.num_guests>p.max_guests){o(`Guests must be between 1 and ${p==null?void 0:p.max_guests}`);return}o(null),E.mutate(V)},children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Check-in Date"}),i.jsx("input",{type:"date",className:"input input-bordered w-full",value:(V==null?void 0:V.checkin_date)||"",min:new Date().toISOString().substring(0,10),onChange:I=>Q(se=>se?{...se,checkin_date:I.target.value}:null),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Check-out Date"}),i.jsx("input",{type:"date",className:"input input-bordered w-full",value:(V==null?void 0:V.checkout_date)||"",min:V!=null&&V.checkin_date?V.checkin_date:new Date().toISOString().substring(0,10),onChange:I=>Q(se=>se?{...se,checkout_date:I.target.value}:null),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Guests"}),i.jsx("input",{type:"number",min:1,max:(p==null?void 0:p.max_guests)||16,className:"input input-bordered w-full",value:(V==null?void 0:V.num_guests)||1,onChange:I=>Q(se=>se?{...se,num_guests:Number(I.target.value)}:null),required:!0})]}),a&&i.jsx("div",{className:"mb-2 text-red-600",children:a}),i.jsxs("div",{className:"flex gap-3 justify-end mt-4",children:[i.jsx("button",{type:"button",onClick:()=>s(null),className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-700",disabled:E.isLoading,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:E.isLoading,className:"px-4 py-1 rounded bg-yellow-600 text-white font-bold hover:bg-yellow-700",children:E.isLoading?"Modifying...":"Confirm Change"})]})]})]})})]})})},uo="https://123testing-project-yes-api.launchpulse.ai/api",hL=async t=>(await W.get(`${uo}/account/wishlists`,{headers:{Authorization:`Bearer ${t}`}})).data.map(r=>({...r,wishlist_id:String(r.wishlist_id),villa_ids:Array.isArray(r.villa_ids)?r.villa_ids.map(n=>String(n)):[]})),mL=async t=>{const r=(await W.get(`${uo}/villa/${encodeURIComponent(t)}`)).data;return{villa_id:String(r.villa_id),title:r.title,address_city:r.address_city,main_photo_url:r.main_photo_url||null,price_per_night:Number(r.price_per_night),bedrooms:r.bedrooms,beds:r.beds,bathrooms:r.bathrooms,is_active:r.is_active,is_instant_book:r.is_instant_book,avg_rating:Number(r.avg_rating),reviews_count:Number(r.reviews_count)}},pL=async({name:t,token:e})=>{const n=(await W.post(`${uo}/account/wishlists`,{name:t},{headers:{Authorization:`Bearer ${e}`}})).data;return{...n,wishlist_id:String(n.wishlist_id),villa_ids:Array.isArray(n.villa_ids)?n.villa_ids.map(s=>String(s)):[]}},gL=async({wishlist_id:t,name:e,token:r})=>{const s=(await W.patch(`${uo}/account/wishlists/${encodeURIComponent(t)}`,{name:e},{headers:{Authorization:`Bearer ${r}`}})).data;return{...s,wishlist_id:String(s.wishlist_id),villa_ids:Array.isArray(s.villa_ids)?s.villa_ids.map(a=>String(a)):[]}},yL=async({wishlist_id:t,token:e})=>{const n=(await W.delete(`${uo}/account/wishlists/${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${e}`}})).data;return{...n,wishlist_id:String(n.wishlist_id),villa_ids:Array.isArray(n.villa_ids)?n.villa_ids.map(s=>String(s)):[]}},xL=async({wishlist_id:t,villa_id:e,token:r})=>{const s=(await W.delete(`${uo}/account/wishlists/${encodeURIComponent(t)}/villas/${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${r}`}})).data;return{...s,wishlist_id:String(s.wishlist_id),villa_ids:Array.isArray(s.villa_ids)?s.villa_ids.map(a=>String(a)):[]}},e_=({error:t})=>i.jsxs("div",{className:"max-w-2xl mx-auto p-6 my-12 rounded-lg bg-red-100 text-red-800 border border-red-300 shadow",children:[i.jsx("div",{className:"font-bold text-lg mb-2",children:"An error occurred loading your wishlists."}),i.jsx("div",{className:"mb-2",children:t.message}),i.jsx(q,{className:"text-blue-700 underline",to:"/",children:"Back to homepage"})]}),vL=()=>{const t=ie(C=>C.user_session),e=et();w.useEffect(()=>{t.is_authenticated||e("/guest/login")},[t.is_authenticated,e]),ie(C=>C.wishlist_state);const r=ie(C=>C.set_wishlist_state),[n,s]=w.useState(!1),[a,o]=w.useState(null),[l,c]=w.useState(null),[u,f]=w.useState(""),[d,h]=w.useState(null),[v,g]=w.useState(null),y=Ot(),{data:_,isLoading:p,isError:x,error:m,refetch:b}=ve({queryKey:["wishlists",t.user_id],enabled:!!t.token,queryFn:()=>hL(t.token),onSuccess:C=>{r&&r({wishlists:C})}}),S=w.useMemo(()=>{if(!_)return[];const C=_.filter(j=>!j.is_deleted).flatMap(j=>j.villa_ids||[]).map(j=>String(j));return Array.from(new Set(C))},[_]),T=w.useMemo(()=>S.map(C=>ve({queryKey:["villa",C],enabled:!!C,queryFn:()=>mL(C)})),[S.join(".")]),P={};T.forEach((C,j)=>{C.data&&(P[S[j]]=C.data)}),T.some(C=>C.isLoading);const A=Ze({mutationFn:pL,onSuccess:()=>{y.invalidateQueries({queryKey:["wishlists",t.user_id]}),s(!1),f("")}}),F=Ze({mutationFn:gL,onSuccess:()=>{y.invalidateQueries({queryKey:["wishlists",t.user_id]}),o(null),f("")}}),U=Ze({mutationFn:yL,onSuccess:()=>{y.invalidateQueries({queryKey:["wishlists",t.user_id]}),c(null)}}),V=Ze({mutationFn:xL,onMutate:({wishlist_id:C,villa_id:j})=>{h(C),g(j)},onSettled:()=>{h(null),g(null),y.invalidateQueries({queryKey:["wishlists",t.user_id]})}}),[Q,E]=w.useState(null),L=(_||[]).filter(C=>!C.is_deleted);return i.jsxs(i.Fragment,{children:[Q&&i.jsx(e_,{error:Q}),i.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4 flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Your Wishlists"}),i.jsx("button",{className:"bg-blue-600 text-white rounded-md px-4 py-2 font-semibold hover:bg-blue-700 transition",onClick:()=>{s(!0),f("")},children:"+ New Wishlist"})]}),!p&&L.length===0&&i.jsxs("div",{className:"w-full flex flex-col items-center justify-center mt-20",children:[i.jsx("div",{className:"text-4xl mb-4",children:"💡"}),i.jsx("div",{className:"text-xl mb-2 font-semibold",children:"No wishlists yet!"}),i.jsx("div",{className:"text-gray-500 mb-4",children:"Start collecting villas for your next dreamy beach trip."}),i.jsx("button",{className:"bg-blue-700 rounded-lg px-5 py-2 text-white font-semibold shadow hover:bg-blue-800",onClick:()=>s(!0),children:"Create Your First Wishlist"})]}),i.jsx("div",{className:"max-w-5xl mx-auto px-4 grid grid-cols-1 gap-8 md:grid-cols-2 mt-8",children:p?i.jsxs("div",{className:"col-span-full flex items-center justify-center py-12",children:[i.jsx("span",{className:"animate-spin mr-2",children:"⏳"}),i.jsx("span",{className:"text-gray-600",children:"Loading wishlists..."})]}):x?i.jsx(e_,{error:m}):L.map(C=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 px-5 pt-5 pb-2 border-b",children:[i.jsx("div",{className:"font-bold text-xl truncate",children:C.name}),i.jsxs("div",{className:"flex flex-row items-center gap-3",children:[i.jsx("button",{"aria-label":"Rename Wishlist",onClick:()=>{o(C.wishlist_id),f(C.name)},className:"bg-stone-100 hover:bg-stone-200 rounded px-2 py-1 text-gray-700",children:"Rename"}),i.jsx("button",{"aria-label":"Delete Wishlist",onClick:()=>c(C.wishlist_id),className:"bg-red-100 hover:bg-red-200 rounded px-2 py-1 text-red-600",children:"Delete"})]})]}),i.jsx("div",{className:"p-5",children:C.villa_ids.length===0?i.jsx("div",{className:"italic text-gray-400 text-center",children:"Empty – Add villas to your wishlist from any villa page."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:C.villa_ids.map(j=>{var re;const N=String(j),R=P[N],M=S.findIndex(K=>K===N),z=M!==-1?(re=T[M])==null?void 0:re.isLoading:!1;return i.jsxs("div",{className:"relative flex flex-col border border-gray-100 rounded-lg shadow hover:shadow-md bg-gray-50",children:[z&&i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[140px] bg-gray-100 rounded animate-pulse",children:[i.jsx("div",{className:"w-full h-24 rounded bg-gray-200 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 w-2/3 rounded mb-1"}),i.jsx("div",{className:"h-3 bg-gray-200 w-1/2 rounded"})]}),!z&&R&&i.jsxs(i.Fragment,{children:[i.jsxs(q,{to:`/villa/${R.villa_id}`,className:"group",children:[i.jsx("div",{className:"w-full h-36 rounded-t-lg overflow-hidden bg-stone-200",children:R.main_photo_url?i.jsx("img",{src:R.main_photo_url,alt:R.title,className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200 text-gray-400 text-2xl",children:"🏖️"})}),i.jsxs("div",{className:"px-3 py-2 flex flex-col",children:[i.jsx("div",{className:"font-bold text-md truncate",children:R.title}),i.jsx("div",{className:"text-sm text-gray-600 truncate",children:R.address_city}),i.jsxs("div",{className:"flex flex-row items-center space-x-1 text-xs text-gray-500 mt-1",children:[i.jsxs("span",{children:[R.bedrooms," bd"]}),i.jsx("span",{children:"·"}),i.jsxs("span",{children:[R.beds," beds"]}),i.jsx("span",{children:"·"}),i.jsxs("span",{children:[R.bathrooms," ba"]})]}),i.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[i.jsxs("span",{className:"text-blue-800 font-semibold",children:["$",R.price_per_night,"/night"]}),R.is_instant_book&&i.jsx("span",{className:"text-green-700 text-xs font-medium px-2 py-0.5 bg-green-100 rounded",children:"Instant Book"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-yellow-600",children:[i.jsxs("span",{children:["⭐ ",(R.avg_rating||0).toFixed(2)]}),i.jsxs("span",{children:["(",R.reviews_count," reviews)"]})]})]})]}),i.jsx("button",{onClick:()=>V.mutate({wishlist_id:String(C.wishlist_id),villa_id:String(R.villa_id),token:t.token}),"aria-label":"Remove villa from wishlist",disabled:V.isLoading&&d===String(C.wishlist_id)&&v===String(R.villa_id),className:`absolute top-2 right-2 bg-white border border-red-300 hover:bg-red-100 text-red-600 px-2 py-1 rounded text-xs z-10 ${V.isLoading&&d===String(C.wishlist_id)&&v===String(R.villa_id)?"opacity-60 pointer-events-none":""}`,children:V.isLoading&&d===String(C.wishlist_id)&&v===String(R.villa_id)?i.jsx("span",{className:"animate-spin",children:"⏳"}):"Remove"})]})]},N)})})})]},C.wishlist_id))}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative",children:[i.jsx("button",{className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",onClick:()=>s(!1),"aria-label":"Close",children:"×"}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Create New Wishlist"}),i.jsxs("form",{onSubmit:C=>{C.preventDefault(),!(u.trim().length<2)&&A.mutate({name:u.trim(),token:t.token})},children:[i.jsx("input",{className:"border rounded px-3 py-2 w-full mb-3 outline-blue-500",value:u,onChange:C=>f(C.target.value),minLength:2,maxLength:255,placeholder:"Wishlist name",required:!0}),i.jsx("button",{type:"submit",className:"bg-blue-700 text-white px-4 py-2 rounded w-full font-semibold hover:bg-blue-800 transition",disabled:A.isLoading,children:A.isLoading?"Creating...":"Create"}),A.error&&i.jsx("div",{className:"text-red-500 mt-2 text-sm",children:A.error.message})]})]})}),a!==null&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative",children:[i.jsx("button",{className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",onClick:()=>{o(null),f("")},"aria-label":"Close",children:"×"}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rename Wishlist"}),i.jsxs("form",{onSubmit:C=>{C.preventDefault(),!(u.trim().length<2)&&F.mutate({wishlist_id:String(a),name:u.trim(),token:t.token})},children:[i.jsx("input",{className:"border rounded px-3 py-2 w-full mb-3 outline-blue-500",value:u,onChange:C=>f(C.target.value),minLength:2,maxLength:255,placeholder:"Wishlist name",required:!0}),i.jsx("button",{type:"submit",className:"bg-blue-700 text-white px-4 py-2 rounded w-full font-semibold hover:bg-blue-800 transition",disabled:F.isLoading,children:F.isLoading?"Saving...":"Save"}),F.error&&i.jsx("div",{className:"text-red-500 mt-2 text-sm",children:F.error.message})]})]})}),l!==null&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative",children:[i.jsx("button",{className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",onClick:()=>c(null),"aria-label":"Close",children:"×"}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Delete Wishlist?"}),i.jsx("p",{className:"mb-4 text-gray-700",children:"Are you sure you want to delete this wishlist? This will remove it for you, but will not affect any villas."}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>U.mutate({wishlist_id:String(l),token:t.token}),className:"bg-red-700 text-white px-4 py-2 rounded font-semibold hover:bg-red-800 transition",disabled:U.isLoading,children:U.isLoading?"Deleting...":"Delete"}),i.jsx("button",{onClick:()=>c(null),className:"bg-gray-200 px-4 py-2 rounded font-semibold hover:bg-gray-300 transition",children:"Cancel"})]}),U.error&&i.jsx("div",{className:"text-red-500 mt-2 text-sm",children:U.error.message})]})})]})},t_=()=>i.jsxs("div",{className:"w-full h-full min-h-[60vh] flex flex-col items-center justify-center py-12 px-4 bg-white",children:[i.jsx("img",{src:"https://picsum.photos/600/400?grayscale&blur=2",alt:"404 Not Found Illustration",className:"w-full max-w-md h-64 object-cover rounded-xl shadow-lg mb-8 border border-gray-200",style:{backgroundColor:"#f3f4f6"},draggable:!1}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 mb-3 drop-shadow-sm text-center",children:"404 Not Found"}),i.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 text-center max-w-xl",children:"Page not found. The page you requested does not exist."}),i.jsx(q,{to:"/",className:"inline-block px-8 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 focus:bg-blue-700 text-white font-bold text-base md:text-lg shadow transition-colors duration-150 outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Return to homepage",children:"Return to Homepage"}),i.jsx("div",{className:"mt-8 text-sm text-gray-400 text-center max-w-xs",children:"If you think this is an error, please check the URL or head back to the homepage."})]}),_L=async t=>{const r=await W.get(`https://123testing-project-yes-api.launchpulse.ai/api/info/${encodeURIComponent(t)}`);if(!r.data||typeof r.data.content!="string")throw new Error("Malformed response from server.");return r.data},bL={privacy:"Privacy Policy",terms:"Terms of Service",about:"About Us",contact:"Contact Us"},r_="support@beachstay.villas",wL=()=>{var c;const{policy_slug:t}=an(),e=t||"privacy",{data:r,isLoading:n,error:s,isError:a,refetch:o}=ve({queryKey:["legal_policy",e],queryFn:()=>_L(e),retry:!1,staleTime:1e3*60*10}),l=bL[e.toLowerCase()]||e.charAt(0).toUpperCase()+e.slice(1);return i.jsx(i.Fragment,{children:i.jsx("div",{className:"w-full min-h-screen flex flex-col items-center bg-gray-50 pb-16 pt-10",children:i.jsxs("div",{className:"w-full max-w-2xl shadow-lg rounded-lg bg-white p-6 sm:p-10 mt-6 mb-6 border border-gray-100 flex flex-col",children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 mb-6 text-center",children:l}),n&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-10","aria-live":"polite",children:[i.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:12,cy:12,r:10,stroke:"currentColor",strokeWidth:4}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),i.jsx("div",{className:"text-gray-600 font-medium",children:"Loading..."})]}),a&&i.jsxs("div",{className:"flex flex-col items-center text-center text-red-600 gap-2 py-10","aria-live":"assertive",children:[i.jsx("span",{className:"text-lg font-semibold",children:(c=s==null?void 0:s.message)!=null&&c.match(/404|not found/i)?"Policy Not Found":"Unable to load this policy."}),i.jsx("div",{className:"text-gray-700",children:(s==null?void 0:s.message)||"An error occurred while loading the page."}),i.jsx("button",{className:"mt-4 px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white font-medium transition",onClick:()=>o(),children:"Retry"}),i.jsx(q,{to:"/",className:"mt-3 text-blue-700 hover:underline font-medium focus:outline-none",children:"Back to Home"})]}),!n&&!a&&r&&i.jsx("div",{className:"prose prose-gray max-w-none text-gray-800 policy-content",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:r.content},"aria-label":`${l} Content`})}),!n&&!a&&e.toLowerCase()==="contact"&&i.jsxs("div",{className:"mt-8 flex flex-col items-center border-t pt-8",children:[i.jsx("span",{className:"block text-base text-gray-700 mb-2",children:"For urgent support or inquiries:"}),i.jsx("a",{href:`mailto:${r_}`,className:"inline-block text-blue-600 hover:underline font-semibold text-lg",children:r_})]}),!a&&i.jsx("div",{className:"mt-12 flex justify-center",children:i.jsxs(q,{to:"/",className:"text-blue-500 hover:underline font-medium flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back to Home"]})})]})})})},jL=()=>{const t="mailto:support@beachstay.villas",[e]=Mw(),r=e.get("message"),n=a=>a.replace(/[&<>'\"\\]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]||o),s=typeof r=="string"&&r.trim().length>0?n(r):"Something went wrong.";return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"min-h-[60vh] flex flex-col justify-center items-center px-5 py-12 bg-white",children:[i.jsx("span",{role:"img","aria-label":"Error",className:"mb-4 scale-125 animate-bounce",style:{fontSize:"4rem"},children:i.jsxs("svg",{className:"w-16 h-16 text-red-400",fill:"none",viewBox:"0 0 64 64","aria-hidden":"true",children:[i.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#FEF2F2",stroke:"#F87171",strokeWidth:"4"}),i.jsx("path",{d:"M32 18 v18",stroke:"#F87171",strokeWidth:"4",strokeLinecap:"round"}),i.jsx("circle",{cx:"32",cy:"46",r:"2.5",fill:"#F87171"})]})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Oops! An error occurred"}),i.jsx("div",{className:"text-gray-600 mb-6 text-lg text-center max-w-lg",children:s}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[i.jsx(q,{to:"/",className:"inline-block px-5 py-2 rounded-full font-semibold bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition",children:"Go to homepage"}),i.jsx("a",{href:t,className:"inline-block px-5 py-2 rounded-full font-semibold bg-gray-100 text-blue-700 hover:bg-blue-200 border border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-300 transition",rel:"noopener noreferrer",children:"Contact support"})]}),i.jsx("button",{type:"button",className:"text-sm text-gray-500 underline hover:text-blue-500 mt-2",onClick:()=>window.history.length>1?window.history.back():window.location.assign("/"),"aria-label":"Go back to previous page",children:"Try previous page"})]})})};class NL extends ge.Component{constructor(){super(...arguments);Rn(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){}render(){var r;return this.state.hasError?i.jsxs("div",{className:"text-red-600 p-8 text-center",children:[i.jsx("h1",{children:"Something went wrong 🙁"}),i.jsx("pre",{children:(r=this.state.error)==null?void 0:r.message})]}):this.props.children}}const Ht=({children:t})=>{const{user:e}=N4();return e.is_authenticated?i.jsx(i.Fragment,{children:t}):i.jsx(VS,{to:"/guest/login",replace:!0})},kL={},SL=()=>{const t=w.useRef();return t.current||(t.current=new vC),i.jsx(ge.StrictMode,{children:i.jsx(WE,{children:i.jsx(PE,{theme:kL,children:i.jsx(NL,{children:i.jsx(eC,{children:i.jsx(kC,{client:t.current,children:i.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[i.jsx(cR,{}),i.jsx(HT,{}),i.jsx("div",{className:"flex-1 w-full",children:i.jsx(w.Suspense,{fallback:i.jsx("div",{className:"flex justify-center items-center h-64 text-gray-500",children:"Loading..."}),children:i.jsxs(HS,{children:[i.jsx(We,{path:"/",element:i.jsx(jA,{})}),i.jsx(We,{path:"/search",element:i.jsx(v5,{})}),i.jsx(We,{path:"/villa/:villaId",element:i.jsx(_5,{})}),i.jsx(We,{path:"/booking/start",element:i.jsx(w5,{})}),i.jsx(We,{path:"/booking/confirmation",element:i.jsx(n6,{})}),i.jsx(We,{path:"/booking/failure",element:i.jsx(l6,{})}),i.jsx(We,{path:"/guest/signup",element:i.jsx(f6,{})}),i.jsx(We,{path:"/guest/login",element:i.jsx(h6,{})}),i.jsx(We,{path:"/guest/password-reset",element:i.jsx(g6,{})}),i.jsx(We,{path:"/guest/dashboard",element:i.jsx(Ht,{children:i.jsx(j6,{})})}),i.jsx(We,{path:"/guest/profile/edit",element:i.jsx(Ht,{children:i.jsx(E6,{})})}),i.jsx(We,{path:"/guest/my-trips",element:i.jsx(Ht,{children:i.jsx(tL,{})})}),i.jsx(We,{path:"/guest/wishlists",element:i.jsx(Ht,{children:i.jsx(vL,{})})}),i.jsx(We,{path:"/host/signup",element:i.jsx(R6,{})}),i.jsx(We,{path:"/host/dashboard",element:i.jsx(Ht,{children:i.jsx(A6,{})})}),i.jsx(We,{path:"/host/profile/edit",element:i.jsx(Ht,{children:i.jsx(F6,{})})}),i.jsx(We,{path:"/host/onboarding",element:i.jsx(Ht,{children:i.jsx(D6,{})})}),i.jsx(We,{path:"/host/villa/:villaId",element:i.jsx(Ht,{children:i.jsx(U6,{})})}),i.jsx(We,{path:"/host/reservations",element:i.jsx(Ht,{children:i.jsx(lL,{})})}),i.jsx(We,{path:"/messaging",element:i.jsx(Ht,{children:i.jsx(W6,{})})}),i.jsx(We,{path:"/messaging/thread/:threadId",element:i.jsx(Ht,{children:i.jsx(H6,{})})}),i.jsx(We,{path:"/reservation/:reservationId",element:i.jsx(Ht,{children:i.jsx(fL,{})})}),i.jsx(We,{path:"/review/leave/:bookingId",element:i.jsx(Ht,{children:i.jsx(Z6,{})})}),i.jsx(We,{path:"/review/edit/:reviewId",element:i.jsx(Ht,{children:i.jsx(K6,{})})}),i.jsx(We,{path:"/legal/:policy",element:i.jsx(wL,{})}),i.jsx(We,{path:"/error",element:i.jsx(jL,{})}),i.jsx(We,{path:"/404",element:i.jsx(t_,{})}),i.jsx(We,{path:"*",element:i.jsx(t_,{})})]})})}),i.jsx(mR,{})]})})})})})})})},CL=()=>i.jsx(i.Fragment,{children:i.jsx(SL,{})});Sw(document.getElementById("root")).render(i.jsx(CL,{}));
