var jN=Object.defineProperty;var ly=t=>{throw TypeError(t)};var NN=(t,e,r)=>e in t?jN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var An=(t,e,r)=>NN(t,typeof e!="symbol"?e+"":e,r),qd=(t,e,r)=>e.has(t)||ly("Cannot "+r);var O=(t,e,r)=>(qd(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?ly("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),te=(t,e,r,n)=>(qd(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ye=(t,e,r)=>(qd(t,e,"access private method"),r);var Kl=(t,e,r,n)=>({set _(s){te(t,e,s,r)},get _(){return O(t,e,n)}});function kN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var m_={exports:{}},Ju={},p_={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),CN=Symbol.for("react.portal"),EN=Symbol.for("react.fragment"),PN=Symbol.for("react.strict_mode"),ON=Symbol.for("react.profiler"),RN=Symbol.for("react.provider"),TN=Symbol.for("react.context"),AN=Symbol.for("react.forward_ref"),$N=Symbol.for("react.suspense"),LN=Symbol.for("react.memo"),FN=Symbol.for("react.lazy"),uy=Symbol.iterator;function IN(t){return t===null||typeof t!="object"?null:(t=uy&&t[uy]||t["@@iterator"],typeof t=="function"?t:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y_=Object.assign,x_={};function Xa(t,e,r){this.props=t,this.context=e,this.refs=x_,this.updater=r||g_}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v_(){}v_.prototype=Xa.prototype;function Sp(t,e,r){this.props=t,this.context=e,this.refs=x_,this.updater=r||g_}var Cp=Sp.prototype=new v_;Cp.constructor=Sp;y_(Cp,Xa.prototype);Cp.isPureReactComponent=!0;var dy=Array.isArray,__=Object.prototype.hasOwnProperty,Ep={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function w_(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)__.call(e,n)&&!b_.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fl,type:t,key:a,ref:o,props:s,_owner:Ep.current}}function MN(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function DN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var hy=/\/+/g;function Wd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DN(""+t.key):e.toString(36)}function jc(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fl:case CN:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Wd(o,0):n,dy(s)?(r="",t!=null&&(r=t.replace(hy,"$&/")+"/"),jc(s,e,r,"",function(u){return u})):s!=null&&(Pp(s)&&(s=MN(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",dy(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Wd(a,l);o+=jc(a,e,r,c,s)}else if(c=IN(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Wd(a,l++),o+=jc(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,e,r){if(t==null)return t;var n=[],s=0;return jc(t,n,"","",function(a){return e.call(r,a,s++)}),n}function BN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Nc={transition:null},UN={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:Ep};function j_(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Yl,forEach:function(t,e,r){Yl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Pp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Xa;Re.Fragment=EN;Re.Profiler=ON;Re.PureComponent=Sp;Re.StrictMode=PN;Re.Suspense=$N;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN;Re.act=j_;Re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=y_({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Ep.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)__.call(e,c)&&!b_.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fl,type:t.type,key:s,ref:a,props:n,_owner:o}};Re.createContext=function(t){return t={$$typeof:TN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RN,_context:t},t.Consumer=t};Re.createElement=w_;Re.createFactory=function(t){var e=w_.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:AN,render:t}};Re.isValidElement=Pp;Re.lazy=function(t){return{$$typeof:FN,_payload:{_status:-1,_result:t},_init:BN}};Re.memo=function(t,e){return{$$typeof:LN,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};Re.unstable_act=j_;Re.useCallback=function(t,e){return Vt.current.useCallback(t,e)};Re.useContext=function(t){return Vt.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Vt.current.useEffect(t,e)};Re.useId=function(){return Vt.current.useId()};Re.useImperativeHandle=function(t,e,r){return Vt.current.useImperativeHandle(t,e,r)};Re.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Vt.current.useMemo(t,e)};Re.useReducer=function(t,e,r){return Vt.current.useReducer(t,e,r)};Re.useRef=function(t){return Vt.current.useRef(t)};Re.useState=function(t){return Vt.current.useState(t)};Re.useSyncExternalStore=function(t,e,r){return Vt.current.useSyncExternalStore(t,e,r)};Re.useTransition=function(){return Vt.current.useTransition()};Re.version="18.3.1";p_.exports=Re;var w=p_.exports;const ge=kp(w),N_=kN({__proto__:null,default:ge},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN=w,qN=Symbol.for("react.element"),WN=Symbol.for("react.fragment"),VN=Object.prototype.hasOwnProperty,HN=zN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZN={key:!0,ref:!0,__self:!0,__source:!0};function k_(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)VN.call(e,n)&&!ZN.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:qN,type:t,key:a,ref:o,props:s,_owner:HN.current}}Ju.Fragment=WN;Ju.jsx=k_;Ju.jsxs=k_;m_.exports=Ju;var i=m_.exports,S_={exports:{}},ur={},C_={exports:{}},E_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var q=R.length;R.push(M);e:for(;0<q;){var W=q-1>>>1,Y=R[W];if(0<s(Y,M))R[W]=M,R[q]=Y,q=W;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],q=R.pop();if(q!==M){R[0]=q;e:for(var W=0,Y=R.length,A=Y>>>1;W<A;){var K=2*(W+1)-1,ee=R[K],D=K+1,ie=R[D];if(0>s(ee,q))D<Y&&0>s(ie,ee)?(R[W]=ie,R[D]=q,W=D):(R[W]=ee,R[K]=q,W=K);else if(D<Y&&0>s(ie,q))R[W]=ie,R[D]=q,W=D;else break e}}return M}function s(R,M){var q=R.sortIndex-M.sortIndex;return q!==0?q:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,m=3,v=!1,g=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(R){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=R)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(u)}}function _(R){if(x=!1,f(R),!g)if(r(c)!==null)g=!0,b(k);else{var M=r(u);M!==null&&S(_,M.startTime-R)}}function k(R,M){g=!1,x&&(x=!1,p(F),F=-1),v=!0;var q=m;try{for(f(M),d=r(c);d!==null&&(!(d.expirationTime>M)||R&&!I());){var W=d.callback;if(typeof W=="function"){d.callback=null,m=d.priorityLevel;var Y=W(d.expirationTime<=M);M=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===r(c)&&n(c),f(M)}else n(c);d=r(c)}if(d!==null)var A=!0;else{var K=r(u);K!==null&&S(_,K.startTime-M),A=!1}return A}finally{d=null,m=q,v=!1}}var T=!1,P=null,F=-1,L=5,z=-1;function I(){return!(t.unstable_now()-z<L)}function Z(){if(P!==null){var R=t.unstable_now();z=R;var M=!0;try{M=P(!0,R)}finally{M?E():(T=!1,P=null)}}else T=!1}var E;if(typeof y=="function")E=function(){y(Z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,C=$.port2;$.port1.onmessage=Z,E=function(){C.postMessage(null)}}else E=function(){j(Z,0)};function b(R){P=R,T||(T=!0,E())}function S(R,M){F=j(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,b(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var q=m;m=M;try{return R()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=m;m=R;try{return M()}finally{m=q}},t.unstable_scheduleCallback=function(R,M,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,R={id:h++,callback:M,priorityLevel:R,startTime:q,expirationTime:Y,sortIndex:-1},q>W?(R.sortIndex=q,e(u,R),r(c)===null&&R===r(u)&&(x?(p(F),F=-1):x=!0,S(_,q-W))):(R.sortIndex=Y,e(c,R),g||v||(g=!0,b(k))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var M=m;return function(){var q=m;m=M;try{return R.apply(this,arguments)}finally{m=q}}}})(E_);C_.exports=E_;var QN=C_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=w,lr=QN;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P_=new Set,Jo={};function Oi(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Jo[t]=e,t=0;t<e.length;t++)P_.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,YN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy={},my={};function GN(t){return pf.call(my,t)?!0:pf.call(fy,t)?!1:YN.test(t)?my[t]=!0:(fy[t]=!0,!1)}function JN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XN(t,e,r,n){if(e===null||typeof e>"u"||JN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,Rp);Pt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,Rp);Pt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,Rp);Pt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tp(t,e,r,n){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XN(e,r,s,n)&&(r=null),n||s===null?GN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var On=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Ap=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),O_=Symbol.for("react.provider"),R_=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),yf=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),Lp=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),T_=Symbol.for("react.offscreen"),py=Symbol.iterator;function ho(t){return t===null||typeof t!="object"?null:(t=py&&t[py]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Vd;function Eo(t){if(Vd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Vd=e&&e[1]||""}return`
`+Vd+t}var Hd=!1;function Zd(t,e){if(!t||Hd)return"";Hd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Eo(t):""}function ek(t){switch(t.tag){case 5:return Eo(t.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Zi:return"Portal";case gf:return"Profiler";case Ap:return"StrictMode";case yf:return"Suspense";case xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R_:return(t.displayName||"Context")+".Consumer";case O_:return(t._context.displayName||"Context")+".Provider";case $p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lp:return e=t.displayName||null,e!==null?e:vf(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return vf(t(e))}catch{}}return null}function tk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vf(e);case 8:return e===Ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rk(t){var e=A_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jl(t){t._valueTracker||(t._valueTracker=rk(t))}function $_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=A_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _f(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function gy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=js(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L_(t,e){e=e.checked,e!=null&&Tp(t,"checked",e,!1)}function bf(t,e){L_(t,e);var r=js(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,r):e.hasOwnProperty("defaultValue")&&wf(t,e.type,js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wf(t,e,r){(e!=="number"||tu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Po=Array.isArray;function aa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+js(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xy(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(G(92));if(Po(r)){if(1<r.length)throw Error(G(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:js(r)}}function F_(t,e){var r=js(e.value),n=js(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xl,M_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nk=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(t){nk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mo[e]=Mo[t]})});function D_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mo.hasOwnProperty(t)&&Mo[t]?(""+e).trim():e+"px"}function B_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=D_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var sk=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(t,e){if(e){if(sk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=null;function Fp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ef=null,oa=null,la=null;function _y(t){if(t=Dl(t)){if(typeof Ef!="function")throw Error(G(280));var e=t.stateNode;e&&(e=nd(e),Ef(t.stateNode,t.type,e))}}function U_(t){oa?la?la.push(t):la=[t]:oa=t}function z_(){if(oa){var t=oa,e=la;if(la=oa=null,_y(t),e)for(t=0;t<e.length;t++)_y(e[t])}}function q_(t,e){return t(e)}function W_(){}var Qd=!1;function V_(t,e,r){if(Qd)return t(e,r);Qd=!0;try{return q_(t,e,r)}finally{Qd=!1,(oa!==null||la!==null)&&(W_(),z_())}}function el(t,e){var r=t.stateNode;if(r===null)return null;var n=nd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(G(231,e,typeof r));return r}var Pf=!1;if(Nn)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Pf=!1}function ik(t,e,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Do=!1,ru=null,nu=!1,Of=null,ak={onError:function(t){Do=!0,ru=t}};function ok(t,e,r,n,s,a,o,l,c){Do=!1,ru=null,ik.apply(ak,arguments)}function lk(t,e,r,n,s,a,o,l,c){if(ok.apply(this,arguments),Do){if(Do){var u=ru;Do=!1,ru=null}else throw Error(G(198));nu||(nu=!0,Of=u)}}function Ri(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function H_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function by(t){if(Ri(t)!==t)throw Error(G(188))}function ck(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(G(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return by(s),t;if(a===n)return by(s),e;a=a.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?t:e}function Z_(t){return t=ck(t),t!==null?Q_(t):null}function Q_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q_(t);if(e!==null)return e;t=t.sibling}return null}var K_=lr.unstable_scheduleCallback,wy=lr.unstable_cancelCallback,uk=lr.unstable_shouldYield,dk=lr.unstable_requestPaint,ut=lr.unstable_now,hk=lr.unstable_getCurrentPriorityLevel,Ip=lr.unstable_ImmediatePriority,Y_=lr.unstable_UserBlockingPriority,su=lr.unstable_NormalPriority,fk=lr.unstable_LowPriority,G_=lr.unstable_IdlePriority,Xu=null,nn=null;function mk(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Xu,t,void 0,(t.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:yk,pk=Math.log,gk=Math.LN2;function yk(t){return t>>>=0,t===0?32:31-(pk(t)/gk|0)|0}var ec=64,tc=4194304;function Oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Oo(l):(a&=o,a!==0&&(n=Oo(a)))}else o=r&~s,o!==0?n=Oo(o):a!==0&&(n=Oo(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Mr(e),s=1<<r,n|=t[r],e&=~s;return n}function xk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Mr(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=xk(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J_(){var t=ec;return ec<<=1,!(ec&4194240)&&(ec=64),t}function Kd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Il(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mr(e),t[e]=r}function _k(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Mr(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function Mp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Mr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Qe=0;function X_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eb,Dp,tb,rb,nb,Tf=!1,rc=[],cs=null,us=null,ds=null,tl=new Map,rl=new Map,Vn=[],bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jy(t,e){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function mo(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Dl(e),e!==null&&Dp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wk(t,e,r,n,s){switch(e){case"focusin":return cs=mo(cs,t,e,r,n,s),!0;case"dragenter":return us=mo(us,t,e,r,n,s),!0;case"mouseover":return ds=mo(ds,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return tl.set(a,mo(tl.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,rl.set(a,mo(rl.get(a)||null,t,e,r,n,s)),!0}return!1}function sb(t){var e=Hs(t.target);if(e!==null){var r=Ri(e);if(r!==null){if(e=r.tag,e===13){if(e=H_(r),e!==null){t.blockedOn=e,nb(t.priority,function(){tb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Cf=n,r.target.dispatchEvent(n),Cf=null}else return e=Dl(r),e!==null&&Dp(e),t.blockedOn=r,!1;e.shift()}return!0}function Ny(t,e,r){kc(t)&&r.delete(e)}function jk(){Tf=!1,cs!==null&&kc(cs)&&(cs=null),us!==null&&kc(us)&&(us=null),ds!==null&&kc(ds)&&(ds=null),tl.forEach(Ny),rl.forEach(Ny)}function po(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,jk)))}function nl(t){function e(s){return po(s,t)}if(0<rc.length){po(rc[0],t);for(var r=1;r<rc.length;r++){var n=rc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(cs!==null&&po(cs,t),us!==null&&po(us,t),ds!==null&&po(ds,t),tl.forEach(e),rl.forEach(e),r=0;r<Vn.length;r++)n=Vn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)sb(r),r.blockedOn===null&&Vn.shift()}var ca=On.ReactCurrentBatchConfig,au=!0;function Nk(t,e,r,n){var s=Qe,a=ca.transition;ca.transition=null;try{Qe=1,Bp(t,e,r,n)}finally{Qe=s,ca.transition=a}}function kk(t,e,r,n){var s=Qe,a=ca.transition;ca.transition=null;try{Qe=4,Bp(t,e,r,n)}finally{Qe=s,ca.transition=a}}function Bp(t,e,r,n){if(au){var s=Af(t,e,r,n);if(s===null)ih(t,e,n,ou,r),jy(t,n);else if(wk(s,t,e,r,n))n.stopPropagation();else if(jy(t,n),e&4&&-1<bk.indexOf(t)){for(;s!==null;){var a=Dl(s);if(a!==null&&eb(a),a=Af(t,e,r,n),a===null&&ih(t,e,n,ou,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else ih(t,e,n,null,r)}}var ou=null;function Af(t,e,r,n){if(ou=null,t=Fp(n),t=Hs(t),t!==null)if(e=Ri(t),e===null)t=null;else if(r=e.tag,r===13){if(t=H_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function ib(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hk()){case Ip:return 1;case Y_:return 4;case su:case fk:return 16;case G_:return 536870912;default:return 16}default:return 16}}var ss=null,Up=null,Sc=null;function ab(){if(Sc)return Sc;var t,e=Up,r=e.length,n,s="value"in ss?ss.value:ss.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return Sc=s.slice(t,1<n?1-n:void 0)}function Cc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function ky(){return!1}function dr(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nc:ky,this.isPropagationStopped=ky,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=dr(eo),Ml=st({},eo,{view:0,detail:0}),Sk=dr(Ml),Yd,Gd,go,ed=st({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==go&&(go&&t.type==="mousemove"?(Yd=t.screenX-go.screenX,Gd=t.screenY-go.screenY):Gd=Yd=0,go=t),Yd)},movementY:function(t){return"movementY"in t?t.movementY:Gd}}),Sy=dr(ed),Ck=st({},ed,{dataTransfer:0}),Ek=dr(Ck),Pk=st({},Ml,{relatedTarget:0}),Jd=dr(Pk),Ok=st({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Rk=dr(Ok),Tk=st({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ak=dr(Tk),$k=st({},eo,{data:0}),Cy=dr($k),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ik[t])?!!e[t]:!1}function qp(){return Mk}var Dk=st({},Ml,{key:function(t){if(t.key){var e=Lk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(t){return t.type==="keypress"?Cc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bk=dr(Dk),Uk=st({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=dr(Uk),zk=st({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),qk=dr(zk),Wk=st({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vk=dr(Wk),Hk=st({},ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zk=dr(Hk),Qk=[9,13,27,32],Wp=Nn&&"CompositionEvent"in window,Bo=null;Nn&&"documentMode"in document&&(Bo=document.documentMode);var Kk=Nn&&"TextEvent"in window&&!Bo,ob=Nn&&(!Wp||Bo&&8<Bo&&11>=Bo),Py=" ",Oy=!1;function lb(t,e){switch(t){case"keyup":return Qk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function Yk(t,e){switch(t){case"compositionend":return cb(e);case"keypress":return e.which!==32?null:(Oy=!0,Py);case"textInput":return t=e.data,t===Py&&Oy?null:t;default:return null}}function Gk(t,e){if(Ki)return t==="compositionend"||!Wp&&lb(t,e)?(t=ab(),Sc=Up=ss=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ob&&e.locale!=="ko"?null:e.data;default:return null}}var Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jk[t.type]:e==="textarea"}function ub(t,e,r,n){U_(n),e=lu(e,"onChange"),0<e.length&&(r=new zp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uo=null,sl=null;function Xk(t){bb(t,0)}function td(t){var e=Ji(t);if($_(e))return t}function e2(t,e){if(t==="change")return e}var db=!1;if(Nn){var Xd;if(Nn){var eh="oninput"in document;if(!eh){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),eh=typeof Ty.oninput=="function"}Xd=eh}else Xd=!1;db=Xd&&(!document.documentMode||9<document.documentMode)}function Ay(){Uo&&(Uo.detachEvent("onpropertychange",hb),sl=Uo=null)}function hb(t){if(t.propertyName==="value"&&td(sl)){var e=[];ub(e,sl,t,Fp(t)),V_(Xk,e)}}function t2(t,e,r){t==="focusin"?(Ay(),Uo=e,sl=r,Uo.attachEvent("onpropertychange",hb)):t==="focusout"&&Ay()}function r2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return td(sl)}function n2(t,e){if(t==="click")return td(e)}function s2(t,e){if(t==="input"||t==="change")return td(e)}function i2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:i2;function il(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!pf.call(e,s)||!Ur(t[s],e[s]))return!1}return!0}function $y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var r=$y(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$y(r)}}function fb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mb(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=tu(t.document)}return e}function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a2(t){var e=mb(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fb(r.ownerDocument.documentElement,r)){if(n!==null&&Vp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=Ly(r,a);var o=Ly(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o2=Nn&&"documentMode"in document&&11>=document.documentMode,Yi=null,$f=null,zo=null,Lf=!1;function Fy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lf||Yi==null||Yi!==tu(n)||(n=Yi,"selectionStart"in n&&Vp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zo&&il(zo,n)||(zo=n,n=lu($f,"onSelect"),0<n.length&&(e=new zp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yi)))}function sc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gi={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},th={},pb={};Nn&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function rd(t){if(th[t])return th[t];if(!Gi[t])return t;var e=Gi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in pb)return th[t]=e[r];return t}var gb=rd("animationend"),yb=rd("animationiteration"),xb=rd("animationstart"),vb=rd("transitionend"),_b=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){_b.set(t,e),Oi(e,[t])}for(var rh=0;rh<Iy.length;rh++){var nh=Iy[rh],l2=nh.toLowerCase(),c2=nh[0].toUpperCase()+nh.slice(1);Ps(l2,"on"+c2)}Ps(gb,"onAnimationEnd");Ps(yb,"onAnimationIteration");Ps(xb,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(vb,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function My(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,lk(n,e,void 0,t),t.currentTarget=null}function bb(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;My(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;My(s,l,u),a=c}}}if(nu)throw t=Of,nu=!1,Of=null,t}function Ye(t,e){var r=e[Bf];r===void 0&&(r=e[Bf]=new Set);var n=t+"__bubble";r.has(n)||(wb(e,t,2,!1),r.add(n))}function sh(t,e,r){var n=0;e&&(n|=4),wb(r,t,n,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[ic]){t[ic]=!0,P_.forEach(function(r){r!=="selectionchange"&&(u2.has(r)||sh(r,!1,t),sh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,sh("selectionchange",!1,e))}}function wb(t,e,r,n){switch(ib(e)){case 1:var s=Nk;break;case 4:s=kk;break;default:s=Bp}r=s.bind(null,e,r,t),s=void 0,!Pf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ih(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hs(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}V_(function(){var u=a,h=Fp(r),d=[];e:{var m=_b.get(t);if(m!==void 0){var v=zp,g=t;switch(t){case"keypress":if(Cc(r)===0)break e;case"keydown":case"keyup":v=Bk;break;case"focusin":g="focus",v=Jd;break;case"focusout":g="blur",v=Jd;break;case"beforeblur":case"afterblur":v=Jd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=qk;break;case gb:case yb:case xb:v=Rk;break;case vb:v=Vk;break;case"scroll":v=Sk;break;case"wheel":v=Zk;break;case"copy":case"cut":case"paste":v=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ey}var x=(e&4)!==0,j=!x&&t==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var y=u,f;y!==null;){f=y;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,p!==null&&(_=el(y,p),_!=null&&x.push(ol(y,_,f)))),j)break;y=y.return}0<x.length&&(m=new v(m,g,null,r,h),d.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==Cf&&(g=r.relatedTarget||r.fromElement)&&(Hs(g)||g[kn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?Hs(g):null,g!==null&&(j=Ri(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(x=Sy,_="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ey,_="onPointerLeave",p="onPointerEnter",y="pointer"),j=v==null?m:Ji(v),f=g==null?m:Ji(g),m=new x(_,y+"leave",v,r,h),m.target=j,m.relatedTarget=f,_=null,Hs(h)===u&&(x=new x(p,y+"enter",g,r,h),x.target=f,x.relatedTarget=j,_=x),j=_,v&&g)t:{for(x=v,p=g,y=0,f=x;f;f=Di(f))y++;for(f=0,_=p;_;_=Di(_))f++;for(;0<y-f;)x=Di(x),y--;for(;0<f-y;)p=Di(p),f--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=Di(x),p=Di(p)}x=null}else x=null;v!==null&&Dy(d,m,v,x,!1),g!==null&&j!==null&&Dy(d,j,g,x,!0)}}e:{if(m=u?Ji(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=e2;else if(Ry(m))if(db)k=s2;else{k=r2;var T=t2}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=n2);if(k&&(k=k(t,u))){ub(d,k,r,h);break e}T&&T(t,m,u),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&wf(m,"number",m.value)}switch(T=u?Ji(u):window,t){case"focusin":(Ry(T)||T.contentEditable==="true")&&(Yi=T,$f=u,zo=null);break;case"focusout":zo=$f=Yi=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Fy(d,r,h);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":Fy(d,r,h)}var P;if(Wp)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ki?lb(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(ob&&r.locale!=="ko"&&(Ki||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ki&&(P=ab()):(ss=h,Up="value"in ss?ss.value:ss.textContent,Ki=!0)),T=lu(u,F),0<T.length&&(F=new Cy(F,t,null,r,h),d.push({event:F,listeners:T}),P?F.data=P:(P=cb(r),P!==null&&(F.data=P)))),(P=Kk?Yk(t,r):Gk(t,r))&&(u=lu(u,"onBeforeInput"),0<u.length&&(h=new Cy("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=P))}bb(d,e)})}function ol(t,e,r){return{instance:t,listener:e,currentTarget:r}}function lu(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=el(t,r),a!=null&&n.unshift(ol(t,a,s)),a=el(t,e),a!=null&&n.push(ol(t,a,s))),t=t.return}return n}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dy(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=el(r,a),c!=null&&o.unshift(ol(r,c,l))):s||(c=el(r,a),c!=null&&o.push(ol(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var d2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(d2,`
`).replace(h2,"")}function ac(t,e,r){if(e=By(e),By(t)!==e&&r)throw Error(G(425))}function cu(){}var Ff=null,If=null;function Mf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(p2)}:Df;function p2(t){setTimeout(function(){throw t})}function ah(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),nl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);nl(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),rn="__reactFiber$"+to,ll="__reactProps$"+to,kn="__reactContainer$"+to,Bf="__reactEvents$"+to,g2="__reactListeners$"+to,y2="__reactHandles$"+to;function Hs(t){var e=t[rn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[kn]||r[rn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zy(t);t!==null;){if(r=t[rn])return r;t=zy(t)}return e}t=r,r=t.parentNode}return null}function Dl(t){return t=t[rn]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function nd(t){return t[ll]||null}var Uf=[],Xi=-1;function Os(t){return{current:t}}function Je(t){0>Xi||(t.current=Uf[Xi],Uf[Xi]=null,Xi--)}function Ke(t,e){Xi++,Uf[Xi]=t.current,t.current=e}var Ns={},Bt=Os(Ns),Jt=Os(!1),mi=Ns;function Ra(t,e){var r=t.type.contextTypes;if(!r)return Ns;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(t){return t=t.childContextTypes,t!=null}function uu(){Je(Jt),Je(Bt)}function qy(t,e,r){if(Bt.current!==Ns)throw Error(G(168));Ke(Bt,e),Ke(Jt,r)}function jb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(G(108,tk(t)||"Unknown",s));return st({},r,n)}function du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,mi=Bt.current,Ke(Bt,t),Ke(Jt,Jt.current),!0}function Wy(t,e,r){var n=t.stateNode;if(!n)throw Error(G(169));r?(t=jb(t,e,mi),n.__reactInternalMemoizedMergedChildContext=t,Je(Jt),Je(Bt),Ke(Bt,t)):Je(Jt),Ke(Jt,r)}var pn=null,sd=!1,oh=!1;function Nb(t){pn===null?pn=[t]:pn.push(t)}function x2(t){sd=!0,Nb(t)}function Rs(){if(!oh&&pn!==null){oh=!0;var t=0,e=Qe;try{var r=pn;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}pn=null,sd=!1}catch(s){throw pn!==null&&(pn=pn.slice(t+1)),K_(Ip,Rs),s}finally{Qe=e,oh=!1}}return null}var ea=[],ta=0,hu=null,fu=0,yr=[],xr=0,pi=null,xn=1,vn="";function Bs(t,e){ea[ta++]=fu,ea[ta++]=hu,hu=t,fu=e}function kb(t,e,r){yr[xr++]=xn,yr[xr++]=vn,yr[xr++]=pi,pi=t;var n=xn;t=vn;var s=32-Mr(n)-1;n&=~(1<<s),r+=1;var a=32-Mr(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xn=1<<32-Mr(e)+s|r<<s|n,vn=a+t}else xn=1<<a|r<<s|n,vn=t}function Hp(t){t.return!==null&&(Bs(t,1),kb(t,1,0))}function Zp(t){for(;t===hu;)hu=ea[--ta],ea[ta]=null,fu=ea[--ta],ea[ta]=null;for(;t===pi;)pi=yr[--xr],yr[xr]=null,vn=yr[--xr],yr[xr]=null,xn=yr[--xr],yr[xr]=null}var or=null,ar=null,Xe=!1,Ir=null;function Sb(t,e){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Vy(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,ar=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=pi!==null?{id:xn,overflow:vn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,or=t,ar=null,!0):!1;default:return!1}}function zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if(Xe){var e=ar;if(e){var r=e;if(!Vy(t,e)){if(zf(t))throw Error(G(418));e=hs(r.nextSibling);var n=or;e&&Vy(t,e)?Sb(n,r):(t.flags=t.flags&-4097|2,Xe=!1,or=t)}}else{if(zf(t))throw Error(G(418));t.flags=t.flags&-4097|2,Xe=!1,or=t}}}function Hy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function oc(t){if(t!==or)return!1;if(!Xe)return Hy(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mf(t.type,t.memoizedProps)),e&&(e=ar)){if(zf(t))throw Cb(),Error(G(418));for(;e;)Sb(t,e),e=hs(e.nextSibling)}if(Hy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ar=hs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=or?hs(t.stateNode.nextSibling):null;return!0}function Cb(){for(var t=ar;t;)t=hs(t.nextSibling)}function Ta(){ar=or=null,Xe=!1}function Qp(t){Ir===null?Ir=[t]:Ir.push(t)}var v2=On.ReactCurrentBatchConfig;function yo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zy(t){var e=t._init;return e(t._payload)}function Eb(t){function e(p,y){if(t){var f=p.deletions;f===null?(p.deletions=[y],p.flags|=16):f.push(y)}}function r(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=gs(p,y),p.index=0,p.sibling=null,p}function a(p,y,f){return p.index=f,t?(f=p.alternate,f!==null?(f=f.index,f<y?(p.flags|=2,y):f):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,y,f,_){return y===null||y.tag!==6?(y=mh(f,p.mode,_),y.return=p,y):(y=s(y,f),y.return=p,y)}function c(p,y,f,_){var k=f.type;return k===Qi?h(p,y,f.props.children,_,f.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Un&&Zy(k)===y.type)?(_=s(y,f.props),_.ref=yo(p,y,f),_.return=p,_):(_=$c(f.type,f.key,f.props,null,p.mode,_),_.ref=yo(p,y,f),_.return=p,_)}function u(p,y,f,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==f.containerInfo||y.stateNode.implementation!==f.implementation?(y=ph(f,p.mode,_),y.return=p,y):(y=s(y,f.children||[]),y.return=p,y)}function h(p,y,f,_,k){return y===null||y.tag!==7?(y=ci(f,p.mode,_,k),y.return=p,y):(y=s(y,f),y.return=p,y)}function d(p,y,f){if(typeof y=="string"&&y!==""||typeof y=="number")return y=mh(""+y,p.mode,f),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gl:return f=$c(y.type,y.key,y.props,null,p.mode,f),f.ref=yo(p,null,y),f.return=p,f;case Zi:return y=ph(y,p.mode,f),y.return=p,y;case Un:var _=y._init;return d(p,_(y._payload),f)}if(Po(y)||ho(y))return y=ci(y,p.mode,f,null),y.return=p,y;lc(p,y)}return null}function m(p,y,f,_){var k=y!==null?y.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:l(p,y,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Gl:return f.key===k?c(p,y,f,_):null;case Zi:return f.key===k?u(p,y,f,_):null;case Un:return k=f._init,m(p,y,k(f._payload),_)}if(Po(f)||ho(f))return k!==null?null:h(p,y,f,_,null);lc(p,f)}return null}function v(p,y,f,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(f)||null,l(y,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gl:return p=p.get(_.key===null?f:_.key)||null,c(y,p,_,k);case Zi:return p=p.get(_.key===null?f:_.key)||null,u(y,p,_,k);case Un:var T=_._init;return v(p,y,f,T(_._payload),k)}if(Po(_)||ho(_))return p=p.get(f)||null,h(y,p,_,k,null);lc(y,_)}return null}function g(p,y,f,_){for(var k=null,T=null,P=y,F=y=0,L=null;P!==null&&F<f.length;F++){P.index>F?(L=P,P=null):L=P.sibling;var z=m(p,P,f[F],_);if(z===null){P===null&&(P=L);break}t&&P&&z.alternate===null&&e(p,P),y=a(z,y,F),T===null?k=z:T.sibling=z,T=z,P=L}if(F===f.length)return r(p,P),Xe&&Bs(p,F),k;if(P===null){for(;F<f.length;F++)P=d(p,f[F],_),P!==null&&(y=a(P,y,F),T===null?k=P:T.sibling=P,T=P);return Xe&&Bs(p,F),k}for(P=n(p,P);F<f.length;F++)L=v(P,p,F,f[F],_),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?F:L.key),y=a(L,y,F),T===null?k=L:T.sibling=L,T=L);return t&&P.forEach(function(I){return e(p,I)}),Xe&&Bs(p,F),k}function x(p,y,f,_){var k=ho(f);if(typeof k!="function")throw Error(G(150));if(f=k.call(f),f==null)throw Error(G(151));for(var T=k=null,P=y,F=y=0,L=null,z=f.next();P!==null&&!z.done;F++,z=f.next()){P.index>F?(L=P,P=null):L=P.sibling;var I=m(p,P,z.value,_);if(I===null){P===null&&(P=L);break}t&&P&&I.alternate===null&&e(p,P),y=a(I,y,F),T===null?k=I:T.sibling=I,T=I,P=L}if(z.done)return r(p,P),Xe&&Bs(p,F),k;if(P===null){for(;!z.done;F++,z=f.next())z=d(p,z.value,_),z!==null&&(y=a(z,y,F),T===null?k=z:T.sibling=z,T=z);return Xe&&Bs(p,F),k}for(P=n(p,P);!z.done;F++,z=f.next())z=v(P,p,F,z.value,_),z!==null&&(t&&z.alternate!==null&&P.delete(z.key===null?F:z.key),y=a(z,y,F),T===null?k=z:T.sibling=z,T=z);return t&&P.forEach(function(Z){return e(p,Z)}),Xe&&Bs(p,F),k}function j(p,y,f,_){if(typeof f=="object"&&f!==null&&f.type===Qi&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Gl:e:{for(var k=f.key,T=y;T!==null;){if(T.key===k){if(k=f.type,k===Qi){if(T.tag===7){r(p,T.sibling),y=s(T,f.props.children),y.return=p,p=y;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Un&&Zy(k)===T.type){r(p,T.sibling),y=s(T,f.props),y.ref=yo(p,T,f),y.return=p,p=y;break e}r(p,T);break}else e(p,T);T=T.sibling}f.type===Qi?(y=ci(f.props.children,p.mode,_,f.key),y.return=p,p=y):(_=$c(f.type,f.key,f.props,null,p.mode,_),_.ref=yo(p,y,f),_.return=p,p=_)}return o(p);case Zi:e:{for(T=f.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===f.containerInfo&&y.stateNode.implementation===f.implementation){r(p,y.sibling),y=s(y,f.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else e(p,y);y=y.sibling}y=ph(f,p.mode,_),y.return=p,p=y}return o(p);case Un:return T=f._init,j(p,y,T(f._payload),_)}if(Po(f))return g(p,y,f,_);if(ho(f))return x(p,y,f,_);lc(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,y!==null&&y.tag===6?(r(p,y.sibling),y=s(y,f),y.return=p,p=y):(r(p,y),y=mh(f,p.mode,_),y.return=p,p=y),o(p)):r(p,y)}return j}var Aa=Eb(!0),Pb=Eb(!1),mu=Os(null),pu=null,ra=null,Kp=null;function Yp(){Kp=ra=pu=null}function Gp(t){var e=mu.current;Je(mu),t._currentValue=e}function Wf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ua(t,e){pu=t,Kp=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function wr(t){var e=t._currentValue;if(Kp!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(pu===null)throw Error(G(308));ra=t,pu.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Zs=null;function Jp(t){Zs===null?Zs=[t]:Zs.push(t)}function Ob(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Jp(e)):(r.next=s.next,s.next=r),e.interleaved=r,Sn(t,n)}function Sn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zn=!1;function Xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Sn(t,r)}return s=n.interleaved,s===null?(e.next=e,Jp(n)):(e.next=s.next,s.next=e),n.interleaved=e,Sn(t,r)}function Ec(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Mp(t,r)}}function Qy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gu(t,e,r,n){var s=t.updateQueue;zn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,h=u=c=null,l=a;do{var m=l.lane,v=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(m=e,v=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(v,d,m);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(v,d,m):g,m==null)break e;d=st({},d,m);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=d}}function Ky(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Bl={},sn=Os(Bl),cl=Os(Bl),ul=Os(Bl);function Qs(t){if(t===Bl)throw Error(G(174));return t}function eg(t,e){switch(Ke(ul,e),Ke(cl,t),Ke(sn,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nf(e,t)}Je(sn),Ke(sn,e)}function $a(){Je(sn),Je(cl),Je(ul)}function Tb(t){Qs(ul.current);var e=Qs(sn.current),r=Nf(e,t.type);e!==r&&(Ke(cl,t),Ke(sn,r))}function tg(t){cl.current===t&&(Je(sn),Je(cl))}var rt=Os(0);function yu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lh=[];function rg(){for(var t=0;t<lh.length;t++)lh[t]._workInProgressVersionPrimary=null;lh.length=0}var Pc=On.ReactCurrentDispatcher,ch=On.ReactCurrentBatchConfig,gi=0,nt=null,vt=null,wt=null,xu=!1,qo=!1,dl=0,_2=0;function Tt(){throw Error(G(321))}function ng(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ur(t[r],e[r]))return!1;return!0}function sg(t,e,r,n,s,a){if(gi=a,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pc.current=t===null||t.memoizedState===null?N2:k2,t=r(n,s),qo){a=0;do{if(qo=!1,dl=0,25<=a)throw Error(G(301));a+=1,wt=vt=null,e.updateQueue=null,Pc.current=S2,t=r(n,s)}while(qo)}if(Pc.current=vu,e=vt!==null&&vt.next!==null,gi=0,wt=vt=nt=null,xu=!1,e)throw Error(G(300));return t}function ig(){var t=dl!==0;return dl=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?nt.memoizedState=wt=t:wt=wt.next=t,wt}function jr(){if(vt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=wt===null?nt.memoizedState:wt.next;if(e!==null)wt=e,vt=t;else{if(t===null)throw Error(G(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},wt===null?nt.memoizedState=wt=t:wt=wt.next=t}return wt}function hl(t,e){return typeof e=="function"?e(t):e}function uh(t){var e=jr(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=vt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((gi&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,nt.lanes|=h,yi|=h}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Ur(n,e.memoizedState)||(Gt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,nt.lanes|=a,yi|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function dh(t){var e=jr(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Ur(a,e.memoizedState)||(Gt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Ab(){}function $b(t,e){var r=nt,n=jr(),s=e(),a=!Ur(n.memoizedState,s);if(a&&(n.memoizedState=s,Gt=!0),n=n.queue,ag(Ib.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,fl(9,Fb.bind(null,r,n,s,e),void 0,null),Nt===null)throw Error(G(349));gi&30||Lb(r,e,s)}return s}function Lb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Fb(t,e,r,n){e.value=r,e.getSnapshot=n,Mb(e)&&Db(t)}function Ib(t,e,r){return r(function(){Mb(e)&&Db(t)})}function Mb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ur(t,r)}catch{return!0}}function Db(t){var e=Sn(t,1);e!==null&&Dr(e,t,1,-1)}function Yy(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},e.queue=t,t=t.dispatch=j2.bind(null,nt,t),[e.memoizedState,t]}function fl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Bb(){return jr().memoizedState}function Oc(t,e,r,n){var s=Kr();nt.flags|=t,s.memoizedState=fl(1|e,r,void 0,n===void 0?null:n)}function id(t,e,r,n){var s=jr();n=n===void 0?null:n;var a=void 0;if(vt!==null){var o=vt.memoizedState;if(a=o.destroy,n!==null&&ng(n,o.deps)){s.memoizedState=fl(e,r,a,n);return}}nt.flags|=t,s.memoizedState=fl(1|e,r,a,n)}function Gy(t,e){return Oc(8390656,8,t,e)}function ag(t,e){return id(2048,8,t,e)}function Ub(t,e){return id(4,2,t,e)}function zb(t,e){return id(4,4,t,e)}function qb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wb(t,e,r){return r=r!=null?r.concat([t]):null,id(4,4,qb.bind(null,e,t),r)}function og(){}function Vb(t,e){var r=jr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ng(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Hb(t,e){var r=jr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ng(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Zb(t,e,r){return gi&21?(Ur(r,e)||(r=J_(),nt.lanes|=r,yi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=r)}function b2(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=ch.transition;ch.transition={};try{t(!1),e()}finally{Qe=r,ch.transition=n}}function Qb(){return jr().memoizedState}function w2(t,e,r){var n=ps(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kb(t))Yb(e,r);else if(r=Ob(t,e,r,n),r!==null){var s=Wt();Dr(r,t,n,s),Gb(r,e,n)}}function j2(t,e,r){var n=ps(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kb(t))Yb(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ur(l,o)){var c=e.interleaved;c===null?(s.next=s,Jp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Ob(t,e,s,n),r!==null&&(s=Wt(),Dr(r,t,n,s),Gb(r,e,n))}}function Kb(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function Yb(t,e){qo=xu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Gb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Mp(t,r)}}var vu={readContext:wr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},N2={readContext:wr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:wr,useEffect:Gy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Oc(4194308,4,qb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oc(4,2,t,e)},useMemo:function(t,e){var r=Kr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Kr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=w2.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:Yy,useDebugValue:og,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=Yy(!1),e=t[0];return t=b2.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,s=Kr();if(Xe){if(r===void 0)throw Error(G(407));r=r()}else{if(r=e(),Nt===null)throw Error(G(349));gi&30||Lb(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,Gy(Ib.bind(null,n,a,t),[t]),n.flags|=2048,fl(9,Fb.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Kr(),e=Nt.identifierPrefix;if(Xe){var r=vn,n=xn;r=(n&~(1<<32-Mr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=dl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=_2++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k2={readContext:wr,useCallback:Vb,useContext:wr,useEffect:ag,useImperativeHandle:Wb,useInsertionEffect:Ub,useLayoutEffect:zb,useMemo:Hb,useReducer:uh,useRef:Bb,useState:function(){return uh(hl)},useDebugValue:og,useDeferredValue:function(t){var e=jr();return Zb(e,vt.memoizedState,t)},useTransition:function(){var t=uh(hl)[0],e=jr().memoizedState;return[t,e]},useMutableSource:Ab,useSyncExternalStore:$b,useId:Qb,unstable_isNewReconciler:!1},S2={readContext:wr,useCallback:Vb,useContext:wr,useEffect:ag,useImperativeHandle:Wb,useInsertionEffect:Ub,useLayoutEffect:zb,useMemo:Hb,useReducer:dh,useRef:Bb,useState:function(){return dh(hl)},useDebugValue:og,useDeferredValue:function(t){var e=jr();return vt===null?e.memoizedState=t:Zb(e,vt.memoizedState,t)},useTransition:function(){var t=dh(hl)[0],e=jr().memoizedState;return[t,e]},useMutableSource:Ab,useSyncExternalStore:$b,useId:Qb,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Vf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ad={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Wt(),s=ps(t),a=wn(n,s);a.payload=e,r!=null&&(a.callback=r),e=fs(t,a,s),e!==null&&(Dr(e,t,s,n),Ec(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Wt(),s=ps(t),a=wn(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=fs(t,a,s),e!==null&&(Dr(e,t,s,n),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Wt(),n=ps(t),s=wn(r,n);s.tag=2,e!=null&&(s.callback=e),e=fs(t,s,n),e!==null&&(Dr(e,t,n,r),Ec(e,t,n))}};function Jy(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!il(r,n)||!il(s,a):!0}function Jb(t,e,r){var n=!1,s=Ns,a=e.contextType;return typeof a=="object"&&a!==null?a=wr(a):(s=Xt(e)?mi:Bt.current,n=e.contextTypes,a=(n=n!=null)?Ra(t,s):Ns),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ad,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function Xy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ad.enqueueReplaceState(e,e.state,null)}function Hf(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Xp(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=wr(a):(a=Xt(e)?mi:Bt.current,s.context=Ra(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Vf(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ad.enqueueReplaceState(s,s.state,null),gu(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var r="",n=e;do r+=ek(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function hh(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function Xb(t,e,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bu||(bu=!0,nm=n),Zf(t,e)},r}function ew(t,e,r){r=wn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Zf(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Zf(t,e),typeof n!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ex(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new C2;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=U2.bind(null,t,e,r),e.then(t,t))}function tx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rx(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wn(-1,1),e.tag=2,fs(r,e,1))),r.lanes|=1),t)}var E2=On.ReactCurrentOwner,Gt=!1;function qt(t,e,r,n){e.child=t===null?Pb(e,null,r,n):Aa(e,t.child,r,n)}function nx(t,e,r,n,s){r=r.render;var a=e.ref;return ua(e,s),n=sg(t,e,r,n,a,s),r=ig(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cn(t,e,s)):(Xe&&r&&Hp(e),e.flags|=1,qt(t,e,n,s),e.child)}function sx(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!pg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,tw(t,e,a,n,s)):(t=$c(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(o,n)&&t.ref===e.ref)return Cn(t,e,s)}return e.flags|=1,t=gs(a,n),t.ref=e.ref,t.return=e,e.child=t}function tw(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(il(a,n)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Cn(t,e,s)}return Qf(t,e,r,n,s)}function rw(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(sa,ir),ir|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(sa,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ke(sa,ir),ir|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ke(sa,ir),ir|=n;return qt(t,e,s,r),e.child}function nw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qf(t,e,r,n,s){var a=Xt(r)?mi:Bt.current;return a=Ra(e,a),ua(e,s),r=sg(t,e,r,n,a,s),n=ig(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cn(t,e,s)):(Xe&&n&&Hp(e),e.flags|=1,qt(t,e,r,s),e.child)}function ix(t,e,r,n,s){if(Xt(r)){var a=!0;du(e)}else a=!1;if(ua(e,s),e.stateNode===null)Rc(t,e),Jb(e,r,n),Hf(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=Xt(r)?mi:Bt.current,u=Ra(e,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Xy(e,o,n,u),zn=!1;var m=e.memoizedState;o.state=m,gu(e,n,o,s),c=e.memoizedState,l!==n||m!==c||Jt.current||zn?(typeof h=="function"&&(Vf(e,r,h,n),c=e.memoizedState),(l=zn||Jy(e,r,l,n,m,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Rb(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Tr(e.type,l),o.props=u,d=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=Xt(r)?mi:Bt.current,c=Ra(e,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==c)&&Xy(e,o,n,c),zn=!1,m=e.memoizedState,o.state=m,gu(e,n,o,s);var g=e.memoizedState;l!==d||m!==g||Jt.current||zn?(typeof v=="function"&&(Vf(e,r,v,n),g=e.memoizedState),(u=zn||Jy(e,r,u,n,m,g,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Kf(t,e,r,n,a,s)}function Kf(t,e,r,n,s,a){nw(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Wy(e,r,!1),Cn(t,e,a);n=e.stateNode,E2.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Aa(e,t.child,null,a),e.child=Aa(e,null,l,a)):qt(t,e,l,a),e.memoizedState=n.state,s&&Wy(e,r,!0),e.child}function sw(t){var e=t.stateNode;e.pendingContext?qy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qy(t,e.context,!1),eg(t,e.containerInfo)}function ax(t,e,r,n,s){return Ta(),Qp(s),e.flags|=256,qt(t,e,r,n),e.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function iw(t,e,r){var n=e.pendingProps,s=rt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(rt,s&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=cd(o,n,0,null),t=ci(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Gf(r),e.memoizedState=Yf,t):lg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return P2(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=gs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=gs(l,a):(a=ci(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Gf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Yf,n}return a=t.child,t=a.sibling,n=gs(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lg(t,e){return e=cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,r,n){return n!==null&&Qp(n),Aa(e,t.child,null,r),t=lg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P2(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=hh(Error(G(422))),cc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=cd({mode:"visible",children:n.children},s,0,null),a=ci(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Aa(e,t.child,null,o),e.child.memoizedState=Gf(o),e.memoizedState=Yf,a);if(!(e.mode&1))return cc(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(G(419)),n=hh(a,n,void 0),cc(t,e,o,n)}if(l=(o&t.childLanes)!==0,Gt||l){if(n=Nt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Sn(t,s),Dr(n,t,s,-1))}return mg(),n=hh(Error(G(421))),cc(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z2.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,ar=hs(s.nextSibling),or=e,Xe=!0,Ir=null,t!==null&&(yr[xr++]=xn,yr[xr++]=vn,yr[xr++]=pi,xn=t.id,vn=t.overflow,pi=e),e=lg(e,n.children),e.flags|=4096,e)}function ox(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Wf(t.return,e,r)}function fh(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function aw(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(qt(t,e,n.children,r),n=rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ox(t,r,e);else if(t.tag===19)ox(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ke(rt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&yu(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),fh(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}fh(e,!0,r,null,a);break;case"together":fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,r=gs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=gs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function O2(t,e,r){switch(e.tag){case 3:sw(e),Ta();break;case 5:Tb(e);break;case 1:Xt(e.type)&&du(e);break;case 4:eg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ke(mu,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):r&e.child.childLanes?iw(t,e,r):(Ke(rt,rt.current&1),t=Cn(t,e,r),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return aw(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return e.lanes=0,rw(t,e,r)}return Cn(t,e,r)}var ow,Jf,lw,cw;ow=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jf=function(){};lw=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Qs(sn.current);var a=null;switch(r){case"input":s=_f(t,s),n=_f(t,n),a=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),a=[];break;case"textarea":s=jf(t,s),n=jf(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cu)}kf(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};cw=function(t,e,r,n){r!==n&&(e.flags|=4)};function xo(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function R2(t,e,r){var n=e.pendingProps;switch(Zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Xt(e.type)&&uu(),At(e),null;case 3:return n=e.stateNode,$a(),Je(Jt),Je(Bt),rg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(am(Ir),Ir=null))),Jf(t,e),At(e),null;case 5:tg(e);var s=Qs(ul.current);if(r=e.type,t!==null&&e.stateNode!=null)lw(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(G(166));return At(e),null}if(t=Qs(sn.current),oc(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[rn]=e,n[ll]=a,t=(e.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<Ro.length;s++)Ye(Ro[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":gy(n,a),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n);break;case"textarea":xy(n,a),Ye("invalid",n)}kf(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ac(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ac(n.textContent,l,t),s=["children",""+l]):Jo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Jl(n),yy(n,a,!0);break;case"textarea":Jl(n),vy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=cu)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[rn]=e,t[ll]=n,ow(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sf(r,n),r){case"dialog":Ye("cancel",t),Ye("close",t),s=n;break;case"iframe":case"object":case"embed":Ye("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ro.length;s++)Ye(Ro[s],t);s=n;break;case"source":Ye("error",t),s=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=n;break;case"details":Ye("toggle",t),s=n;break;case"input":gy(t,n),s=_f(t,n),Ye("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":xy(t,n),s=jf(t,n),Ye("invalid",t);break;default:s=n}kf(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?B_(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M_(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xo(t,c):typeof c=="number"&&Xo(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ye("scroll",t):c!=null&&Tp(t,a,c,o))}switch(r){case"input":Jl(t),yy(t,n,!1);break;case"textarea":Jl(t),vy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+js(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?aa(t,!!n.multiple,a,!1):n.defaultValue!=null&&aa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)cw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(G(166));if(r=Qs(ul.current),Qs(sn.current),oc(e)){if(n=e.stateNode,r=e.memoizedProps,n[rn]=e,(a=n.nodeValue!==r)&&(t=or,t!==null))switch(t.tag){case 3:ac(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rn]=e,e.stateNode=n}return At(e),null;case 13:if(Je(rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&ar!==null&&e.mode&1&&!(e.flags&128))Cb(),Ta(),e.flags|=98560,a=!1;else if(a=oc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(G(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[rn]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),a=!1}else Ir!==null&&(am(Ir),Ir=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?_t===0&&(_t=3):mg())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return $a(),Jf(t,e),t===null&&al(e.stateNode.containerInfo),At(e),null;case 10:return Gp(e.type._context),At(e),null;case 17:return Xt(e.type)&&uu(),At(e),null;case 19:if(Je(rt),a=e.memoizedState,a===null)return At(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)xo(a,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yu(t),o!==null){for(e.flags|=128,xo(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ut()>Fa&&(e.flags|=128,n=!0,xo(a,!1),e.lanes=4194304)}else{if(!n)if(t=yu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Xe)return At(e),null}else 2*ut()-a.renderingStartTime>Fa&&r!==1073741824&&(e.flags|=128,n=!0,xo(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),e):(At(e),null);case 22:case 23:return fg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ir&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function T2(t,e){switch(Zp(e),e.tag){case 1:return Xt(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Je(Jt),Je(Bt),rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tg(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return $a(),null;case 10:return Gp(e.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var uc=!1,Ft=!1,A2=typeof WeakSet=="function"?WeakSet:Set,ce=null;function na(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){lt(t,e,n)}else r.current=null}function Xf(t,e,r){try{r()}catch(n){lt(t,e,n)}}var lx=!1;function $2(t,e){if(Ff=au,t=mb(),Vp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=t,m=null;t:for(;;){for(var v;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==a||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===t)break t;if(m===r&&++u===s&&(l=o),m===a&&++h===n&&(c=o),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(If={focusedElem:t,selectionRange:r},au=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,j=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:Tr(e.type,x),j);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){lt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=lx,lx=!1,g}function Wo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&Xf(e,r,a)}s=s.next}while(s!==n)}}function od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function em(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function uw(t){var e=t.alternate;e!==null&&(t.alternate=null,uw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[ll],delete e[Bf],delete e[g2],delete e[y2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dw(t){return t.tag===5||t.tag===3||t.tag===4}function cx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cu));else if(n!==4&&(t=t.child,t!==null))for(tm(t,e,r),t=t.sibling;t!==null;)tm(t,e,r),t=t.sibling}function rm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(rm(t,e,r),t=t.sibling;t!==null;)rm(t,e,r),t=t.sibling}var Ct=null,Lr=!1;function $n(t,e,r){for(r=r.child;r!==null;)hw(t,e,r),r=r.sibling}function hw(t,e,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Xu,r)}catch{}switch(r.tag){case 5:Ft||na(r,e);case 6:var n=Ct,s=Lr;Ct=null,$n(t,e,r),Ct=n,Lr=s,Ct!==null&&(Lr?(t=Ct,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Lr?(t=Ct,r=r.stateNode,t.nodeType===8?ah(t.parentNode,r):t.nodeType===1&&ah(t,r),nl(t)):ah(Ct,r.stateNode));break;case 4:n=Ct,s=Lr,Ct=r.stateNode.containerInfo,Lr=!0,$n(t,e,r),Ct=n,Lr=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Xf(r,e,o),s=s.next}while(s!==n)}$n(t,e,r);break;case 1:if(!Ft&&(na(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){lt(r,e,l)}$n(t,e,r);break;case 21:$n(t,e,r);break;case 22:r.mode&1?(Ft=(n=Ft)||r.memoizedState!==null,$n(t,e,r),Ft=n):$n(t,e,r);break;default:$n(t,e,r)}}function ux(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new A2),e.forEach(function(n){var s=q2.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Er(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ct=l.stateNode,Lr=!1;break e;case 3:Ct=l.stateNode.containerInfo,Lr=!0;break e;case 4:Ct=l.stateNode.containerInfo,Lr=!0;break e}l=l.return}if(Ct===null)throw Error(G(160));hw(a,o,s),Ct=null,Lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){lt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fw(e,t),e=e.sibling}function fw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Hr(t),n&4){try{Wo(3,t,t.return),od(3,t)}catch(x){lt(t,t.return,x)}try{Wo(5,t,t.return)}catch(x){lt(t,t.return,x)}}break;case 1:Er(e,t),Hr(t),n&512&&r!==null&&na(r,r.return);break;case 5:if(Er(e,t),Hr(t),n&512&&r!==null&&na(r,r.return),t.flags&32){var s=t.stateNode;try{Xo(s,"")}catch(x){lt(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&L_(s,a),Sf(l,o);var u=Sf(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?B_(s,d):h==="dangerouslySetInnerHTML"?M_(s,d):h==="children"?Xo(s,d):Tp(s,h,d,u)}switch(l){case"input":bf(s,a);break;case"textarea":F_(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?aa(s,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?aa(s,!!a.multiple,a.defaultValue,!0):aa(s,!!a.multiple,a.multiple?[]:"",!1))}s[ll]=a}catch(x){lt(t,t.return,x)}}break;case 6:if(Er(e,t),Hr(t),n&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(x){lt(t,t.return,x)}}break;case 3:if(Er(e,t),Hr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(x){lt(t,t.return,x)}break;case 4:Er(e,t),Hr(t);break;case 13:Er(e,t),Hr(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(dg=ut())),n&4&&ux(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||h,Er(e,t),Ft=u):Er(e,t),Hr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ce=t,h=t.child;h!==null;){for(d=ce=h;ce!==null;){switch(m=ce,v=m.child,m.tag){case 0:case 11:case 14:case 15:Wo(4,m,m.return);break;case 1:na(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){lt(n,r,x)}}break;case 5:na(m,m.return);break;case 22:if(m.memoizedState!==null){hx(d);continue}}v!==null?(v.return=m,ce=v):hx(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D_("display",o))}catch(x){lt(t,t.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){lt(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Er(e,t),Hr(t),n&4&&ux(t);break;case 21:break;default:Er(e,t),Hr(t)}}function Hr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dw(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xo(s,""),n.flags&=-33);var a=cx(t);rm(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=cx(t);tm(t,l,o);break;default:throw Error(G(161))}}catch(c){lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L2(t,e,r){ce=t,mw(t)}function mw(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var s=ce,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||uc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ft;l=uc;var u=Ft;if(uc=o,(Ft=c)&&!u)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?fx(s):c!==null?(c.return=o,ce=c):fx(s);for(;a!==null;)ce=a,mw(a),a=a.sibling;ce=s,uc=l,Ft=u}dx(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ce=a):dx(t)}}function dx(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||od(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ft)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Tr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Ky(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ky(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&nl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ft||e.flags&512&&em(e)}catch(m){lt(e,e.return,m)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function hx(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function fx(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{od(4,e)}catch(c){lt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){lt(e,s,c)}}var a=e.return;try{em(e)}catch(c){lt(e,a,c)}break;case 5:var o=e.return;try{em(e)}catch(c){lt(e,o,c)}}}catch(c){lt(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var F2=Math.ceil,_u=On.ReactCurrentDispatcher,cg=On.ReactCurrentOwner,br=On.ReactCurrentBatchConfig,Ie=0,Nt=null,gt=null,Et=0,ir=0,sa=Os(0),_t=0,ml=null,yi=0,ld=0,ug=0,Vo=null,Yt=null,dg=0,Fa=1/0,hn=null,bu=!1,nm=null,ms=null,dc=!1,is=null,wu=0,Ho=0,sm=null,Tc=-1,Ac=0;function Wt(){return Ie&6?ut():Tc!==-1?Tc:Tc=ut()}function ps(t){return t.mode&1?Ie&2&&Et!==0?Et&-Et:v2.transition!==null?(Ac===0&&(Ac=J_()),Ac):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:ib(t.type)),t):1}function Dr(t,e,r,n){if(50<Ho)throw Ho=0,sm=null,Error(G(185));Il(t,r,n),(!(Ie&2)||t!==Nt)&&(t===Nt&&(!(Ie&2)&&(ld|=r),_t===4&&Hn(t,Et)),er(t,n),r===1&&Ie===0&&!(e.mode&1)&&(Fa=ut()+500,sd&&Rs()))}function er(t,e){var r=t.callbackNode;vk(t,e);var n=iu(t,t===Nt?Et:0);if(n===0)r!==null&&wy(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wy(r),e===1)t.tag===0?x2(mx.bind(null,t)):Nb(mx.bind(null,t)),m2(function(){!(Ie&6)&&Rs()}),r=null;else{switch(X_(n)){case 1:r=Ip;break;case 4:r=Y_;break;case 16:r=su;break;case 536870912:r=G_;break;default:r=su}r=ww(r,pw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pw(t,e){if(Tc=-1,Ac=0,Ie&6)throw Error(G(327));var r=t.callbackNode;if(da()&&t.callbackNode!==r)return null;var n=iu(t,t===Nt?Et:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ju(t,n);else{e=n;var s=Ie;Ie|=2;var a=yw();(Nt!==t||Et!==e)&&(hn=null,Fa=ut()+500,li(t,e));do try{D2();break}catch(l){gw(t,l)}while(!0);Yp(),_u.current=a,Ie=s,gt!==null?e=0:(Nt=null,Et=0,e=_t)}if(e!==0){if(e===2&&(s=Rf(t),s!==0&&(n=s,e=im(t,s))),e===1)throw r=ml,li(t,0),Hn(t,n),er(t,ut()),r;if(e===6)Hn(t,n);else{if(s=t.current.alternate,!(n&30)&&!I2(s)&&(e=ju(t,n),e===2&&(a=Rf(t),a!==0&&(n=a,e=im(t,a))),e===1))throw r=ml,li(t,0),Hn(t,n),er(t,ut()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(G(345));case 2:Us(t,Yt,hn);break;case 3:if(Hn(t,n),(n&130023424)===n&&(e=dg+500-ut(),10<e)){if(iu(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Df(Us.bind(null,t,Yt,hn),e);break}Us(t,Yt,hn);break;case 4:if(Hn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Mr(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*F2(n/1960))-n,10<n){t.timeoutHandle=Df(Us.bind(null,t,Yt,hn),n);break}Us(t,Yt,hn);break;case 5:Us(t,Yt,hn);break;default:throw Error(G(329))}}}return er(t,ut()),t.callbackNode===r?pw.bind(null,t):null}function im(t,e){var r=Vo;return t.current.memoizedState.isDehydrated&&(li(t,e).flags|=256),t=ju(t,e),t!==2&&(e=Yt,Yt=r,e!==null&&am(e)),t}function am(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function I2(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Ur(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e){for(e&=~ug,e&=~ld,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Mr(e),n=1<<r;t[r]=-1,e&=~n}}function mx(t){if(Ie&6)throw Error(G(327));da();var e=iu(t,0);if(!(e&1))return er(t,ut()),null;var r=ju(t,e);if(t.tag!==0&&r===2){var n=Rf(t);n!==0&&(e=n,r=im(t,n))}if(r===1)throw r=ml,li(t,0),Hn(t,e),er(t,ut()),r;if(r===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,Yt,hn),er(t,ut()),null}function hg(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(Fa=ut()+500,sd&&Rs())}}function xi(t){is!==null&&is.tag===0&&!(Ie&6)&&da();var e=Ie;Ie|=1;var r=br.transition,n=Qe;try{if(br.transition=null,Qe=1,t)return t()}finally{Qe=n,br.transition=r,Ie=e,!(Ie&6)&&Rs()}}function fg(){ir=sa.current,Je(sa)}function li(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,f2(r)),gt!==null)for(r=gt.return;r!==null;){var n=r;switch(Zp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&uu();break;case 3:$a(),Je(Jt),Je(Bt),rg();break;case 5:tg(n);break;case 4:$a();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Gp(n.type._context);break;case 22:case 23:fg()}r=r.return}if(Nt=t,gt=t=gs(t.current,null),Et=ir=e,_t=0,ml=null,ug=ld=yi=0,Yt=Vo=null,Zs!==null){for(e=0;e<Zs.length;e++)if(r=Zs[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Zs=null}return t}function gw(t,e){do{var r=gt;try{if(Yp(),Pc.current=vu,xu){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xu=!1}if(gi=0,wt=vt=nt=null,qo=!1,dl=0,cg.current=null,r===null||r.return===null){_t=1,ml=e,gt=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=tx(o);if(v!==null){v.flags&=-257,rx(v,o,l,a,e),v.mode&1&&ex(a,u,e),e=v,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){ex(a,u,e),mg();break e}c=Error(G(426))}}else if(Xe&&l.mode&1){var j=tx(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),rx(j,o,l,a,e),Qp(La(c,l));break e}}a=c=La(c,l),_t!==4&&(_t=2),Vo===null?Vo=[a]:Vo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=Xb(a,c,e);Qy(a,p);break e;case 1:l=c;var y=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ms===null||!ms.has(f)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=ew(a,l,e);Qy(a,_);break e}}a=a.return}while(a!==null)}vw(r)}catch(k){e=k,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function yw(){var t=_u.current;return _u.current=vu,t===null?vu:t}function mg(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(yi&268435455)&&!(ld&268435455)||Hn(Nt,Et)}function ju(t,e){var r=Ie;Ie|=2;var n=yw();(Nt!==t||Et!==e)&&(hn=null,li(t,e));do try{M2();break}catch(s){gw(t,s)}while(!0);if(Yp(),Ie=r,_u.current=n,gt!==null)throw Error(G(261));return Nt=null,Et=0,_t}function M2(){for(;gt!==null;)xw(gt)}function D2(){for(;gt!==null&&!uk();)xw(gt)}function xw(t){var e=bw(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?vw(t):gt=e,cg.current=null}function vw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=T2(r,e),r!==null){r.flags&=32767,gt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,gt=null;return}}else if(r=R2(r,e,ir),r!==null){gt=r;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);_t===0&&(_t=5)}function Us(t,e,r){var n=Qe,s=br.transition;try{br.transition=null,Qe=1,B2(t,e,r,n)}finally{br.transition=s,Qe=n}return null}function B2(t,e,r,n){do da();while(is!==null);if(Ie&6)throw Error(G(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(_k(t,a),t===Nt&&(gt=Nt=null,Et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dc||(dc=!0,ww(su,function(){return da(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=br.transition,br.transition=null;var o=Qe;Qe=1;var l=Ie;Ie|=4,cg.current=null,$2(t,r),fw(r,t),a2(If),au=!!Ff,If=Ff=null,t.current=r,L2(r),dk(),Ie=l,Qe=o,br.transition=a}else t.current=r;if(dc&&(dc=!1,is=t,wu=s),a=t.pendingLanes,a===0&&(ms=null),mk(r.stateNode),er(t,ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(bu)throw bu=!1,t=nm,nm=null,t;return wu&1&&t.tag!==0&&da(),a=t.pendingLanes,a&1?t===sm?Ho++:(Ho=0,sm=t):Ho=0,Rs(),null}function da(){if(is!==null){var t=X_(wu),e=br.transition,r=Qe;try{if(br.transition=null,Qe=16>t?16:t,is===null)var n=!1;else{if(t=is,is=null,wu=0,Ie&6)throw Error(G(331));var s=Ie;for(Ie|=4,ce=t.current;ce!==null;){var a=ce,o=a.child;if(ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var h=ce;switch(h.tag){case 0:case 11:case 15:Wo(8,h,a)}var d=h.child;if(d!==null)d.return=h,ce=d;else for(;ce!==null;){h=ce;var m=h.sibling,v=h.return;if(uw(h),h===u){ce=null;break}if(m!==null){m.return=v,ce=m;break}ce=v}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ce=o;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wo(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,ce=p;break e}ce=a.return}}var y=t.current;for(ce=y;ce!==null;){o=ce;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,ce=f;else e:for(o=y;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:od(9,l)}}catch(k){lt(l,l.return,k)}if(l===o){ce=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ce=_;break e}ce=l.return}}if(Ie=s,Rs(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Xu,t)}catch{}n=!0}return n}finally{Qe=r,br.transition=e}}return!1}function px(t,e,r){e=La(r,e),e=Xb(t,e,1),t=fs(t,e,1),e=Wt(),t!==null&&(Il(t,1,e),er(t,e))}function lt(t,e,r){if(t.tag===3)px(t,t,r);else for(;e!==null;){if(e.tag===3){px(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ms===null||!ms.has(n))){t=La(r,t),t=ew(e,t,1),e=fs(e,t,1),t=Wt(),e!==null&&(Il(e,1,t),er(e,t));break}}e=e.return}}function U2(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&r,Nt===t&&(Et&r)===r&&(_t===4||_t===3&&(Et&130023424)===Et&&500>ut()-dg?li(t,0):ug|=r),er(t,e)}function _w(t,e){e===0&&(t.mode&1?(e=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):e=1);var r=Wt();t=Sn(t,e),t!==null&&(Il(t,e,r),er(t,r))}function z2(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_w(t,r)}function q2(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(e),_w(t,r)}var bw;bw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Gt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gt=!1,O2(t,e,r);Gt=!!(t.flags&131072)}else Gt=!1,Xe&&e.flags&1048576&&kb(e,fu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rc(t,e),t=e.pendingProps;var s=Ra(e,Bt.current);ua(e,r),s=sg(null,e,n,t,s,r);var a=ig();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(n)?(a=!0,du(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xp(e),s.updater=ad,e.stateNode=s,s._reactInternals=e,Hf(e,n,t,r),e=Kf(null,e,n,!0,a,r)):(e.tag=0,Xe&&a&&Hp(e),qt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=V2(n),t=Tr(n,t),s){case 0:e=Qf(null,e,n,t,r);break e;case 1:e=ix(null,e,n,t,r);break e;case 11:e=nx(null,e,n,t,r);break e;case 14:e=sx(null,e,n,Tr(n.type,t),r);break e}throw Error(G(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tr(n,s),Qf(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tr(n,s),ix(t,e,n,s,r);case 3:e:{if(sw(e),t===null)throw Error(G(387));n=e.pendingProps,a=e.memoizedState,s=a.element,Rb(t,e),gu(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=La(Error(G(423)),e),e=ax(t,e,n,r,s);break e}else if(n!==s){s=La(Error(G(424)),e),e=ax(t,e,n,r,s);break e}else for(ar=hs(e.stateNode.containerInfo.firstChild),or=e,Xe=!0,Ir=null,r=Pb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ta(),n===s){e=Cn(t,e,r);break e}qt(t,e,n,r)}e=e.child}return e;case 5:return Tb(e),t===null&&qf(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,Mf(n,s)?o=null:a!==null&&Mf(n,a)&&(e.flags|=32),nw(t,e),qt(t,e,o,r),e.child;case 6:return t===null&&qf(e),null;case 13:return iw(t,e,r);case 4:return eg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Aa(e,null,n,r):qt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tr(n,s),nx(t,e,n,s,r);case 7:return qt(t,e,e.pendingProps,r),e.child;case 8:return qt(t,e,e.pendingProps.children,r),e.child;case 12:return qt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Ke(mu,n._currentValue),n._currentValue=o,a!==null)if(Ur(a.value,o)){if(a.children===s.children&&!Jt.current){e=Cn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=wn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Wf(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Wf(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}qt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ua(e,r),s=wr(s),n=n(s),e.flags|=1,qt(t,e,n,r),e.child;case 14:return n=e.type,s=Tr(n,e.pendingProps),s=Tr(n.type,s),sx(t,e,n,s,r);case 15:return tw(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tr(n,s),Rc(t,e),e.tag=1,Xt(n)?(t=!0,du(e)):t=!1,ua(e,r),Jb(e,n,s),Hf(e,n,s,r),Kf(null,e,n,!0,t,r);case 19:return aw(t,e,r);case 22:return rw(t,e,r)}throw Error(G(156,e.tag))};function ww(t,e){return K_(t,e)}function W2(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,r,n){return new W2(t,e,r,n)}function pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V2(t){if(typeof t=="function")return pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$p)return 11;if(t===Lp)return 14}return 2}function gs(t,e){var r=t.alternate;return r===null?(r=_r(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $c(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")pg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qi:return ci(r.children,s,a,e);case Ap:o=8,s|=8;break;case gf:return t=_r(12,r,e,s|2),t.elementType=gf,t.lanes=a,t;case yf:return t=_r(13,r,e,s),t.elementType=yf,t.lanes=a,t;case xf:return t=_r(19,r,e,s),t.elementType=xf,t.lanes=a,t;case T_:return cd(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O_:o=10;break e;case R_:o=9;break e;case $p:o=11;break e;case Lp:o=14;break e;case Un:o=16,n=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=_r(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function ci(t,e,r,n){return t=_r(7,t,n,e),t.lanes=r,t}function cd(t,e,r,n){return t=_r(22,t,n,e),t.elementType=T_,t.lanes=r,t.stateNode={isHidden:!1},t}function mh(t,e,r){return t=_r(6,t,null,e),t.lanes=r,t}function ph(t,e,r){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H2(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gg(t,e,r,n,s,a,o,l,c){return t=new H2(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=_r(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(a),t}function Z2(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function jw(t){if(!t)return Ns;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var r=t.type;if(Xt(r))return jb(t,r,e)}return e}function Nw(t,e,r,n,s,a,o,l,c){return t=gg(r,n,!0,t,s,a,o,l,c),t.context=jw(null),r=t.current,n=Wt(),s=ps(r),a=wn(n,s),a.callback=e??null,fs(r,a,s),t.current.lanes=s,Il(t,s,n),er(t,n),t}function ud(t,e,r,n){var s=e.current,a=Wt(),o=ps(s);return r=jw(r),e.context===null?e.context=r:e.pendingContext=r,e=wn(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=fs(s,e,o),t!==null&&(Dr(t,s,o,a),Ec(t,s,o)),o}function Nu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function yg(t,e){gx(t,e),(t=t.alternate)&&gx(t,e)}function Q2(){return null}var kw=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}dd.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));ud(t,e,null,null)};dd.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){ud(null,t,null,null)}),e[kn]=null}};function dd(t){this._internalRoot=t}dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=rb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vn.length&&e!==0&&e<Vn[r].priority;r++);Vn.splice(r,0,t),r===0&&sb(t)}};function vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yx(){}function K2(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Nu(o);a.call(u)}}var o=Nw(e,n,t,0,null,!1,!1,"",yx);return t._reactRootContainer=o,t[kn]=o.current,al(t.nodeType===8?t.parentNode:t),xi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Nu(c);l.call(u)}}var c=gg(t,0,!1,null,null,!1,!1,"",yx);return t._reactRootContainer=c,t[kn]=c.current,al(t.nodeType===8?t.parentNode:t),xi(function(){ud(e,c,r,n)}),c}function fd(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Nu(o);l.call(c)}}ud(e,o,t,s)}else o=K2(r,e,t,s,n);return Nu(o)}eb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Oo(e.pendingLanes);r!==0&&(Mp(e,r|1),er(e,ut()),!(Ie&6)&&(Fa=ut()+500,Rs()))}break;case 13:xi(function(){var n=Sn(t,1);if(n!==null){var s=Wt();Dr(n,t,1,s)}}),yg(t,1)}};Dp=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var r=Wt();Dr(e,t,134217728,r)}yg(t,134217728)}};tb=function(t){if(t.tag===13){var e=ps(t),r=Sn(t,e);if(r!==null){var n=Wt();Dr(r,t,e,n)}yg(t,e)}};rb=function(){return Qe};nb=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};Ef=function(t,e,r){switch(e){case"input":if(bf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=nd(n);if(!s)throw Error(G(90));$_(n),bf(n,s)}}}break;case"textarea":F_(t,r);break;case"select":e=r.value,e!=null&&aa(t,!!r.multiple,e,!1)}};q_=hg;W_=xi;var Y2={usingClientEntryPoint:!1,Events:[Dl,Ji,nd,U_,z_,hg]},vo={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G2={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z_(t),t===null?null:t.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Xu=hc.inject(G2),nn=hc}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2;ur.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vg(e))throw Error(G(200));return Z2(t,e,null,r)};ur.createRoot=function(t,e){if(!vg(t))throw Error(G(299));var r=!1,n="",s=kw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gg(t,1,!1,null,null,r,!1,n,s),t[kn]=e.current,al(t.nodeType===8?t.parentNode:t),new xg(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Z_(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return xi(t)};ur.hydrate=function(t,e,r){if(!hd(e))throw Error(G(200));return fd(null,t,e,!0,r)};ur.hydrateRoot=function(t,e,r){if(!vg(t))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=kw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Nw(e,null,t,1,r??null,s,!1,a,o),t[kn]=e.current,al(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new dd(e)};ur.render=function(t,e,r){if(!hd(e))throw Error(G(200));return fd(null,t,e,!1,r)};ur.unmountComponentAtNode=function(t){if(!hd(t))throw Error(G(40));return t._reactRootContainer?(xi(function(){fd(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1};ur.unstable_batchedUpdates=hg;ur.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hd(r))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return fd(t,e,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(t){console.error(t)}}Sw(),S_.exports=ur;var J2=S_.exports,Cw,xx=J2;Cw=xx.createRoot,xx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pl.apply(this,arguments)}var as;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(as||(as={}));const vx="popstate";function X2(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return om("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ku(s)}return tS(e,r,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ew(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eS(){return Math.random().toString(36).substr(2,8)}function _x(t,e){return{usr:t.state,key:t.key,idx:e}}function om(t,e,r,n){return r===void 0&&(r=null),pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:r,key:e&&e.key||n||eS()})}function ku(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ro(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function tS(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=as.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(pl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=as.Pop;let j=h(),p=j==null?null:j-u;u=j,c&&c({action:l,location:x.location,delta:p})}function m(j,p){l=as.Push;let y=om(x.location,j,p);u=h()+1;let f=_x(y,u),_=x.createHref(y);try{o.pushState(f,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}a&&c&&c({action:l,location:x.location,delta:1})}function v(j,p){l=as.Replace;let y=om(x.location,j,p);u=h();let f=_x(y,u),_=x.createHref(y);o.replaceState(f,"",_),a&&c&&c({action:l,location:x.location,delta:0})}function g(j){let p=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof j=="string"?j:ku(j);return y=y.replace(/ $/,"%20"),dt(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let x={get action(){return l},get location(){return t(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(vx,d),c=j,()=>{s.removeEventListener(vx,d),c=null}},createHref(j){return e(s,j)},createURL:g,encodeLocation(j){let p=g(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:v,go(j){return o.go(j)}};return x}var bx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bx||(bx={}));function rS(t,e,r){return r===void 0&&(r="/"),nS(t,e,r)}function nS(t,e,r,n){let s=typeof e=="string"?ro(e):e,a=_g(s.pathname||"/",r);if(a==null)return null;let o=Pw(t);sS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=gS(a);l=fS(o[c],u)}return l}function Pw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ys([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Pw(a.children,e,h,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:dS(u,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Ow(a.path))s(a,o,c)}),e}function Ow(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Ow(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function sS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:hS(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const iS=/^:[\w-]+$/,aS=3,oS=2,lS=1,cS=10,uS=-2,wx=t=>t==="*";function dS(t,e){let r=t.split("/"),n=r.length;return r.some(wx)&&(n+=uS),e&&(n+=oS),r.filter(s=>!wx(s)).reduce((s,a)=>s+(iS.test(a)?aS:a===""?lS:cS),n)}function hS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function fS(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",d=mS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ys([a,d.pathname]),pathnameBase:_S(ys([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=ys([a,d.pathnameBase]))}return o}function mS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=pS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let x=l[d]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[d];return v&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function pS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ew(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function gS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ew(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _g(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function yS(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ro(t):t;return{pathname:r?r.startsWith("/")?r:xS(r,e):e,search:bS(n),hash:wS(s)}}function xS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function gh(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bg(t,e){let r=vS(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wg(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ro(t):(s=pl({},t),dt(!s.pathname||!s.pathname.includes("?"),gh("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),gh("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),gh("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}l=d>=0?e[d]:"/"}let c=yS(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ys=t=>t.join("/").replace(/\/\/+/g,"/"),_S=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rw=["post","put","patch","delete"];new Set(Rw);const NS=["get",...Rw];new Set(NS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(this,arguments)}const jg=w.createContext(null),kS=w.createContext(null),Ts=w.createContext(null),md=w.createContext(null),Rn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Tw=w.createContext(null);function SS(t,e){let{relative:r}=e===void 0?{}:e;no()||dt(!1);let{basename:n,navigator:s}=w.useContext(Ts),{hash:a,pathname:o,search:l}=$w(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ys([n,o])),s.createHref({pathname:c,search:l,hash:a})}function no(){return w.useContext(md)!=null}function qr(){return no()||dt(!1),w.useContext(md).location}function Aw(t){w.useContext(Ts).static||w.useLayoutEffect(t)}function et(){let{isDataRoute:t}=w.useContext(Rn);return t?DS():CS()}function CS(){no()||dt(!1);let t=w.useContext(jg),{basename:e,future:r,navigator:n}=w.useContext(Ts),{matches:s}=w.useContext(Rn),{pathname:a}=qr(),o=JSON.stringify(bg(s,r.v7_relativeSplatPath)),l=w.useRef(!1);return Aw(()=>{l.current=!0}),w.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=wg(u,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ys([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,o,a,t])}function cn(){let{matches:t}=w.useContext(Rn),e=t[t.length-1];return e?e.params:{}}function $w(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Ts),{matches:s}=w.useContext(Rn),{pathname:a}=qr(),o=JSON.stringify(bg(s,n.v7_relativeSplatPath));return w.useMemo(()=>wg(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function ES(t,e){return PS(t,e)}function PS(t,e,r,n){no()||dt(!1);let{navigator:s}=w.useContext(Ts),{matches:a}=w.useContext(Rn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=qr(),h;if(e){var d;let j=typeof e=="string"?ro(e):e;c==="/"||(d=j.pathname)!=null&&d.startsWith(c)||dt(!1),h=j}else h=u;let m=h.pathname||"/",v=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=rS(t,{pathname:v}),x=$S(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:ys([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:ys([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return e&&x?w.createElement(md.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:as.Pop}},x):x}function OS(){let t=MS(),e=jS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:s},r):null,null)}const RS=w.createElement(OS,null);class TS extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Rn.Provider,{value:this.props.routeContext},w.createElement(Tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AS(t){let{routeContext:e,match:r,children:n}=t,s=w.useContext(jg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Rn.Provider,{value:e},n)}function $S(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||dt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:v}=r,g=d.route.loader&&m[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,m)=>{let v,g=!1,x=null,j=null;r&&(v=l&&d.route.id?l[d.route.id]:void 0,x=d.route.errorElement||RS,c&&(u<0&&m===0?(BS("route-fallback"),g=!0,j=null):u===m&&(g=!0,j=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,m+1)),y=()=>{let f;return v?f=x:g?f=j:d.route.Component?f=w.createElement(d.route.Component,null):d.route.element?f=d.route.element:f=h,w.createElement(AS,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:f})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?w.createElement(TS,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var Lw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lw||{}),Fw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fw||{});function LS(t){let e=w.useContext(jg);return e||dt(!1),e}function FS(t){let e=w.useContext(kS);return e||dt(!1),e}function IS(t){let e=w.useContext(Rn);return e||dt(!1),e}function Iw(t){let e=IS(),r=e.matches[e.matches.length-1];return r.route.id||dt(!1),r.route.id}function MS(){var t;let e=w.useContext(Tw),r=FS(),n=Iw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function DS(){let{router:t}=LS(Lw.UseNavigateStable),e=Iw(Fw.UseNavigateStable),r=w.useRef(!1);return Aw(()=>{r.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gl({fromRouteId:e},a)))},[t,e])}const jx={};function BS(t,e,r){jx[t]||(jx[t]=!0)}function US(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zS(t){let{to:e,replace:r,state:n,relative:s}=t;no()||dt(!1);let{future:a,static:o}=w.useContext(Ts),{matches:l}=w.useContext(Rn),{pathname:c}=qr(),u=et(),h=wg(e,bg(l,a.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(h);return w.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function He(t){dt(!1)}function qS(t){let{basename:e="/",children:r=null,location:n,navigationType:s=as.Pop,navigator:a,static:o=!1,future:l}=t;no()&&dt(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:gl({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ro(n));let{pathname:h="/",search:d="",hash:m="",state:v=null,key:g="default"}=n,x=w.useMemo(()=>{let j=_g(h,c);return j==null?null:{location:{pathname:j,search:d,hash:m,state:v,key:g},navigationType:s}},[c,h,d,m,v,g,s]);return x==null?null:w.createElement(Ts.Provider,{value:u},w.createElement(md.Provider,{children:r,value:x}))}function WS(t){let{children:e,location:r}=t;return ES(lm(e),r)}new Promise(()=>{});function lm(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,s)=>{if(!w.isValidElement(n))return;let a=[...e,s];if(n.type===w.Fragment){r.push.apply(r,lm(n.props.children,a));return}n.type!==He&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lm(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(this,arguments)}function VS(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function HS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZS(t,e){return t.button===0&&(!e||e==="_self")&&!HS(t)}function um(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function QS(t,e){let r=um(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const KS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YS="6";try{window.__reactRouterVersion=YS}catch{}const GS="startTransition",Nx=N_[GS];function JS(t){let{basename:e,children:r,future:n,window:s}=t,a=w.useRef();a.current==null&&(a.current=X2({window:s,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=w.useCallback(d=>{u&&Nx?Nx(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.useEffect(()=>US(n),[n]),w.createElement(qS,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const XS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V=w.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,m=VS(e,KS),{basename:v}=w.useContext(Ts),g,x=!1;if(typeof u=="string"&&eC.test(u)&&(g=u,XS))try{let f=new URL(window.location.href),_=u.startsWith("//")?new URL(f.protocol+u):new URL(u),k=_g(_.pathname,v);_.origin===f.origin&&k!=null?u=k+_.search+_.hash:x=!0}catch{}let j=SS(u,{relative:s}),p=tC(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:d});function y(f){n&&n(f),f.defaultPrevented||p(f)}return w.createElement("a",cm({},m,{href:g||j,onClick:x||a?n:y,ref:r,target:c}))});var kx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kx||(kx={}));var Sx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sx||(Sx={}));function tC(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=et(),u=qr(),h=$w(t,{relative:o});return w.useCallback(d=>{if(ZS(d,r)){d.preventDefault();let m=n!==void 0?n:ku(u)===ku(h);c(t,{replace:m,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,n,s,r,t,a,o,l])}function Ng(t){let e=w.useRef(um(t)),r=w.useRef(!1),n=qr(),s=w.useMemo(()=>QS(n.search,r.current?null:e.current),[n.search]),a=et(),o=w.useCallback((l,c)=>{const u=um(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var Ti=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vi=typeof window>"u"||"Deno"in globalThis;function Lt(){}function rC(t,e){return typeof t=="function"?t(e):t}function dm(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mw(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xs(t,e){return typeof t=="function"?t(e):t}function gr(t,e){return typeof t=="function"?t(e):t}function Cx(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==kg(o,e.options))return!1}else if(!yl(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function Ex(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(_i(e.options.mutationKey)!==_i(a))return!1}else if(!yl(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function kg(t,e){return((e==null?void 0:e.queryKeyHashFn)||_i)(t)}function _i(t){return JSON.stringify(t,(e,r)=>hm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function yl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>yl(t[r],e[r])):!1}function Sg(t,e){if(t===e)return t;const r=Px(t)&&Px(e);if(r||hm(t)&&hm(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let h=0;h<o;h++){const d=r?h:a[h];(!r&&c.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,u++):(l[d]=Sg(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function Su(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Px(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hm(t){if(!Ox(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ox(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function nC(t){return new Promise(e=>{setTimeout(e,t)})}function fm(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Sg(t,e):e}function sC(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function iC(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Cg=Symbol();function Dw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Bw(t,e){return typeof t=="function"?t(...e):!!t}var Js,Zn,pa,n_,aC=(n_=class extends Ti{constructor(){super();ue(this,Js);ue(this,Zn);ue(this,pa);te(this,pa,e=>{if(!vi&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,Zn)||this.setEventListener(O(this,pa))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Zn))==null||e.call(this),te(this,Zn,void 0))}setEventListener(e){var r;te(this,pa,e),(r=O(this,Zn))==null||r.call(this),te(this,Zn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){O(this,Js)!==e&&(te(this,Js,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof O(this,Js)=="boolean"?O(this,Js):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Js=new WeakMap,Zn=new WeakMap,pa=new WeakMap,n_),Eg=new aC,ga,Qn,ya,s_,oC=(s_=class extends Ti{constructor(){super();ue(this,ga,!0);ue(this,Qn);ue(this,ya);te(this,ya,e=>{if(!vi&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Qn)||this.setEventListener(O(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Qn))==null||e.call(this),te(this,Qn,void 0))}setEventListener(e){var r;te(this,ya,e),(r=O(this,Qn))==null||r.call(this),te(this,Qn,e(this.setOnline.bind(this)))}setOnline(e){O(this,ga)!==e&&(te(this,ga,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return O(this,ga)}},ga=new WeakMap,Qn=new WeakMap,ya=new WeakMap,s_),Cu=new oC;function mm(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function lC(t){return Math.min(1e3*2**t,3e4)}function Uw(t){return(t??"online")==="online"?Cu.isOnline():!0}var zw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yh(t){return t instanceof zw}function qw(t){let e=!1,r=0,n=!1,s;const a=mm(),o=x=>{var j;n||(m(new zw(x)),(j=t.abort)==null||j.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Eg.isFocused()&&(t.networkMode==="always"||Cu.isOnline())&&t.canRun(),h=()=>Uw(t.networkMode)&&t.canRun(),d=x=>{var j;n||(n=!0,(j=t.onSuccess)==null||j.call(t,x),s==null||s(),a.resolve(x))},m=x=>{var j;n||(n=!0,(j=t.onError)==null||j.call(t,x),s==null||s(),a.reject(x))},v=()=>new Promise(x=>{var j;s=p=>{(n||u())&&x(p)},(j=t.onPause)==null||j.call(t)}).then(()=>{var x;s=void 0,n||(x=t.onContinue)==null||x.call(t)}),g=()=>{if(n)return;let x;const j=r===0?t.initialPromise:void 0;try{x=j??t.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(d).catch(p=>{var T;if(n)return;const y=t.retry??(vi?0:3),f=t.retryDelay??lC,_=typeof f=="function"?f(r,p):f,k=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(e||!k){m(p);return}r++,(T=t.onFail)==null||T.call(t,r,p),nC(_).then(()=>u()?void 0:v()).then(()=>{e?m(p):g()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?g():v().then(g),a)}}var cC=t=>setTimeout(t,0);function uC(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=cC;const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ct=uC(),Xs,i_,Ww=(i_=class{constructor(){ue(this,Xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dm(this.gcTime)&&te(this,Xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Xs)&&(clearTimeout(O(this,Xs)),te(this,Xs,void 0))}},Xs=new WeakMap,i_),xa,ei,fr,ti,$t,Pl,ri,Ar,dn,a_,dC=(a_=class extends Ww{constructor(e){super();ue(this,Ar);ue(this,xa);ue(this,ei);ue(this,fr);ue(this,ti);ue(this,$t);ue(this,Pl);ue(this,ri);te(this,ri,!1),te(this,Pl,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,ti,e.client),te(this,fr,O(this,ti).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,xa,hC(this.options)),this.state=e.state??O(this,xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,$t))==null?void 0:e.promise}setOptions(e){this.options={...O(this,Pl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,fr).remove(this)}setData(e,r){const n=fm(this.state.data,e,this.options);return ye(this,Ar,dn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ye(this,Ar,dn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=O(this,$t))==null?void 0:n.promise;return(s=O(this,$t))==null||s.cancel(e),r?r.then(Lt).catch(Lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,xa))}isActive(){return this.observers.some(e=>gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Mw(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=O(this,$t))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=O(this,$t))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,fr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(O(this,$t)&&(O(this,ri)?O(this,$t).cancel({revert:!0}):O(this,$t).cancelRetry()),this.scheduleGc()),O(this,fr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,Ar,dn).call(this,{type:"invalidate"})}fetch(e,r){var u,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,$t))return O(this,$t).continueRetry(),O(this,$t).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(te(this,ri,!0),n.signal)})},a=()=>{const m=Dw(this.options,r),g=(()=>{const x={client:O(this,ti),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return te(this,ri,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,ti),state:this.state,fetchFn:a};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),te(this,ei,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&ye(this,Ar,dn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=m=>{var v,g,x,j;yh(m)&&m.silent||ye(this,Ar,dn).call(this,{type:"error",error:m}),yh(m)||((g=(v=O(this,fr).config).onError)==null||g.call(v,m,this),(j=(x=O(this,fr).config).onSettled)==null||j.call(x,this.state.data,m,this)),this.scheduleGc()};return te(this,$t,qw({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var v,g,x,j;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(p){c(p);return}(g=(v=O(this,fr).config).onSuccess)==null||g.call(v,m,this),(j=(x=O(this,fr).config).onSettled)==null||j.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,v)=>{ye(this,Ar,dn).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{ye(this,Ar,dn).call(this,{type:"pause"})},onContinue:()=>{ye(this,Ar,dn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),O(this,$t).start()}},xa=new WeakMap,ei=new WeakMap,fr=new WeakMap,ti=new WeakMap,$t=new WeakMap,Pl=new WeakMap,ri=new WeakMap,Ar=new WeakSet,dn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Vw(n.data,this.options),fetchMeta:e.meta??null};case"success":return te(this,ei,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return yh(s)&&s.revert&&O(this,ei)?{...O(this,ei),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ct.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,fr).notify({query:this,type:"updated",action:e})})},a_);function Vw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gr,o_,fC=(o_=class extends Ti{constructor(e={}){super();ue(this,Gr);this.config=e,te(this,Gr,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??kg(s,r);let o=this.get(a);return o||(o=new dC({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,Gr).has(e.queryHash)||(O(this,Gr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=O(this,Gr).get(e.queryHash);r&&(e.destroy(),r===e&&O(this,Gr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Gr).get(e)}getAll(){return[...O(this,Gr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Cx(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Cx(e,n)):r}notify(e){ct.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ct.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ct.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gr=new WeakMap,o_),Jr,Ut,ni,Xr,Dn,l_,mC=(l_=class extends Ww{constructor(e){super();ue(this,Xr);ue(this,Jr);ue(this,Ut);ue(this,ni);this.mutationId=e.mutationId,te(this,Ut,e.mutationCache),te(this,Jr,[]),this.state=e.state||Hw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,Jr).includes(e)||(O(this,Jr).push(e),this.clearGcTimeout(),O(this,Ut).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,Jr,O(this,Jr).filter(r=>r!==e)),this.scheduleGc(),O(this,Ut).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Ut).remove(this))}continue(){var e;return((e=O(this,ni))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,u,h,d,m,v,g,x,j,p,y,f,_,k,T,P,F;const r=()=>{ye(this,Xr,Dn).call(this,{type:"continue"})};te(this,ni,qw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,z)=>{ye(this,Xr,Dn).call(this,{type:"failed",failureCount:L,error:z})},onPause:()=>{ye(this,Xr,Dn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Ut).canRun(this)}));const n=this.state.status==="pending",s=!O(this,ni).canStart();try{if(n)r();else{ye(this,Xr,Dn).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=O(this,Ut).config).onMutate)==null?void 0:o.call(a,e,this));const z=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));z!==this.state.context&&ye(this,Xr,Dn).call(this,{type:"pending",context:z,variables:e,isPaused:s})}const L=await O(this,ni).start();return await((h=(u=O(this,Ut).config).onSuccess)==null?void 0:h.call(u,L,e,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,L,e,this.state.context)),await((g=(v=O(this,Ut).config).onSettled)==null?void 0:g.call(v,L,null,this.state.variables,this.state.context,this)),await((j=(x=this.options).onSettled)==null?void 0:j.call(x,L,null,e,this.state.context)),ye(this,Xr,Dn).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(p=O(this,Ut).config).onError)==null?void 0:y.call(p,L,e,this.state.context,this)),await((_=(f=this.options).onError)==null?void 0:_.call(f,L,e,this.state.context)),await((T=(k=O(this,Ut).config).onSettled)==null?void 0:T.call(k,void 0,L,this.state.variables,this.state.context,this)),await((F=(P=this.options).onSettled)==null?void 0:F.call(P,void 0,L,e,this.state.context)),L}finally{ye(this,Xr,Dn).call(this,{type:"error",error:L})}}finally{O(this,Ut).runNext(this)}}},Jr=new WeakMap,Ut=new WeakMap,ni=new WeakMap,Xr=new WeakSet,Dn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ct.batch(()=>{O(this,Jr).forEach(n=>{n.onMutationUpdate(e)}),O(this,Ut).notify({mutation:this,type:"updated",action:e})})},l_);function Hw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gn,$r,Ol,c_,pC=(c_=class extends Ti{constructor(e={}){super();ue(this,gn);ue(this,$r);ue(this,Ol);this.config=e,te(this,gn,new Set),te(this,$r,new Map),te(this,Ol,0)}build(e,r,n){const s=new mC({mutationCache:this,mutationId:++Kl(this,Ol)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){O(this,gn).add(e);const r=fc(e);if(typeof r=="string"){const n=O(this,$r).get(r);n?n.push(e):O(this,$r).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,gn).delete(e)){const r=fc(e);if(typeof r=="string"){const n=O(this,$r).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&O(this,$r).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=fc(e);if(typeof r=="string"){const n=O(this,$r).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=fc(e);if(typeof r=="string"){const s=(n=O(this,$r).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ct.batch(()=>{O(this,gn).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,gn).clear(),O(this,$r).clear()})}getAll(){return Array.from(O(this,gn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ex(r,n))}findAll(e={}){return this.getAll().filter(r=>Ex(e,r))}notify(e){ct.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ct.batch(()=>Promise.all(e.map(r=>r.continue().catch(Lt))))}},gn=new WeakMap,$r=new WeakMap,Ol=new WeakMap,c_);function fc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Rx(t){return{onFetch:(e,r)=>{var h,d,m,v,g;const n=e.options,s=(m=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const j=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},p=Dw(e.options,e.fetchOptions),y=async(f,_,k)=>{if(x)return Promise.reject();if(_==null&&f.pages.length)return Promise.resolve(f);const P=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:_,direction:k?"backward":"forward",meta:e.options.meta};return j(I),I})(),F=await p(P),{maxPages:L}=e.options,z=k?iC:sC;return{pages:z(f.pages,F,L),pageParams:z(f.pageParams,_,L)}};if(s&&a.length){const f=s==="backward",_=f?gC:Tx,k={pages:a,pageParams:o},T=_(n,k);l=await y(k,T,f)}else{const f=t??a.length;do{const _=c===0?o[0]??n.initialPageParam:Tx(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<f)}return l};e.options.persister?e.fetchFn=()=>{var x,j;return(j=(x=e.options).persister)==null?void 0:j.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Tx(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function gC(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ot,Kn,Yn,va,_a,Gn,ba,wa,u_,yC=(u_=class{constructor(t={}){ue(this,ot);ue(this,Kn);ue(this,Yn);ue(this,va);ue(this,_a);ue(this,Gn);ue(this,ba);ue(this,wa);te(this,ot,t.queryCache||new fC),te(this,Kn,t.mutationCache||new pC),te(this,Yn,t.defaultOptions||{}),te(this,va,new Map),te(this,_a,new Map),te(this,Gn,0)}mount(){Kl(this,Gn)._++,O(this,Gn)===1&&(te(this,ba,Eg.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ot).onFocus())})),te(this,wa,Cu.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ot).onOnline())})))}unmount(){var t,e;Kl(this,Gn)._--,O(this,Gn)===0&&((t=O(this,ba))==null||t.call(this),te(this,ba,void 0),(e=O(this,wa))==null||e.call(this),te(this,wa,void 0))}isFetching(t){return O(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Kn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,ot).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=O(this,ot).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(xs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return O(this,ot).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=O(this,ot).get(n.queryHash),a=s==null?void 0:s.state.data,o=rC(e,a);if(o!==void 0)return O(this,ot).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ct.batch(()=>O(this,ot).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,ot).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=O(this,ot);ct.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=O(this,ot);return ct.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ct.batch(()=>O(this,ot).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Lt).catch(Lt)}invalidateQueries(t,e={}){return ct.batch(()=>(O(this,ot).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ct.batch(()=>O(this,ot).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Lt)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Lt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=O(this,ot).build(this,e);return r.isStaleByTime(xs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Lt).catch(Lt)}fetchInfiniteQuery(t){return t.behavior=Rx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Lt).catch(Lt)}ensureInfiniteQueryData(t){return t.behavior=Rx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cu.isOnline()?O(this,Kn).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,ot)}getMutationCache(){return O(this,Kn)}getDefaultOptions(){return O(this,Yn)}setDefaultOptions(t){te(this,Yn,t)}setQueryDefaults(t,e){O(this,va).set(_i(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,va).values()],r={};return e.forEach(n=>{yl(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){O(this,_a).set(_i(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,_a).values()],r={};return e.forEach(n=>{yl(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Yn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Yn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,ot).clear(),O(this,Kn).clear()}},ot=new WeakMap,Kn=new WeakMap,Yn=new WeakMap,va=new WeakMap,_a=new WeakMap,Gn=new WeakMap,ba=new WeakMap,wa=new WeakMap,u_),Qt,Le,Rl,zt,si,ja,Jn,Xn,Tl,Na,ka,ii,ai,es,Sa,We,To,pm,gm,ym,xm,vm,_m,bm,Zw,d_,Pg=(d_=class extends Ti{constructor(e,r){super();ue(this,We);ue(this,Qt);ue(this,Le);ue(this,Rl);ue(this,zt);ue(this,si);ue(this,ja);ue(this,Jn);ue(this,Xn);ue(this,Tl);ue(this,Na);ue(this,ka);ue(this,ii);ue(this,ai);ue(this,es);ue(this,Sa,new Set);this.options=r,te(this,Qt,e),te(this,Xn,null),te(this,Jn,mm()),this.options.experimental_prefetchInRender||O(this,Jn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,Le).addObserver(this),Ax(O(this,Le),this.options)?ye(this,We,To).call(this):this.updateResult(),ye(this,We,xm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wm(O(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wm(O(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,We,vm).call(this),ye(this,We,_m).call(this),O(this,Le).removeObserver(this)}setOptions(e){const r=this.options,n=O(this,Le);if(this.options=O(this,Qt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gr(this.options.enabled,O(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,We,bm).call(this),O(this,Le).setOptions(this.options),r._defaulted&&!Su(this.options,r)&&O(this,Qt).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,Le),observer:this});const s=this.hasListeners();s&&$x(O(this,Le),n,this.options,r)&&ye(this,We,To).call(this),this.updateResult(),s&&(O(this,Le)!==n||gr(this.options.enabled,O(this,Le))!==gr(r.enabled,O(this,Le))||xs(this.options.staleTime,O(this,Le))!==xs(r.staleTime,O(this,Le)))&&ye(this,We,pm).call(this);const a=ye(this,We,gm).call(this);s&&(O(this,Le)!==n||gr(this.options.enabled,O(this,Le))!==gr(r.enabled,O(this,Le))||a!==O(this,es))&&ye(this,We,ym).call(this,a)}getOptimisticResult(e){const r=O(this,Qt).getQueryCache().build(O(this,Qt),e),n=this.createResult(r,e);return vC(this,n)&&(te(this,zt,n),te(this,ja,this.options),te(this,si,O(this,Le).state)),n}getCurrentResult(){return O(this,zt)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(e){O(this,Sa).add(e)}getCurrentQuery(){return O(this,Le)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=O(this,Qt).defaultQueryOptions(e),n=O(this,Qt).getQueryCache().build(O(this,Qt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ye(this,We,To).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,zt)))}createResult(e,r){var L;const n=O(this,Le),s=this.options,a=O(this,zt),o=O(this,si),l=O(this,ja),u=e!==n?e.state:O(this,Rl),{state:h}=e;let d={...h},m=!1,v;if(r._optimisticResults){const z=this.hasListeners(),I=!z&&Ax(e,r),Z=z&&$x(e,n,r,s);(I||Z)&&(d={...d,...Vw(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:j}=d;v=d.data;let p=!1;if(r.placeholderData!==void 0&&v===void 0&&j==="pending"){let z;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(z=a.data,p=!0):z=typeof r.placeholderData=="function"?r.placeholderData((L=O(this,ka))==null?void 0:L.state.data,O(this,ka)):r.placeholderData,z!==void 0&&(j="success",v=fm(a==null?void 0:a.data,z,r),m=!0)}if(r.select&&v!==void 0&&!p)if(a&&v===(o==null?void 0:o.data)&&r.select===O(this,Tl))v=O(this,Na);else try{te(this,Tl,r.select),v=r.select(v),v=fm(a==null?void 0:a.data,v,r),te(this,Na,v),te(this,Xn,null)}catch(z){te(this,Xn,z)}O(this,Xn)&&(g=O(this,Xn),v=O(this,Na),x=Date.now(),j="error");const y=d.fetchStatus==="fetching",f=j==="pending",_=j==="error",k=f&&y,T=v!==void 0,F={status:j,fetchStatus:d.fetchStatus,isPending:f,isSuccess:j==="success",isError:_,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!f,isLoadingError:_&&!T,isPaused:d.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&T,isStale:Og(e,r),refetch:this.refetch,promise:O(this,Jn),isEnabled:gr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const z=E=>{F.status==="error"?E.reject(F.error):F.data!==void 0&&E.resolve(F.data)},I=()=>{const E=te(this,Jn,F.promise=mm());z(E)},Z=O(this,Jn);switch(Z.status){case"pending":e.queryHash===n.queryHash&&z(Z);break;case"fulfilled":(F.status==="error"||F.data!==Z.value)&&I();break;case"rejected":(F.status!=="error"||F.error!==Z.reason)&&I();break}}return F}updateResult(){const e=O(this,zt),r=this.createResult(O(this,Le),this.options);if(te(this,si,O(this,Le).state),te(this,ja,this.options),O(this,si).data!==void 0&&te(this,ka,O(this,Le)),Su(r,e))return;te(this,zt,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!O(this,Sa).size)return!0;const o=new Set(a??O(this,Sa));return this.options.throwOnError&&o.add("error"),Object.keys(O(this,zt)).some(l=>{const c=l;return O(this,zt)[c]!==e[c]&&o.has(c)})};ye(this,We,Zw).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,We,xm).call(this)}},Qt=new WeakMap,Le=new WeakMap,Rl=new WeakMap,zt=new WeakMap,si=new WeakMap,ja=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,Tl=new WeakMap,Na=new WeakMap,ka=new WeakMap,ii=new WeakMap,ai=new WeakMap,es=new WeakMap,Sa=new WeakMap,We=new WeakSet,To=function(e){ye(this,We,bm).call(this);let r=O(this,Le).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Lt)),r},pm=function(){ye(this,We,vm).call(this);const e=xs(this.options.staleTime,O(this,Le));if(vi||O(this,zt).isStale||!dm(e))return;const n=Mw(O(this,zt).dataUpdatedAt,e)+1;te(this,ii,setTimeout(()=>{O(this,zt).isStale||this.updateResult()},n))},gm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,Le)):this.options.refetchInterval)??!1},ym=function(e){ye(this,We,_m).call(this),te(this,es,e),!(vi||gr(this.options.enabled,O(this,Le))===!1||!dm(O(this,es))||O(this,es)===0)&&te(this,ai,setInterval(()=>{(this.options.refetchIntervalInBackground||Eg.isFocused())&&ye(this,We,To).call(this)},O(this,es)))},xm=function(){ye(this,We,pm).call(this),ye(this,We,ym).call(this,ye(this,We,gm).call(this))},vm=function(){O(this,ii)&&(clearTimeout(O(this,ii)),te(this,ii,void 0))},_m=function(){O(this,ai)&&(clearInterval(O(this,ai)),te(this,ai,void 0))},bm=function(){const e=O(this,Qt).getQueryCache().build(O(this,Qt),this.options);if(e===O(this,Le))return;const r=O(this,Le);te(this,Le,e),te(this,Rl,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Zw=function(e){ct.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(O(this,zt))}),O(this,Qt).getQueryCache().notify({query:O(this,Le),type:"observerResultsUpdated"})})},d_);function xC(t,e){return gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ax(t,e){return xC(t,e)||t.state.data!==void 0&&wm(t,e,e.refetchOnMount)}function wm(t,e,r){if(gr(e.enabled,t)!==!1&&xs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Og(t,e)}return!1}function $x(t,e,r,n){return(t!==e||gr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Og(t,r)}function Og(t,e){return gr(e.enabled,t)!==!1&&t.isStaleByTime(xs(e.staleTime,t))}function vC(t,e){return!Su(t.getCurrentResult(),e)}function Lx(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function _C(t,e,r){const n=t.slice(0);return n[e]=r,n}var Ca,mr,Ea,Pa,pr,ts,Al,$l,Ll,Ot,jm,Nm,km,Sm,Cm,h_,bC=(h_=class extends Ti{constructor(e,r,n){super();ue(this,Ot);ue(this,Ca);ue(this,mr);ue(this,Ea);ue(this,Pa);ue(this,pr);ue(this,ts);ue(this,Al);ue(this,$l);ue(this,Ll,[]);te(this,Ca,e),te(this,Pa,n),te(this,Ea,[]),te(this,pr,[]),te(this,mr,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&O(this,pr).forEach(e=>{e.subscribe(r=>{ye(this,Ot,Sm).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,O(this,pr).forEach(e=>{e.destroy()})}setQueries(e,r){te(this,Ea,e),te(this,Pa,r),ct.batch(()=>{const n=O(this,pr),s=ye(this,Ot,km).call(this,O(this,Ea));te(this,Ll,s),s.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions));const a=s.map(c=>c.observer),o=a.map(c=>c.getCurrentResult()),l=a.some((c,u)=>c!==n[u]);n.length===a.length&&!l||(te(this,pr,a),te(this,mr,o),this.hasListeners()&&(Lx(n,a).forEach(c=>{c.destroy()}),Lx(a,n).forEach(c=>{c.subscribe(u=>{ye(this,Ot,Sm).call(this,c,u)})}),ye(this,Ot,Cm).call(this)))})}getCurrentResult(){return O(this,mr)}getQueries(){return O(this,pr).map(e=>e.getCurrentQuery())}getObservers(){return O(this,pr)}getOptimisticResult(e,r){const n=ye(this,Ot,km).call(this,e),s=n.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[s,a=>ye(this,Ot,Nm).call(this,a??s,r),()=>ye(this,Ot,jm).call(this,s,n)]}},Ca=new WeakMap,mr=new WeakMap,Ea=new WeakMap,Pa=new WeakMap,pr=new WeakMap,ts=new WeakMap,Al=new WeakMap,$l=new WeakMap,Ll=new WeakMap,Ot=new WeakSet,jm=function(e,r){return r.map((n,s)=>{const a=e[s];return n.defaultedQueryOptions.notifyOnChangeProps?a:n.observer.trackResult(a,o=>{r.forEach(l=>{l.observer.trackProp(o)})})})},Nm=function(e,r){return r?((!O(this,ts)||O(this,mr)!==O(this,$l)||r!==O(this,Al))&&(te(this,Al,r),te(this,$l,O(this,mr)),te(this,ts,Sg(O(this,ts),r(e)))),O(this,ts)):e},km=function(e){const r=new Map(O(this,pr).map(s=>[s.options.queryHash,s])),n=[];return e.forEach(s=>{const a=O(this,Ca).defaultQueryOptions(s),o=r.get(a.queryHash);o?n.push({defaultedQueryOptions:a,observer:o}):n.push({defaultedQueryOptions:a,observer:new Pg(O(this,Ca),a)})}),n},Sm=function(e,r){const n=O(this,pr).indexOf(e);n!==-1&&(te(this,mr,_C(O(this,mr),n,r)),ye(this,Ot,Cm).call(this))},Cm=function(){var e;if(this.hasListeners()){const r=O(this,ts),n=ye(this,Ot,jm).call(this,O(this,mr),O(this,Ll)),s=ye(this,Ot,Nm).call(this,n,(e=O(this,Pa))==null?void 0:e.combine);r!==s&&ct.batch(()=>{this.listeners.forEach(a=>{a(O(this,mr))})})}},h_),rs,ns,Kt,yn,jn,Lc,Em,f_,wC=(f_=class extends Ti{constructor(r,n){super();ue(this,jn);ue(this,rs);ue(this,ns);ue(this,Kt);ue(this,yn);te(this,rs,r),this.setOptions(n),this.bindMethods(),ye(this,jn,Lc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=O(this,rs).defaultMutationOptions(r),Su(this.options,n)||O(this,rs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Kt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&_i(n.mutationKey)!==_i(this.options.mutationKey)?this.reset():((s=O(this,Kt))==null?void 0:s.state.status)==="pending"&&O(this,Kt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=O(this,Kt))==null||r.removeObserver(this)}onMutationUpdate(r){ye(this,jn,Lc).call(this),ye(this,jn,Em).call(this,r)}getCurrentResult(){return O(this,ns)}reset(){var r;(r=O(this,Kt))==null||r.removeObserver(this),te(this,Kt,void 0),ye(this,jn,Lc).call(this),ye(this,jn,Em).call(this)}mutate(r,n){var s;return te(this,yn,n),(s=O(this,Kt))==null||s.removeObserver(this),te(this,Kt,O(this,rs).getMutationCache().build(O(this,rs),this.options)),O(this,Kt).addObserver(this),O(this,Kt).execute(r)}},rs=new WeakMap,ns=new WeakMap,Kt=new WeakMap,yn=new WeakMap,jn=new WeakSet,Lc=function(){var n;const r=((n=O(this,Kt))==null?void 0:n.state)??Hw();te(this,ns,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Em=function(r){ct.batch(()=>{var n,s,a,o,l,c,u,h;if(O(this,yn)&&this.hasListeners()){const d=O(this,ns).variables,m=O(this,ns).context;(r==null?void 0:r.type)==="success"?((s=(n=O(this,yn)).onSuccess)==null||s.call(n,r.data,d,m),(o=(a=O(this,yn)).onSettled)==null||o.call(a,r.data,null,d,m)):(r==null?void 0:r.type)==="error"&&((c=(l=O(this,yn)).onError)==null||c.call(l,r.error,d,m),(h=(u=O(this,yn)).onSettled)==null||h.call(u,void 0,r.error,d,m))}this.listeners.forEach(d=>{d(O(this,ns))})})},f_),Qw=w.createContext(void 0),Rt=t=>{const e=w.useContext(Qw);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jC=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Qw.Provider,{value:t,children:e})),Kw=w.createContext(!1),Yw=()=>w.useContext(Kw);Kw.Provider;function NC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kC=w.createContext(NC()),Gw=()=>w.useContext(kC),Jw=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Xw=t=>{w.useEffect(()=>{t.clearReset()},[t])},e1=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||Bw(r,[t.error,n])),t1=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},r1=(t,e)=>t.isLoading&&t.isFetching&&!e,Pm=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Eu=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Om({queries:t,...e},r){const n=Rt(r),s=Yw(),a=Gw(),o=w.useMemo(()=>t.map(x=>{const j=n.defaultQueryOptions(x);return j._optimisticResults=s?"isRestoring":"optimistic",j}),[t,n,s]);o.forEach(x=>{t1(x),Jw(x,a)}),Xw(a);const[l]=w.useState(()=>new bC(n,o,e)),[c,u,h]=l.getOptimisticResult(o,e.combine),d=!s&&e.subscribed!==!1;w.useSyncExternalStore(w.useCallback(x=>d?l.subscribe(ct.batchCalls(x)):Lt,[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setQueries(o,e)},[o,e,l]);const v=c.some((x,j)=>Pm(o[j],x))?c.flatMap((x,j)=>{const p=o[j];if(p){const y=new Pg(n,p);if(Pm(p,x))return Eu(p,y,a);r1(x,s)&&Eu(p,y,a)}return[]}):[];if(v.length>0)throw Promise.all(v);const g=c.find((x,j)=>{const p=o[j];return p&&e1({result:x,errorResetBoundary:a,throwOnError:p.throwOnError,query:n.getQueryCache().get(p.queryHash),suspense:p.suspense})});if(g!=null&&g.error)throw g.error;return u(h())}function SC(t,e,r){var d,m,v,g,x;const n=Yw(),s=Gw(),a=Rt(r),o=a.defaultQueryOptions(t);(m=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",t1(o),Jw(o,s),Xw(s);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new e(a,o)),u=c.getOptimisticResult(o),h=!n&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(j=>{const p=h?c.subscribe(ct.batchCalls(j)):Lt;return c.updateResult(),p},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),Pm(o,u))throw Eu(o,c,s);if(e1({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,u),o.experimental_prefetchInRender&&!vi&&r1(u,n)){const j=l?Eu(o,c,s):(x=a.getQueryCache().get(o.queryHash))==null?void 0:x.promise;j==null||j.catch(Lt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function xe(t,e){return SC(t,Pg,e)}function qe(t,e){const r=Rt(e),[n]=w.useState(()=>new wC(r,t));w.useEffect(()=>{n.setOptions(t)},[n,t]);const s=w.useSyncExternalStore(w.useCallback(o=>n.subscribe(ct.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=w.useCallback((o,l)=>{n.mutate(o,l).catch(Lt)},[n]);if(s.error&&Bw(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}var Dt=function(){return Dt=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dt.apply(this,arguments)};function Pu(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Ge="-ms-",Zo="-moz-",ze="-webkit-",n1="comm",pd="rule",Rg="decl",CC="@import",s1="@keyframes",EC="@layer",i1=Math.abs,Tg=String.fromCharCode,Rm=Object.assign;function PC(t,e){return jt(t,0)^45?(((e<<2^jt(t,0))<<2^jt(t,1))<<2^jt(t,2))<<2^jt(t,3):0}function a1(t){return t.trim()}function fn(t,e){return(t=e.exec(t))?t[0]:t}function Ce(t,e,r){return t.replace(e,r)}function Fc(t,e,r){return t.indexOf(e,r)}function jt(t,e){return t.charCodeAt(e)|0}function Ia(t,e,r){return t.slice(e,r)}function en(t){return t.length}function o1(t){return t.length}function Ao(t,e){return e.push(t),t}function OC(t,e){return t.map(e).join("")}function Fx(t,e){return t.filter(function(r){return!fn(r,e)})}var gd=1,Ma=1,l1=0,Nr=0,pt=0,so="";function yd(t,e,r,n,s,a,o,l){return{value:t,root:e,parent:r,type:n,props:s,children:a,line:gd,column:Ma,length:o,return:"",siblings:l}}function Bn(t,e){return Rm(yd("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Bi(t){for(;t.root;)t=Bn(t.root,{children:[t]});Ao(t,t.siblings)}function RC(){return pt}function TC(){return pt=Nr>0?jt(so,--Nr):0,Ma--,pt===10&&(Ma=1,gd--),pt}function Br(){return pt=Nr<l1?jt(so,Nr++):0,Ma++,pt===10&&(Ma=1,gd++),pt}function ui(){return jt(so,Nr)}function Ic(){return Nr}function xd(t,e){return Ia(so,t,e)}function Tm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AC(t){return gd=Ma=1,l1=en(so=t),Nr=0,[]}function $C(t){return so="",t}function xh(t){return a1(xd(Nr-1,Am(t===91?t+2:t===40?t+1:t)))}function LC(t){for(;(pt=ui())&&pt<33;)Br();return Tm(t)>2||Tm(pt)>3?"":" "}function FC(t,e){for(;--e&&Br()&&!(pt<48||pt>102||pt>57&&pt<65||pt>70&&pt<97););return xd(t,Ic()+(e<6&&ui()==32&&Br()==32))}function Am(t){for(;Br();)switch(pt){case t:return Nr;case 34:case 39:t!==34&&t!==39&&Am(pt);break;case 40:t===41&&Am(t);break;case 92:Br();break}return Nr}function IC(t,e){for(;Br()&&t+pt!==57;)if(t+pt===84&&ui()===47)break;return"/*"+xd(e,Nr-1)+"*"+Tg(t===47?t:Br())}function MC(t){for(;!Tm(ui());)Br();return xd(t,Nr)}function DC(t){return $C(Mc("",null,null,null,[""],t=AC(t),0,[0],t))}function Mc(t,e,r,n,s,a,o,l,c){for(var u=0,h=0,d=o,m=0,v=0,g=0,x=1,j=1,p=1,y=0,f="",_=s,k=a,T=n,P=f;j;)switch(g=y,y=Br()){case 40:if(g!=108&&jt(P,d-1)==58){Fc(P+=Ce(xh(y),"&","&\f"),"&\f",i1(u?l[u-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:P+=xh(y);break;case 9:case 10:case 13:case 32:P+=LC(g);break;case 92:P+=FC(Ic()-1,7);continue;case 47:switch(ui()){case 42:case 47:Ao(BC(IC(Br(),Ic()),e,r,c),c);break;default:P+="/"}break;case 123*x:l[u++]=en(P)*p;case 125*x:case 59:case 0:switch(y){case 0:case 125:j=0;case 59+h:p==-1&&(P=Ce(P,/\f/g,"")),v>0&&en(P)-d&&Ao(v>32?Mx(P+";",n,r,d-1,c):Mx(Ce(P," ","")+";",n,r,d-2,c),c);break;case 59:P+=";";default:if(Ao(T=Ix(P,e,r,u,h,s,l,f,_=[],k=[],d,a),a),y===123)if(h===0)Mc(P,e,T,T,_,a,d,l,k);else switch(m===99&&jt(P,3)===110?100:m){case 100:case 108:case 109:case 115:Mc(t,T,T,n&&Ao(Ix(t,T,T,0,0,s,l,f,s,_=[],d,k),k),s,k,d,l,n?_:k);break;default:Mc(P,T,T,T,[""],k,0,l,k)}}u=h=v=0,x=p=1,f=P="",d=o;break;case 58:d=1+en(P),v=g;default:if(x<1){if(y==123)--x;else if(y==125&&x++==0&&TC()==125)continue}switch(P+=Tg(y),y*x){case 38:p=h>0?1:(P+="\f",-1);break;case 44:l[u++]=(en(P)-1)*p,p=1;break;case 64:ui()===45&&(P+=xh(Br())),m=ui(),h=d=en(f=P+=MC(Ic())),y++;break;case 45:g===45&&en(P)==2&&(x=0)}}return a}function Ix(t,e,r,n,s,a,o,l,c,u,h,d){for(var m=s-1,v=s===0?a:[""],g=o1(v),x=0,j=0,p=0;x<n;++x)for(var y=0,f=Ia(t,m+1,m=i1(j=o[x])),_=t;y<g;++y)(_=a1(j>0?v[y]+" "+f:Ce(f,/&\f/g,v[y])))&&(c[p++]=_);return yd(t,e,r,s===0?pd:l,c,u,h,d)}function BC(t,e,r,n){return yd(t,e,r,n1,Tg(RC()),Ia(t,2,-2),0,n)}function Mx(t,e,r,n,s){return yd(t,e,r,Rg,Ia(t,0,n),Ia(t,n+1,-1),n,s)}function c1(t,e,r){switch(PC(t,e)){case 5103:return ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ze+t+t;case 4789:return Zo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ze+t+Zo+t+Ge+t+t;case 5936:switch(jt(t,e+11)){case 114:return ze+t+Ge+Ce(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ze+t+Ge+Ce(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ze+t+Ge+Ce(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ze+t+Ge+t+t;case 6165:return ze+t+Ge+"flex-"+t+t;case 5187:return ze+t+Ce(t,/(\w+).+(:[^]+)/,ze+"box-$1$2"+Ge+"flex-$1$2")+t;case 5443:return ze+t+Ge+"flex-item-"+Ce(t,/flex-|-self/g,"")+(fn(t,/flex-|baseline/)?"":Ge+"grid-row-"+Ce(t,/flex-|-self/g,""))+t;case 4675:return ze+t+Ge+"flex-line-pack"+Ce(t,/align-content|flex-|-self/g,"")+t;case 5548:return ze+t+Ge+Ce(t,"shrink","negative")+t;case 5292:return ze+t+Ge+Ce(t,"basis","preferred-size")+t;case 6060:return ze+"box-"+Ce(t,"-grow","")+ze+t+Ge+Ce(t,"grow","positive")+t;case 4554:return ze+Ce(t,/([^-])(transform)/g,"$1"+ze+"$2")+t;case 6187:return Ce(Ce(Ce(t,/(zoom-|grab)/,ze+"$1"),/(image-set)/,ze+"$1"),t,"")+t;case 5495:case 3959:return Ce(t,/(image-set\([^]*)/,ze+"$1$`$1");case 4968:return Ce(Ce(t,/(.+:)(flex-)?(.*)/,ze+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ze+t+t;case 4200:if(!fn(t,/flex-|baseline/))return Ge+"grid-column-align"+Ia(t,e)+t;break;case 2592:case 3360:return Ge+Ce(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,s){return e=s,fn(n.props,/grid-\w+-end/)})?~Fc(t+(r=r[e].value),"span",0)?t:Ge+Ce(t,"-start","")+t+Ge+"grid-row-span:"+(~Fc(r,"span",0)?fn(r,/\d+/):+fn(r,/\d+/)-+fn(t,/\d+/))+";":Ge+Ce(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return fn(n.props,/grid-\w+-start/)})?t:Ge+Ce(Ce(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ce(t,/(.+)-inline(.+)/,ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(en(t)-1-e>6)switch(jt(t,e+1)){case 109:if(jt(t,e+4)!==45)break;case 102:return Ce(t,/(.+:)(.+)-([^]+)/,"$1"+ze+"$2-$3$1"+Zo+(jt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fc(t,"stretch",0)?c1(Ce(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ce(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,a,o,l,c,u){return Ge+s+":"+a+u+(o?Ge+s+"-span:"+(l?c:+c-+a)+u:"")+t});case 4949:if(jt(t,e+6)===121)return Ce(t,":",":"+ze)+t;break;case 6444:switch(jt(t,jt(t,14)===45?18:11)){case 120:return Ce(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ze+(jt(t,14)===45?"inline-":"")+"box$3$1"+ze+"$2$3$1"+Ge+"$2box$3")+t;case 100:return Ce(t,":",":"+Ge)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ce(t,"scroll-","scroll-snap-")+t}return t}function Ou(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function UC(t,e,r,n){switch(t.type){case EC:if(t.children.length)break;case CC:case Rg:return t.return=t.return||t.value;case n1:return"";case s1:return t.return=t.value+"{"+Ou(t.children,n)+"}";case pd:if(!en(t.value=t.props.join(",")))return""}return en(r=Ou(t.children,n))?t.return=t.value+"{"+r+"}":""}function zC(t){var e=o1(t);return function(r,n,s,a){for(var o="",l=0;l<e;l++)o+=t[l](r,n,s,a)||"";return o}}function qC(t){return function(e){e.root||(e=e.return)&&t(e)}}function WC(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case Rg:t.return=c1(t.value,t.length,r);return;case s1:return Ou([Bn(t,{value:Ce(t.value,"@","@"+ze)})],n);case pd:if(t.length)return OC(r=t.props,function(s){switch(fn(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Bi(Bn(t,{props:[Ce(s,/:(read-\w+)/,":"+Zo+"$1")]})),Bi(Bn(t,{props:[s]})),Rm(t,{props:Fx(r,n)});break;case"::placeholder":Bi(Bn(t,{props:[Ce(s,/:(plac\w+)/,":"+ze+"input-$1")]})),Bi(Bn(t,{props:[Ce(s,/:(plac\w+)/,":"+Zo+"$1")]})),Bi(Bn(t,{props:[Ce(s,/:(plac\w+)/,Ge+"input-$1")]})),Bi(Bn(t,{props:[s]})),Rm(t,{props:Fx(r,n)});break}return""})}}var VC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sr={},Da=typeof process<"u"&&sr!==void 0&&(sr.REACT_APP_SC_ATTR||sr.SC_ATTR)||"data-styled",u1="active",d1="data-styled-version",vd="6.1.19",Ag=`/*!sc*/
`,Ru=typeof window<"u"&&typeof document<"u",HC=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&sr!==void 0&&sr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&sr.REACT_APP_SC_DISABLE_SPEEDY!==""?sr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&sr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&sr!==void 0&&sr.SC_DISABLE_SPEEDY!==void 0&&sr.SC_DISABLE_SPEEDY!==""&&sr.SC_DISABLE_SPEEDY!=="false"&&sr.SC_DISABLE_SPEEDY),_d=Object.freeze([]),Ba=Object.freeze({});function ZC(t,e,r){return r===void 0&&(r=Ba),t.theme!==r.theme&&t.theme||e||r.theme}var h1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),QC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,KC=/(^-|-$)/g;function Dx(t){return t.replace(QC,"-").replace(KC,"")}var YC=/(a)(d)/gi,mc=52,Bx=function(t){return String.fromCharCode(t+(t>25?39:97))};function $m(t){var e,r="";for(e=Math.abs(t);e>mc;e=e/mc|0)r=Bx(e%mc)+r;return(Bx(e%mc)+r).replace(YC,"$1-$2")}var vh,f1=5381,ia=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},m1=function(t){return ia(f1,t)};function GC(t){return $m(m1(t)>>>0)}function JC(t){return t.displayName||t.name||"Component"}function _h(t){return typeof t=="string"&&!0}var p1=typeof Symbol=="function"&&Symbol.for,g1=p1?Symbol.for("react.memo"):60115,XC=p1?Symbol.for("react.forward_ref"):60112,eE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rE=((vh={})[XC]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vh[g1]=y1,vh);function Ux(t){return("type"in(e=t)&&e.type.$$typeof)===g1?y1:"$$typeof"in t?rE[t.$$typeof]:eE;var e}var nE=Object.defineProperty,sE=Object.getOwnPropertyNames,zx=Object.getOwnPropertySymbols,iE=Object.getOwnPropertyDescriptor,aE=Object.getPrototypeOf,qx=Object.prototype;function x1(t,e,r){if(typeof e!="string"){if(qx){var n=aE(e);n&&n!==qx&&x1(t,n,r)}var s=sE(e);zx&&(s=s.concat(zx(e)));for(var a=Ux(t),o=Ux(e),l=0;l<s.length;++l){var c=s[l];if(!(c in tE||r&&r[c]||o&&c in o||a&&c in a)){var u=iE(e,c);try{nE(t,c,u)}catch{}}}}return t}function bi(t){return typeof t=="function"}function $g(t){return typeof t=="object"&&"styledComponentId"in t}function Ks(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Wx(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function xl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Lm(t,e,r){if(r===void 0&&(r=!1),!r&&!xl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=Lm(t[n],e[n]);else if(xl(e))for(var n in e)t[n]=Lm(t[n],e[n]);return t}function Lg(t,e){Object.defineProperty(t,"toString",{value:e})}function wi(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var oE=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,a=s;e>=a;)if((a<<=1)<0)throw wi(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var o=s;o<a;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),c=(o=0,r.length);o<c;o++)this.tag.insertRule(l,r[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),s=n+r;this.groupSizes[e]=0;for(var a=n;a<s;a++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),a=s+n,o=s;o<a;o++)r+="".concat(this.tag.getRule(o)).concat(Ag);return r},t}(),Dc=new Map,Tu=new Map,Bc=1,pc=function(t){if(Dc.has(t))return Dc.get(t);for(;Tu.has(Bc);)Bc++;var e=Bc++;return Dc.set(t,e),Tu.set(e,t),e},lE=function(t,e){Bc=e+1,Dc.set(t,e),Tu.set(e,t)},cE="style[".concat(Da,"][").concat(d1,'="').concat(vd,'"]'),uE=new RegExp("^".concat(Da,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),dE=function(t,e,r){for(var n,s=r.split(","),a=0,o=s.length;a<o;a++)(n=s[a])&&t.registerName(e,n)},hE=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(Ag),s=[],a=0,o=n.length;a<o;a++){var l=n[a].trim();if(l){var c=l.match(uE);if(c){var u=0|parseInt(c[1],10),h=c[2];u!==0&&(lE(h,u),dE(t,h,c[3]),t.getTag().insertRules(u,s)),s.length=0}else s.push(l)}}},Vx=function(t){for(var e=document.querySelectorAll(cE),r=0,n=e.length;r<n;r++){var s=e[r];s&&s.getAttribute(Da)!==u1&&(hE(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function fE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var v1=function(t){var e=document.head,r=t||e,n=document.createElement("style"),s=function(l){var c=Array.from(l.querySelectorAll("style[".concat(Da,"]")));return c[c.length-1]}(r),a=s!==void 0?s.nextSibling:null;n.setAttribute(Da,u1),n.setAttribute(d1,vd);var o=fE();return o&&n.setAttribute("nonce",o),r.insertBefore(n,a),n},mE=function(){function t(e){this.element=v1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,s=0,a=n.length;s<a;s++){var o=n[s];if(o.ownerNode===r)return o}throw wi(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),pE=function(){function t(e){this.element=v1(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),gE=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Hx=Ru,yE={isServer:!Ru,useCSSOMInjection:!HC},_1=function(){function t(e,r,n){e===void 0&&(e=Ba),r===void 0&&(r={});var s=this;this.options=Dt(Dt({},yE),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ru&&Hx&&(Hx=!1,Vx(this)),Lg(this,function(){return function(a){for(var o=a.getTag(),l=o.length,c="",u=function(d){var m=function(p){return Tu.get(p)}(d);if(m===void 0)return"continue";var v=a.names.get(m),g=o.getGroup(d);if(v===void 0||!v.size||g.length===0)return"continue";var x="".concat(Da,".g").concat(d,'[id="').concat(m,'"]'),j="";v!==void 0&&v.forEach(function(p){p.length>0&&(j+="".concat(p,","))}),c+="".concat(g).concat(x,'{content:"').concat(j,'"}').concat(Ag)},h=0;h<l;h++)u(h);return c}(s)})}return t.registerId=function(e){return pc(e)},t.prototype.rehydrate=function(){!this.server&&Ru&&Vx(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Dt(Dt({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,s=r.target;return r.isServer?new gE(s):n?new mE(s):new pE(s)}(this.options),new oE(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(pc(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(pc(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(pc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),xE=/&/g,vE=/^\s*\/\/.*$/gm;function b1(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=b1(r.children,e)),r})}function _E(t){var e,r,n,s=Ba,a=s.options,o=a===void 0?Ba:a,l=s.plugins,c=l===void 0?_d:l,u=function(m,v,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):m},h=c.slice();h.push(function(m){m.type===pd&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(xE,r).replace(n,u))}),o.prefix&&h.push(WC),h.push(UC);var d=function(m,v,g,x){v===void 0&&(v=""),g===void 0&&(g=""),x===void 0&&(x="&"),e=x,r=v,n=new RegExp("\\".concat(r,"\\b"),"g");var j=m.replace(vE,""),p=DC(g||v?"".concat(g," ").concat(v," { ").concat(j," }"):j);o.namespace&&(p=b1(p,o.namespace));var y=[];return Ou(p,zC(h.concat(qC(function(f){return y.push(f)})))),y};return d.hash=c.length?c.reduce(function(m,v){return v.name||wi(15),ia(m,v.name)},f1).toString():"",d}var bE=new _1,Fm=_E(),w1=ge.createContext({shouldForwardProp:void 0,styleSheet:bE,stylis:Fm});w1.Consumer;ge.createContext(void 0);function Zx(){return w.useContext(w1)}var wE=function(){function t(e,r){var n=this;this.inject=function(s,a){a===void 0&&(a=Fm);var o=n.name+a.hash;s.hasNameForId(n.id,o)||s.insertRules(n.id,o,a(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,Lg(this,function(){throw wi(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Fm),this.name+e.hash},t}(),jE=function(t){return t>="A"&&t<="Z"};function Qx(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;jE(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var j1=function(t){return t==null||t===!1||t===""},N1=function(t){var e,r,n=[];for(var s in t){var a=t[s];t.hasOwnProperty(s)&&!j1(a)&&(Array.isArray(a)&&a.isCss||bi(a)?n.push("".concat(Qx(s),":"),a,";"):xl(a)?n.push.apply(n,Pu(Pu(["".concat(s," {")],N1(a),!1),["}"],!1)):n.push("".concat(Qx(s),": ").concat((e=s,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in VC||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function di(t,e,r,n){if(j1(t))return[];if($g(t))return[".".concat(t.styledComponentId)];if(bi(t)){if(!bi(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var s=t(e);return di(s,e,r,n)}var a;return t instanceof wE?r?(t.inject(r,n),[t.getName(n)]):[t]:xl(t)?N1(t):Array.isArray(t)?Array.prototype.concat.apply(_d,t.map(function(o){return di(o,e,r,n)})):[t.toString()]}function NE(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(bi(r)&&!$g(r))return!1}return!0}var kE=m1(vd),SE=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&NE(e),this.componentId=r,this.baseHash=ia(kE,r),this.baseStyle=n,_1.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=Ks(s,this.staticRulesId);else{var a=Wx(di(this.rules,e,r,n)),o=$m(ia(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,o)){var l=n(a,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,l)}s=Ks(s,o),this.staticRulesId=o}else{for(var c=ia(this.baseHash,n.hash),u="",h=0;h<this.rules.length;h++){var d=this.rules[h];if(typeof d=="string")u+=d;else if(d){var m=Wx(di(d,e,r,n));c=ia(c,m+h),u+=m}}if(u){var v=$m(c>>>0);r.hasNameForId(this.componentId,v)||r.insertRules(this.componentId,v,n(u,".".concat(v),void 0,this.componentId)),s=Ks(s,v)}}return s},t}(),Au=ge.createContext(void 0);Au.Consumer;function CE(t){var e=ge.useContext(Au),r=w.useMemo(function(){return function(n,s){if(!n)throw wi(14);if(bi(n)){var a=n(s);return a}if(Array.isArray(n)||typeof n!="object")throw wi(8);return s?Dt(Dt({},s),n):n}(t.theme,e)},[t.theme,e]);return t.children?ge.createElement(Au.Provider,{value:r},t.children):null}var bh={};function EE(t,e,r){var n=$g(t),s=t,a=!_h(t),o=e.attrs,l=o===void 0?_d:o,c=e.componentId,u=c===void 0?function(_,k){var T=typeof _!="string"?"sc":Dx(_);bh[T]=(bh[T]||0)+1;var P="".concat(T,"-").concat(GC(vd+T+bh[T]));return k?"".concat(k,"-").concat(P):P}(e.displayName,e.parentComponentId):c,h=e.displayName,d=h===void 0?function(_){return _h(_)?"styled.".concat(_):"Styled(".concat(JC(_),")")}(t):h,m=e.displayName&&e.componentId?"".concat(Dx(e.displayName),"-").concat(e.componentId):e.componentId||u,v=n&&s.attrs?s.attrs.concat(l).filter(Boolean):l,g=e.shouldForwardProp;if(n&&s.shouldForwardProp){var x=s.shouldForwardProp;if(e.shouldForwardProp){var j=e.shouldForwardProp;g=function(_,k){return x(_,k)&&j(_,k)}}else g=x}var p=new SE(r,m,n?s.componentStyle:void 0);function y(_,k){return function(T,P,F){var L=T.attrs,z=T.componentStyle,I=T.defaultProps,Z=T.foldedComponentIds,E=T.styledComponentId,$=T.target,C=ge.useContext(Au),b=Zx(),S=T.shouldForwardProp||b.shouldForwardProp,R=ZC(P,C,I)||Ba,M=function(ee,D,ie){for(var Se,Te=Dt(Dt({},D),{className:void 0,theme:ie}),Ve=0;Ve<ee.length;Ve+=1){var kt=bi(Se=ee[Ve])?Se(Te):Se;for(var it in kt)Te[it]=it==="className"?Ks(Te[it],kt[it]):it==="style"?Dt(Dt({},Te[it]),kt[it]):kt[it]}return D.className&&(Te.className=Ks(Te.className,D.className)),Te}(L,P,R),q=M.as||$,W={};for(var Y in M)M[Y]===void 0||Y[0]==="$"||Y==="as"||Y==="theme"&&M.theme===R||(Y==="forwardedAs"?W.as=M.forwardedAs:S&&!S(Y,q)||(W[Y]=M[Y]));var A=function(ee,D){var ie=Zx(),Se=ee.generateAndInjectStyles(D,ie.styleSheet,ie.stylis);return Se}(z,M),K=Ks(Z,E);return A&&(K+=" "+A),M.className&&(K+=" "+M.className),W[_h(q)&&!h1.has(q)?"class":"className"]=K,F&&(W.ref=F),w.createElement(q,W)}(f,_,k)}y.displayName=d;var f=ge.forwardRef(y);return f.attrs=v,f.componentStyle=p,f.displayName=d,f.shouldForwardProp=g,f.foldedComponentIds=n?Ks(s.foldedComponentIds,s.styledComponentId):"",f.styledComponentId=m,f.target=n?s.target:t,Object.defineProperty(f,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=n?function(k){for(var T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];for(var F=0,L=T;F<L.length;F++)Lm(k,L[F],!0);return k}({},s.defaultProps,_):_}}),Lg(f,function(){return".".concat(f.styledComponentId)}),a&&x1(f,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),f}function Kx(t,e){for(var r=[t[0]],n=0,s=e.length;n<s;n+=1)r.push(e[n],t[n+1]);return r}var Yx=function(t){return Object.assign(t,{isCss:!0})};function PE(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(bi(t)||xl(t))return Yx(di(Kx(_d,Pu([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?di(n):Yx(di(Kx(n,e)))}function Im(t,e,r){if(r===void 0&&(r=Ba),!e)throw wi(1,e);var n=function(s){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return t(e,r,PE.apply(void 0,Pu([s],a,!1)))};return n.attrs=function(s){return Im(t,e,Dt(Dt({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return Im(t,e,Dt(Dt({},r),s))},n}var k1=function(t){return Im(EE,t)},OE=k1;h1.forEach(function(t){OE[t]=k1(t)});var S1=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(S1||{}),wh={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(S1);var Fg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(Fg).reduce((t,[e,r])=>(t[r]=e,t),{});var vl="data-rh",RE=t=>Array.isArray(t)?t.join(""):t,TE=(t,e)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1)if(e[r[n]]&&e[r[n]].includes(t[r[n]]))return!0;return!1},jh=(t,e)=>Array.isArray(t)?t.reduce((r,n)=>(TE(n,e)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:t,priority:[]},AE=["noscript","script","style"],Mm=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),C1=t=>Object.keys(t).reduce((e,r)=>{const n=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return e?`${e} ${n}`:n},""),$E=(t,e,r,n)=>{const s=C1(r),a=RE(e);return s?`<${t} ${vl}="true" ${s}>${Mm(a,n)}</${t}>`:`<${t} ${vl}="true">${Mm(a,n)}</${t}>`},LE=(t,e,r=!0)=>e.reduce((n,s)=>{const a=s,o=Object.keys(a).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,h)=>{const d=typeof a[h]>"u"?h:`${h}="${Mm(a[h],r)}"`;return u?`${u} ${d}`:d},""),l=a.innerHTML||a.cssText||"",c=AE.indexOf(t)===-1;return`${n}<${t} ${vl}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),E1=(t,e={})=>Object.keys(t).reduce((r,n)=>{const s=Fg[n];return r[s||n]=t[n],r},e),FE=(t,e,r)=>{const n={key:e,[vl]:!0},s=E1(r,n);return[ge.createElement("title",s,e)]},Uc=(t,e)=>e.map((r,n)=>{const s={key:n,[vl]:!0};return Object.keys(r).forEach(a=>{const l=Fg[a]||a;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[a]}),ge.createElement(t,s)}),hr=(t,e,r=!0)=>{switch(t){case"title":return{toComponent:()=>FE(t,e.title,e.titleAttributes),toString:()=>$E(t,e.title,e.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>E1(e),toString:()=>C1(e)};default:return{toComponent:()=>Uc(t,e),toString:()=>LE(t,e,r)}}},IE=({metaTags:t,linkTags:e,scriptTags:r,encode:n})=>{const s=jh(t,wh.meta),a=jh(e,wh.link),o=jh(r,wh.script);return{priorityMethods:{toComponent:()=>[...Uc("meta",s.priority),...Uc("link",a.priority),...Uc("script",o.priority)],toString:()=>`${hr("meta",s.priority,n)} ${hr("link",a.priority,n)} ${hr("script",o.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:o.default}},ME=t=>{const{baseTag:e,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:h,metaTags:d,scriptTags:m}=t,v={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:v,linkTags:h,metaTags:d,scriptTags:m}=IE(t)),{priority:v,base:hr("base",e,n),bodyAttributes:hr("bodyAttributes",r,n),htmlAttributes:hr("htmlAttributes",s,n),link:hr("link",h,n),meta:hr("meta",d,n),noscript:hr("noscript",a,n),script:hr("script",m,n),style:hr("style",o,n),title:hr("title",{title:l,titleAttributes:c},n)}},DE=ME,gc=[],P1=!!(typeof window<"u"&&window.document&&window.document.createElement),BE=class{constructor(t,e){An(this,"instances",[]);An(this,"canUseDOM",P1);An(this,"context");An(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?gc:this.instances,add:t=>{(this.canUseDOM?gc:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?gc:this.instances).indexOf(t);(this.canUseDOM?gc:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=DE({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},UE={},zE=ge.createContext(UE),oi,qE=(oi=class extends w.Component{constructor(r){super(r);An(this,"helmetData");this.helmetData=new BE(this.props.context||{},oi.canUseDOM)}render(){return ge.createElement(zE.Provider,{value:this.helmetData.value},this.props.children)}},An(oi,"canUseDOM",P1),oi);const WE={},Gx=t=>{let e;const r=new Set,n=(h,d)=>{const m=typeof h=="function"?h(e):h;if(!Object.is(m,e)){const v=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(g=>g(e,v))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>u,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(WE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,s,c);return c},VE=t=>t?Gx(t):Gx;var O1={exports:{}},R1={},T1={exports:{}},A1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=w;function HE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZE=typeof Object.is=="function"?Object.is:HE,QE=Ua.useState,KE=Ua.useEffect,YE=Ua.useLayoutEffect,GE=Ua.useDebugValue;function JE(t,e){var r=e(),n=QE({inst:{value:r,getSnapshot:e}}),s=n[0].inst,a=n[1];return YE(function(){s.value=r,s.getSnapshot=e,Nh(s)&&a({inst:s})},[t,r,e]),KE(function(){return Nh(s)&&a({inst:s}),t(function(){Nh(s)&&a({inst:s})})},[t]),GE(r),r}function Nh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ZE(t,r)}catch{return!0}}function XE(t,e){return e()}var e4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XE:JE;A1.useSyncExternalStore=Ua.useSyncExternalStore!==void 0?Ua.useSyncExternalStore:e4;T1.exports=A1;var t4=T1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=w,r4=t4;function n4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var s4=typeof Object.is=="function"?Object.is:n4,i4=r4.useSyncExternalStore,a4=bd.useRef,o4=bd.useEffect,l4=bd.useMemo,c4=bd.useDebugValue;R1.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var a=a4(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=l4(function(){function c(v){if(!u){if(u=!0,h=v,v=n(v),s!==void 0&&o.hasValue){var g=o.value;if(s(g,v))return d=g}return d=v}if(g=d,s4(h,v))return g;var x=n(v);return s!==void 0&&s(g,x)?(h=v,g):(h=v,d=x)}var u=!1,h,d,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,s]);var l=i4(t,a[0],a[1]);return o4(function(){o.hasValue=!0,o.value=l},[l]),c4(l),l};O1.exports=R1;var u4=O1.exports;const d4=kp(u4),$1={},{useDebugValue:h4}=ge,{useSyncExternalStoreWithSelector:f4}=d4;let Jx=!1;const m4=t=>t;function p4(t,e=m4,r){($1?"production":void 0)!=="production"&&r&&!Jx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jx=!0);const n=f4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return h4(n),n}const g4=t=>{($1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?VE(t):t,r=(n,s)=>p4(e,n,s);return Object.assign(r,e),r},y4=t=>g4,x4={};function v4(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(s))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>r.removeItem(s)}}const _l=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return _l(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return _l(n)(r)}}}},_4=(t,e)=>(r,n,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,p)=>({...p,...j}),...e},o=!1;const l=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...j)},n,s);const h=_l(a.serialize),d=()=>{const j=a.partialize({...n()});let p;const y=h({state:j,version:a.version}).then(f=>u.setItem(a.name,f)).catch(f=>{p=f});if(p)throw p;return y},m=s.setState;s.setState=(j,p)=>{m(j,p),d()};const v=t((...j)=>{r(...j),d()},n,s);let g;const x=()=>{var j;if(!u)return;o=!1,l.forEach(y=>y(n()));const p=((j=a.onRehydrateStorage)==null?void 0:j.call(a,n()))||void 0;return _l(u.getItem.bind(u))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var f;return g=a.merge(y,(f=n())!=null?f:v),r(g,!0),d()}).then(()=>{p==null||p(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{p==null||p(void 0,y)})};return s.persist={setOptions:j=>{a={...a,...j},j.getStorage&&(u=j.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:j=>(l.add(j),()=>{l.delete(j)}),onFinishHydration:j=>(c.add(j),()=>{c.delete(j)})},x(),g||v},b4=(t,e)=>(r,n,s)=>{let a={storage:v4(()=>localStorage),partialize:x=>x,version:0,merge:(x,j)=>({...j,...x}),...e},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...x)},n,s);const h=()=>{const x=a.partialize({...n()});return u.setItem(a.name,{state:x,version:a.version})},d=s.setState;s.setState=(x,j)=>{d(x,j),h()};const m=t((...x)=>{r(...x),h()},n,s);s.getInitialState=()=>m;let v;const g=()=>{var x,j;if(!u)return;o=!1,l.forEach(y=>{var f;return y((f=n())!=null?f:m)});const p=((j=a.onRehydrateStorage)==null?void 0:j.call(a,(x=n())!=null?x:m))||void 0;return _l(u.getItem.bind(u))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var f;const[_,k]=y;if(v=a.merge(k,(f=n())!=null?f:m),r(v,!0),_)return h()}).then(()=>{p==null||p(v,void 0),v=n(),o=!0,c.forEach(y=>y(v))}).catch(y=>{p==null||p(void 0,y)})};return s.persist={setOptions:x=>{a={...a,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},a.skipHydration||g(),v||m},w4=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((x4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),_4(t,e)):b4(t,e),j4=w4,ln=Object.create(null);ln.open="0";ln.close="1";ln.ping="2";ln.pong="3";ln.message="4";ln.upgrade="5";ln.noop="6";const zc=Object.create(null);Object.keys(ln).forEach(t=>{zc[ln[t]]=t});const Dm={type:"error",data:"parser error"},L1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",F1=typeof ArrayBuffer=="function",I1=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ig=({type:t,data:e},r,n)=>L1&&e instanceof Blob?r?n(e):Xx(e,n):F1&&(e instanceof ArrayBuffer||I1(e))?r?n(e):Xx(new Blob([e]),n):n(ln[t]+(e||"")),Xx=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function e0(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let kh;function N4(t,e){if(L1&&t.data instanceof Blob)return t.data.arrayBuffer().then(e0).then(e);if(F1&&(t.data instanceof ArrayBuffer||I1(t.data)))return e(e0(t.data));Ig(t,!1,r=>{kh||(kh=new TextEncoder),e(kh.encode(r))})}const t0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$o=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<t0.length;t++)$o[t0.charCodeAt(t)]=t;const k4=t=>{let e=t.length*.75,r=t.length,n,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),h=new Uint8Array(u);for(n=0;n<r;n+=4)a=$o[t.charCodeAt(n)],o=$o[t.charCodeAt(n+1)],l=$o[t.charCodeAt(n+2)],c=$o[t.charCodeAt(n+3)],h[s++]=a<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|c&63;return u},S4=typeof ArrayBuffer=="function",Mg=(t,e)=>{if(typeof t!="string")return{type:"message",data:M1(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:C4(t.substring(1),e)}:zc[r]?t.length>1?{type:zc[r],data:t.substring(1)}:{type:zc[r]}:Dm},C4=(t,e)=>{if(S4){const r=k4(t);return M1(r,e)}else return{base64:!0,data:t}},M1=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},D1="",E4=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((a,o)=>{Ig(a,!1,l=>{n[o]=l,++s===r&&e(n.join(D1))})})},P4=(t,e)=>{const r=t.split(D1),n=[];for(let s=0;s<r.length;s++){const a=Mg(r[s],e);if(n.push(a),a.type==="error")break}return n};function O4(){return new TransformStream({transform(t,e){N4(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let Sh;function yc(t){return t.reduce((e,r)=>e+r.length,0)}function xc(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function R4(t,e){Sh||(Sh=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(yc(r)<1)break;const c=xc(r,1);a=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(yc(r)<2)break;const c=xc(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(yc(r)<8)break;const c=xc(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){l.enqueue(Dm);break}s=h*Math.pow(2,32)+u.getUint32(4),n=3}else{if(yc(r)<s)break;const c=xc(r,s);l.enqueue(Mg(a?c:Sh.decode(c),e)),n=0}if(s===0||s>t){l.enqueue(Dm);break}}}})}const B1=4;function yt(t){if(t)return T4(t)}function T4(t){for(var e in yt.prototype)t[e]=yt.prototype[e];return t}yt.prototype.on=yt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};yt.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};yt.prototype.off=yt.prototype.removeListener=yt.prototype.removeAllListeners=yt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};yt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};yt.prototype.emitReserved=yt.prototype.emit;yt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};yt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const wd=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),vr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),A4="arraybuffer";function U1(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const $4=vr.setTimeout,L4=vr.clearTimeout;function jd(t,e){e.useNativeTimers?(t.setTimeoutFn=$4.bind(vr),t.clearTimeoutFn=L4.bind(vr)):(t.setTimeoutFn=vr.setTimeout.bind(vr),t.clearTimeoutFn=vr.clearTimeout.bind(vr))}const F4=1.33;function I4(t){return typeof t=="string"?M4(t):Math.ceil((t.byteLength||t.size)*F4)}function M4(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function z1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function D4(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function B4(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class U4 extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Dg extends yt{constructor(e){super(),this.writable=!1,jd(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new U4(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Mg(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=D4(e);return r.length?"?"+r:""}}class z4 extends Dg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};P4(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,E4(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=z1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let q1=!1;try{q1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const q4=q1;function W4(){}class V4 extends z4{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let ha=class qc extends yt{constructor(e,r,n){super(),this.createRequest=e,jd(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=U1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=qc.requestsCount++,qc.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=W4,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qc.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ha.requestsCount=0;ha.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r0);else if(typeof addEventListener=="function"){const t="onpagehide"in vr?"pagehide":"unload";addEventListener(t,r0,!1)}}function r0(){for(let t in ha.requests)ha.requests.hasOwnProperty(t)&&ha.requests[t].abort()}const H4=function(){const t=W1({xdomain:!1});return t&&t.responseType!==null}();class Z4 extends V4{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=H4&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ha(W1,this.uri(),e)}}function W1(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||q4))return new XMLHttpRequest}catch{}if(!e)try{return new vr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const V1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Q4 extends Dg{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=V1?{}:U1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;Ig(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}s&&wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=z1()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Ch=vr.WebSocket||vr.MozWebSocket;class K4 extends Q4{createSocket(e,r,n){return V1?new Ch(e,r,n):r?new Ch(e,r):new Ch(e)}doWrite(e,r){this.ws.send(r)}}class Y4 extends Dg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=R4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=O4();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&wd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const G4={websocket:K4,webtransport:Y4,polling:Z4},J4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,X4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bm(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=J4.exec(t||""),a={},o=14;for(;o--;)a[X4[o]]=s[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=eP(a,a.path),a.queryKey=tP(a,a.query),a}function eP(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function tP(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,a){s&&(r[s]=a)}),r}const Um=typeof addEventListener=="function"&&typeof removeEventListener=="function",Wc=[];Um&&addEventListener("offline",()=>{Wc.forEach(t=>t())},!1);class vs extends yt{constructor(e,r){if(super(),this.binaryType=A4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Bm(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Bm(r.host).host);jd(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=B4(this.opts.query)),Um&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Wc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=B1,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&vs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",vs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=I4(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wd(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(vs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Um&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Wc.indexOf(this._offlineEventListener);n!==-1&&Wc.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}vs.protocol=B1;class rP extends vs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;vs.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;vs.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function a(){n||(n=!0,h(),r.close(),r=null)}const o=d=>{const m=new Error("probe error: "+d);m.transport=r.name,a(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function u(d){r&&d.name!==r.name&&a()}const h=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",s),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let nP=class extends rP{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>G4[s]).filter(s=>!!s)),super(e,n)}};function sP(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Bm(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const iP=typeof ArrayBuffer=="function",aP=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,H1=Object.prototype.toString,oP=typeof Blob=="function"||typeof Blob<"u"&&H1.call(Blob)==="[object BlobConstructor]",lP=typeof File=="function"||typeof File<"u"&&H1.call(File)==="[object FileConstructor]";function Bg(t){return iP&&(t instanceof ArrayBuffer||aP(t))||oP&&t instanceof Blob||lP&&t instanceof File}function Vc(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Vc(t[r]))return!0;return!1}if(Bg(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vc(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Vc(t[r]))return!0;return!1}function cP(t){const e=[],r=t.data,n=t;return n.data=zm(r,e),n.attachments=e.length,{packet:n,buffers:e}}function zm(t,e){if(!t)return t;if(Bg(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=zm(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=zm(t[n],e));return r}return t}function uP(t,e){return t.data=qm(t.data,e),delete t.attachments,t}function qm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=qm(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=qm(t[r],e));return t}const dP=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hP=5;var Fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Fe||(Fe={}));class fP{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Vc(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=cP(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function n0(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ug extends yt{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Fe.BINARY_EVENT;n||r.type===Fe.BINARY_ACK?(r.type=n?Fe.EVENT:Fe.ACK,this.reconstructor=new mP(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Bg(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Fe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Fe.BINARY_EVENT||n.type===Fe.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(Ug.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Fe.CONNECT:return n0(r);case Fe.DISCONNECT:return r===void 0;case Fe.CONNECT_ERROR:return typeof r=="string"||n0(r);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&dP.indexOf(r[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mP{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=uP(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ug,Encoder:fP,get PacketType(){return Fe},protocol:hP},Symbol.toStringTag,{value:"Module"}));function Fr(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const gP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Z1 extends yt{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fr(e,"open",this.onopen.bind(this)),Fr(e,"packet",this.onpacket.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,a;if(gP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Fe.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,d=r.pop();this._registerAckCallback(h,d),o.id=h}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const a=(o,l)=>o?s(o):n(l);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Fe.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function io(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}io.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};io.prototype.reset=function(){this.attempts=0};io.prototype.setMin=function(t){this.ms=t};io.prototype.setMax=function(t){this.max=t};io.prototype.setJitter=function(t){this.jitter=t};class Wm extends yt{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,jd(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new io({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||pP;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new nP(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Fr(r,"open",function(){n.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Fr(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fr(e,"ping",this.onping.bind(this)),Fr(e,"data",this.ondata.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){wd(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Z1(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _o={};function Hc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=sP(t,e.path||"/socket.io"),n=r.source,s=r.id,a=r.path,o=_o[s]&&a in _o[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Wm(n,e):(_o[s]||(_o[s]=new Wm(n,e)),c=_o[s]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Hc,{Manager:Wm,Socket:Z1,io:Hc,connect:Hc});const Eh={user_id:null,is_authenticated:!1,is_host:!1,token:null,display_name:null,profile_photo_url:null,superhost_status:!1,unread_message_count:0,last_active_at:null,email:null},s0={location:"",checkin_date:null,checkout_date:null,num_guests:1,filters:{price_min:null,price_max:null,bedrooms:null,beds:null,bathrooms:null,amenities:[],is_beachfront:null,is_pet_friendly:null,is_instant_book:null},sort:"recommended",page:1},Ph={items:[],unread_count:0},Oh={threads:[]},Rh={villa_id:null,checkin_date:null,checkout_date:null,num_guests:1,guest_details:{name:"",email:"",phone:null,special_requests:null},price_summary:{nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0},status:"idle"},Th={wishlists:[]},Ah={villas:[],revenue_summary:{total:0,upcoming:0},notifications:[]},i0={booking_id:null,villa_id:null,is_open:!1,type:null},ae=y4()(j4((t,e)=>({user_session:{...Eh},set_user_session:r=>t(n=>({user_session:{...n.user_session,...r}})),reset_user_session:()=>t(()=>({user_session:{...Eh}})),logout:()=>{t({user_session:{...Eh},notifications:{...Ph},messaging_threads:{...Oh},wishlist_state:{...Th},booking_cart:{...Rh},host_dashboard_state:{...Ah}}),e().disconnect_socket()},search_state:{...s0},set_search_state:r=>t(n=>({search_state:{...n.search_state,...r}})),reset_search_state:()=>t(()=>({search_state:{...s0}})),notifications:{...Ph},set_notifications:r=>t(()=>({notifications:r})),add_notification:r=>t(n=>({notifications:{...n.notifications,items:[r,...n.notifications.items],unread_count:n.notifications.unread_count+(r.is_read?0:1)}})),mark_notification_read:r=>t(n=>{const s=n.notifications.items.map(o=>o.id===r?{...o,is_read:!0}:o),a=s.reduce((o,l)=>l.is_read?o:o+1,0);return{notifications:{items:s,unread_count:a}}}),reset_notifications:()=>t(()=>({notifications:{...Ph}})),messaging_threads:{...Oh},set_messaging_threads:r=>t(()=>({messaging_threads:r})),add_message_thread:r=>t(n=>({messaging_threads:{...n.messaging_threads,threads:[r,...n.messaging_threads.threads.filter(s=>s.thread_id!==r.thread_id)]}})),update_message_thread:(r,n)=>t(s=>({messaging_threads:{...s.messaging_threads,threads:s.messaging_threads.threads.map(a=>a.thread_id===r?{...a,...n}:a)}})),reset_messaging_threads:()=>t(()=>({messaging_threads:{...Oh}})),booking_cart:{...Rh},set_booking_cart:r=>t(n=>({booking_cart:{...n.booking_cart,...r}})),reset_booking_cart:()=>t(()=>({booking_cart:{...Rh}})),wishlist_state:{...Th},set_wishlist_state:r=>t(()=>({wishlist_state:r})),reset_wishlist_state:()=>t(()=>({wishlist_state:{...Th}})),host_dashboard_state:{...Ah},set_host_dashboard_state:r=>t(n=>({host_dashboard_state:{...n.host_dashboard_state,...r}})),reset_host_dashboard_state:()=>t(()=>({host_dashboard_state:{...Ah}})),review_modal_state:{...i0},set_review_modal_state:r=>t(n=>({review_modal_state:{...n.review_modal_state,...r}})),reset_review_modal_state:()=>t(()=>({review_modal_state:{...i0}})),socket_connected:!1,last_event_received:null,connect_socket:r=>{if(typeof window>"u"||(e().disconnect_socket(),!r))return;const s=Hc("https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",{auth:{token:r},autoConnect:!0,transports:["websocket"]});s.on("connect",()=>t({socket_connected:!0})),s.on("disconnect",()=>t({socket_connected:!1})),s.on("notification_new",a=>{t(o=>({last_event_received:{type:"notification_new",payload:a},notifications:{...o.notifications,items:[a,...o.notifications.items],unread_count:(o.notifications.unread_count||0)+1}}))}),s.on("message_new",a=>{t(o=>{let l=o.messaging_threads.threads.slice();const c=l.findIndex(u=>u.thread_id===a.thread_id);if(c!==-1){const u=l[c];l[c]={...u,last_message_preview:a.content,updated_at:a.sent_at,unread_count:(u.unread_count||0)+1}}return{last_event_received:{type:"message_new",payload:a},messaging_threads:{threads:l}}})}),s.on("thread_unread_update",a=>{t(o=>{let l=o.messaging_threads.threads.slice();const c=l.findIndex(u=>u.thread_id===a.thread_id);return c!==-1&&(l[c]={...l[c],unread_count:a.unread_count}),{last_event_received:{type:"thread_unread_update",payload:a},messaging_threads:{threads:l}}})}),e()._socket=s},disconnect_socket:()=>{if(typeof window>"u")return;const r=e();r._socket&&(r._socket.disconnect(),r._socket=null),t({socket_connected:!1})}}),{name:"beachstay-villas-store",partialize:t=>{const{_socket:e,connect_socket:r,disconnect_socket:n,...s}=t;return s}}));var yP=Object.defineProperty,xP=(t,e,r)=>e in t?yP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$h=(t,e,r)=>(xP(t,typeof e!="symbol"?e+"":e,r),r);let vP=class{constructor(){$h(this,"current",this.detect()),$h(this,"handoffState","pending"),$h(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zc=new vP;function _P(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Nd(){let t=[],e={addEventListener(r,n,s,a){return r.addEventListener(n,s,a),e.add(()=>r.removeEventListener(n,s,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return _P(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=Nd();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}function Q1(){let[t]=w.useState(Nd);return w.useEffect(()=>()=>t.dispose(),[t]),t}let _s=(t,e)=>{Zc.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function K1(t){let e=w.useRef(t);return _s(()=>{e.current=t},[t]),e}let _n=function(t){let e=K1(t);return ge.useCallback((...r)=>e.current(...r),[e])};function Vm(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function kd(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kd),n}var Y1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Y1||{}),os=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(os||{});function G1(){let t=wP();return w.useCallback(e=>bP({mergeRefs:t,...e}),[t])}function bP({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:s,visible:a=!0,name:o,mergeRefs:l}){l=l??jP;let c=J1(e,t);if(a)return vc(c,r,n,o,l);let u=s??0;if(u&2){let{static:h=!1,...d}=c;if(h)return vc(d,r,n,o,l)}if(u&1){let{unmount:h=!0,...d}=c;return kd(h?0:1,{0(){return null},1(){return vc({...d,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return vc(c,r,n,o,l)}function vc(t,e={},r,n,s){let{as:a=r,children:o,refName:l="ref",...c}=Lh(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(e){let m=!1,v=[];for(let[g,x]of Object.entries(e))typeof x=="boolean"&&(m=!0),x===!0&&v.push(g.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(m){d["data-headlessui-state"]=v.join(" ");for(let g of v)d[`data-${g}`]=""}}if(a===w.Fragment&&(Object.keys(zs(c)).length>0||Object.keys(zs(d)).length>0))if(!w.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(zs(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(zs(c)).concat(Object.keys(zs(d))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=h.props,v=m==null?void 0:m.className,g=typeof v=="function"?(...p)=>Vm(v(...p),c.className):Vm(v,c.className),x=g?{className:g}:{},j=J1(h.props,zs(Lh(c,["ref"])));for(let p in d)p in j&&delete d[p];return w.cloneElement(h,Object.assign({},j,d,u,{ref:s(NP(h),u.ref)},x))}return w.createElement(a,Object.assign({},Lh(c,["ref"]),a!==w.Fragment&&u,a!==w.Fragment&&d),h)}function wP(){let t=w.useRef([]),e=w.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function jP(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function J1(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let n in r)Object.assign(e,{[n](s,...a){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...a)}}});return e}function zg(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function zs(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function Lh(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function NP(t){return ge.version.split(".")[0]>="19"?t.props.ref:t.ref}let kP=Symbol();function X1(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=_n(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return t.every(n=>n==null||(n==null?void 0:n[kP]))?void 0:r}function SP(t=0){let[e,r]=w.useState(t),n=w.useCallback(c=>r(c),[e]),s=w.useCallback(c=>r(u=>u|c),[e]),a=w.useCallback(c=>(e&c)===c,[e]),o=w.useCallback(c=>r(u=>u&~c),[r]),l=w.useCallback(c=>r(u=>u^c),[r]);return{flags:e,setFlag:n,addFlag:s,hasFlag:a,removeFlag:o,toggleFlag:l}}var CP={},a0,o0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((a0=process==null?void 0:CP)==null?void 0:a0.NODE_ENV)==="test"&&typeof((o0=Element==null?void 0:Element.prototype)==null?void 0:o0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var EP=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(EP||{});function PP(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function OP(t,e,r,n){let[s,a]=w.useState(r),{hasFlag:o,addFlag:l,removeFlag:c}=SP(t&&s?3:0),u=w.useRef(!1),h=w.useRef(!1),d=Q1();return _s(()=>{var m;if(t){if(r&&a(!0),!e){r&&l(3);return}return(m=n==null?void 0:n.start)==null||m.call(n,r),RP(e,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(r?(l(3),c(4)):(l(4),c(2)))},run(){h.current?r?(c(3),l(4)):(c(4),l(3)):r?c(1):l(1)},done(){var v;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,c(7),r||a(!1),(v=n==null?void 0:n.end)==null||v.call(n,r))}})}},[t,r,e,d]),t?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function RP(t,{prepare:e,run:r,done:n,inFlight:s}){let a=Nd();return AP(t,{prepare:e,inFlight:s}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(TP(t,n))})}),a.dispose}function TP(t,e){var r,n;let s=Nd();if(!t)return s.dispose;let a=!1;s.add(()=>{a=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{a||e()}),s.dispose)}function AP(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}let qg=w.createContext(null);qg.displayName="OpenClosedContext";var Ys=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ys||{});function ej(){return w.useContext(qg)}function $P({value:t,children:e}){return ge.createElement(qg.Provider,{value:t},e)}function LP(){let t=typeof document>"u";return(e=>e.useSyncExternalStore)(N_)(()=>()=>{},()=>!1,()=>!t)}function tj(){let t=LP(),[e,r]=w.useState(Zc.isHandoffComplete);return e&&Zc.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>Zc.handoff(),[]),t?!1:e}function FP(){let t=w.useRef(!1);return _s(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function rj(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:sj)!==w.Fragment||ge.Children.count(t.children)===1}let Sd=w.createContext(null);Sd.displayName="TransitionContext";var IP=(t=>(t.Visible="visible",t.Hidden="hidden",t))(IP||{});function MP(){let t=w.useContext(Sd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function DP(){let t=w.useContext(Cd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Cd=w.createContext(null);Cd.displayName="NestingContext";function Ed(t){return"children"in t?Ed(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function nj(t,e){let r=K1(t),n=w.useRef([]),s=FP(),a=Q1(),o=_n((v,g=os.Hidden)=>{let x=n.current.findIndex(({el:j})=>j===v);x!==-1&&(kd(g,{[os.Unmount](){n.current.splice(x,1)},[os.Hidden](){n.current[x].state="hidden"}}),a.microTask(()=>{var j;!Ed(n)&&s.current&&((j=r.current)==null||j.call(r))}))}),l=_n(v=>{let g=n.current.find(({el:x})=>x===v);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,os.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),h=w.useRef({enter:[],leave:[]}),d=_n((v,g,x)=>{c.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([j])=>j!==v)),e==null||e.chains.current[g].push([v,new Promise(j=>{c.current.push(j)})]),e==null||e.chains.current[g].push([v,new Promise(j=>{Promise.all(h.current[g].map(([p,y])=>y)).then(()=>j())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(g)):x(g)}),m=_n((v,g,x)=>{Promise.all(h.current[g].splice(0).map(([j,p])=>p)).then(()=>{var j;(j=c.current.shift())==null||j()}).then(()=>x(g))});return w.useMemo(()=>({children:n,register:l,unregister:o,onStart:d,onStop:m,wait:u,chains:h}),[l,o,n,d,m,h,u])}let sj=w.Fragment,ij=Y1.RenderStrategy;function BP(t,e){var r,n;let{transition:s=!0,beforeEnter:a,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:h,enterTo:d,entered:m,leave:v,leaveFrom:g,leaveTo:x,...j}=t,[p,y]=w.useState(null),f=w.useRef(null),_=rj(t),k=X1(..._?[f,e,y]:e===null?[]:[e]),T=(r=j.unmount)==null||r?os.Unmount:os.Hidden,{show:P,appear:F,initial:L}=MP(),[z,I]=w.useState(P?"visible":"hidden"),Z=DP(),{register:E,unregister:$}=Z;_s(()=>E(f),[E,f]),_s(()=>{if(T===os.Hidden&&f.current){if(P&&z!=="visible"){I("visible");return}return kd(z,{hidden:()=>$(f),visible:()=>E(f)})}},[z,f,E,$,P,T]);let C=tj();_s(()=>{if(_&&C&&z==="visible"&&f.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[f,z,C,_]);let b=L&&!F,S=F&&P&&L,R=w.useRef(!1),M=nj(()=>{R.current||(I("hidden"),$(f))},Z),q=_n(ie=>{R.current=!0;let Se=ie?"enter":"leave";M.onStart(f,Se,Te=>{Te==="enter"?a==null||a():Te==="leave"&&(l==null||l())})}),W=_n(ie=>{let Se=ie?"enter":"leave";R.current=!1,M.onStop(f,Se,Te=>{Te==="enter"?o==null||o():Te==="leave"&&(c==null||c())}),Se==="leave"&&!Ed(M)&&(I("hidden"),$(f))});w.useEffect(()=>{_&&s||(q(P),W(P))},[P,_,s]);let Y=!(!s||!_||!C||b),[,A]=OP(Y,p,P,{start:q,end:W}),K=zs({ref:k,className:((n=Vm(j.className,S&&u,S&&h,A.enter&&u,A.enter&&A.closed&&h,A.enter&&!A.closed&&d,A.leave&&v,A.leave&&!A.closed&&g,A.leave&&A.closed&&x,!A.transition&&P&&m))==null?void 0:n.trim())||void 0,...PP(A)}),ee=0;z==="visible"&&(ee|=Ys.Open),z==="hidden"&&(ee|=Ys.Closed),P&&z==="hidden"&&(ee|=Ys.Opening),!P&&z==="visible"&&(ee|=Ys.Closing);let D=G1();return ge.createElement(Cd.Provider,{value:M},ge.createElement($P,{value:ee},D({ourProps:K,theirProps:j,defaultTag:sj,features:ij,visible:z==="visible",name:"Transition.Child"})))}function UP(t,e){let{show:r,appear:n=!1,unmount:s=!0,...a}=t,o=w.useRef(null),l=rj(t),c=X1(...l?[o,e]:e===null?[]:[e]);tj();let u=ej();if(r===void 0&&u!==null&&(r=(u&Ys.Open)===Ys.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,d]=w.useState(r?"visible":"hidden"),m=nj(()=>{r||d("hidden")}),[v,g]=w.useState(!0),x=w.useRef([r]);_s(()=>{v!==!1&&x.current[x.current.length-1]!==r&&(x.current.push(r),g(!1))},[x,r]);let j=w.useMemo(()=>({show:r,appear:n,initial:v}),[r,n,v]);_s(()=>{r?d("visible"):!Ed(m)&&o.current!==null&&d("hidden")},[r,m]);let p={unmount:s},y=_n(()=>{var k;v&&g(!1),(k=t.beforeEnter)==null||k.call(t)}),f=_n(()=>{var k;v&&g(!1),(k=t.beforeLeave)==null||k.call(t)}),_=G1();return ge.createElement(Cd.Provider,{value:m},ge.createElement(Sd.Provider,{value:j},_({ourProps:{...p,as:w.Fragment,children:ge.createElement(aj,{ref:c,...p,...a,beforeEnter:y,beforeLeave:f})},theirProps:{},defaultTag:w.Fragment,features:ij,visible:h==="visible",name:"Transition"})))}function zP(t,e){let r=w.useContext(Sd)!==null,n=ej()!==null;return ge.createElement(ge.Fragment,null,!r&&n?ge.createElement(Hm,{ref:e,...t}):ge.createElement(aj,{ref:e,...t}))}let Hm=zg(UP),aj=zg(BP),qP=zg(zP),l0=Object.assign(Hm,{Child:qP,Root:Hm});function Wr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ji(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const oj=6048e5,WP=864e5;let VP={};function Pd(){return VP}function bl(t,e){var l,c,u,h;const r=Pd(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Wr(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function $u(t){return bl(t,{weekStartsOn:1})}function lj(t){const e=Wr(t),r=e.getFullYear(),n=ji(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=$u(n),a=ji(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=$u(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function c0(t){const e=Wr(t);return e.setHours(0,0,0,0),e}function u0(t){const e=Wr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function HP(t,e){const r=c0(t),n=c0(e),s=+r-u0(r),a=+n-u0(n);return Math.round((s-a)/WP)}function ZP(t){const e=lj(t),r=ji(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),$u(r)}function QP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function KP(t){if(!QP(t)&&typeof t!="number")return!1;const e=Wr(t);return!isNaN(Number(e))}function YP(t){const e=Wr(t),r=ji(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const GP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JP=(t,e,r)=>{let n;const s=GP[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const XP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rO={date:Fh({formats:XP,defaultWidth:"full"}),time:Fh({formats:eO,defaultWidth:"full"}),dateTime:Fh({formats:tO,defaultWidth:"full"})},nO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sO=(t,e,r,n)=>nO[t];function bo(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const iO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dO=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hO={ordinalNumber:dO,era:bo({values:iO,defaultWidth:"wide"}),quarter:bo({values:aO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bo({values:oO,defaultWidth:"wide"}),day:bo({values:lO,defaultWidth:"wide"}),dayPeriod:bo({values:cO,defaultWidth:"wide",formattingValues:uO,defaultFormattingWidth:"wide"})};function wo(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?mO(l,d=>d.test(o)):fO(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}function fO(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function mO(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function pO(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const gO=/^(\d+)(th|st|nd|rd)?/i,yO=/\d+/i,xO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vO={any:[/^b/i,/^(a|c)/i]},_O={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bO={any:[/1/i,/2/i,/3/i,/4/i]},wO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EO={ordinalNumber:pO({matchPattern:gO,parsePattern:yO,valueCallback:t=>parseInt(t,10)}),era:wo({matchPatterns:xO,defaultMatchWidth:"wide",parsePatterns:vO,defaultParseWidth:"any"}),quarter:wo({matchPatterns:_O,defaultMatchWidth:"wide",parsePatterns:bO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wo({matchPatterns:wO,defaultMatchWidth:"wide",parsePatterns:jO,defaultParseWidth:"any"}),day:wo({matchPatterns:NO,defaultMatchWidth:"wide",parsePatterns:kO,defaultParseWidth:"any"}),dayPeriod:wo({matchPatterns:SO,defaultMatchWidth:"any",parsePatterns:CO,defaultParseWidth:"any"})},PO={code:"en-US",formatDistance:JP,formatLong:rO,formatRelative:sO,localize:hO,match:EO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OO(t){const e=Wr(t);return HP(e,YP(e))+1}function RO(t){const e=Wr(t),r=+$u(e)-+ZP(e);return Math.round(r/oj)+1}function cj(t,e){var h,d,m,v;const r=Wr(t),n=r.getFullYear(),s=Pd(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(m=s.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=ji(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=bl(o,e),c=ji(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=bl(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function TO(t,e){var l,c,u,h;const r=Pd(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=cj(t,e),a=ji(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),bl(a,e)}function AO(t,e){const r=Wr(t),n=+bl(r,e)-+TO(r,e);return Math.round(n/oj)+1}function Ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ln={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ze(r+1,2)},d(t,e){return Ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ze(t.getHours()%12||12,e.length)},H(t,e){return Ze(t.getHours(),e.length)},m(t,e){return Ze(t.getMinutes(),e.length)},s(t,e){return Ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ze(s,e.length)}},Ui={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d0={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Ln.y(t,e)},Y:function(t,e,r,n){const s=cj(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return Ze(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ze(a,e.length)},R:function(t,e){const r=lj(t);return Ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ln.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=AO(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Ze(s,e.length)},I:function(t,e,r){const n=RO(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ln.d(t,e)},D:function(t,e,r){const n=OO(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ze(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ze(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Ze(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Ui.noon:n===0?s=Ui.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Ui.evening:n>=12?s=Ui.afternoon:n>=4?s=Ui.morning:s=Ui.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ln.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ln.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ln.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ln.s(t,e)},S:function(t,e){return Ln.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return f0(n);case"XXXX":case"XX":return qs(n);case"XXXXX":case"XXX":default:return qs(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return f0(n);case"xxxx":case"xx":return qs(n);case"xxxxx":case"xxx":default:return qs(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+h0(n,":");case"OOOO":default:return"GMT"+qs(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+h0(n,":");case"zzzz":default:return"GMT"+qs(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ze(n,e.length)}};function h0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+Ze(a,2)}function f0(t,e){return t%60===0?(t>0?"-":"+")+Ze(Math.abs(t)/60,2):qs(t,e)}function qs(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Ze(Math.trunc(n/60),2),a=Ze(n%60,2);return r+s+e+a}const m0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$O=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return m0(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",m0(n,e)).replace("{{time}}",uj(s,e))},LO={p:uj,P:$O},FO=/^D+$/,IO=/^Y+$/,MO=["D","DD","YY","YYYY"];function DO(t){return FO.test(t)}function BO(t){return IO.test(t)}function UO(t,e,r){const n=zO(t,e,r);if(console.warn(n),MO.includes(t))throw new RangeError(n)}function zO(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VO=/^'([^]*?)'?$/,HO=/''/g,ZO=/[a-zA-Z]/;function p0(t,e,r){var h,d,m,v;const n=Pd(),s=n.locale??PO,a=n.firstWeekContainsDate??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(m=n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,l=Wr(t);if(!KP(l))throw new RangeError("Invalid time value");let c=e.match(WO).map(g=>{const x=g[0];if(x==="p"||x==="P"){const j=LO[x];return j(g,s.formatLong)}return g}).join("").match(qO).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:QO(g)};if(d0[x])return{isToken:!0,value:g};if(x.match(ZO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const x=g.value;(BO(x)||DO(x))&&UO(x,e,String(t));const j=d0[x[0]];return j(l,x,s.localize,u)}).join("")}function QO(t){const e=t.match(VO);return e?e[1].replace(HO,"'"):t}var dj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g0=ge.createContext&&ge.createContext(dj),KO=["attr","size","title"];function YO(t,e){if(t==null)return{};var r=GO(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GO(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function y0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y0(Object(r),!0).forEach(function(n){JO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JO(t,e,r){return e=XO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XO(t){var e=eR(t,"string");return typeof e=="symbol"?e:e+""}function eR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hj(t){return t&&t.map((e,r)=>ge.createElement(e.tag,Fu({key:r},e.attr),hj(e.child)))}function ao(t){return e=>ge.createElement(tR,Lu({attr:Fu({},t.attr)},e),hj(t.child))}function tR(t){var e=r=>{var{attr:n,size:s,title:a}=t,o=YO(t,KO),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),ge.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Fu(Fu({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&ge.createElement("title",null,a),t.children)};return g0!==void 0?ge.createElement(g0.Consumer,null,r=>e(r)):e(dj)}function rR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(t)}function nR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},child:[]}]})(t)}function x0(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function sR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(t)}function iR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function aR(t){return ao({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}const oR=t=>`https://picsum.photos/seed/beachstay_user_${t}/40`,lR=()=>{const t=ae(E=>E.user_session.is_authenticated),e=ae(E=>E.user_session.is_host),r=ae(E=>E.user_session.display_name),n=ae(E=>E.user_session.profile_photo_url),s=ae(E=>E.user_session.superhost_status),a=ae(E=>E.user_session.unread_message_count),o=ae(E=>E.user_session.user_id);w.useEffect(()=>{console.log("TopNav: Auth state changed",{is_authenticated:t,is_host:e,display_name:r})},[t,e,r]);const l=ae(E=>E.search_state),c=ae(E=>E.set_search_state);ae(E=>E.reset_search_state);const u=ae(E=>E.logout),h=et(),d=qr(),[m,v]=w.useState(l.location||""),[g,x]=w.useState(l.checkin_date||null),[j,p]=w.useState(l.checkout_date||null),[y,f]=w.useState(l.num_guests||1),[_,k]=w.useState(!1),[T,P]=w.useState(!1),F=w.useRef(null),L=w.useRef(null);w.useEffect(()=>{k(!1),P(!1),v(l.location||""),x(l.checkin_date||null),p(l.checkout_date||null),f(l.num_guests||1)},[d.pathname,l.location,l.checkin_date,l.checkout_date,l.num_guests]),w.useEffect(()=>{if(T&&L.current){const E=L.current.querySelector('[role="menuitem"]');E&&E.focus()}},[T]),w.useEffect(()=>{function E(C){T&&F.current&&!F.current.contains(C.target)&&L.current&&!L.current.contains(C.target)&&P(!1)}function $(C){if(T&&C.key==="Escape"&&(P(!1),F.current&&F.current.focus()),T&&L.current&&C.key==="Tab"){const b=Array.from(L.current.querySelectorAll('[role="menuitem"]'));if(b.length===0)return;const S=b[0],R=b[b.length-1];C.shiftKey&&document.activeElement===S?(C.preventDefault(),R.focus()):!C.shiftKey&&document.activeElement===R&&(C.preventDefault(),S.focus())}}return document.addEventListener("mousedown",E),document.addEventListener("keydown",$),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("keydown",$)}},[T]);const z=E=>{E.preventDefault(),c({...l,location:m,checkin_date:g||null,checkout_date:j||null,num_guests:y,page:1});const $=new URLSearchParams;m&&$.set("location",m),g&&$.set("checkin_date",g),j&&$.set("checkout_date",j),y>0&&$.set("num_guests",String(y));const{filters:C,sort:b}=l||{};C&&(C.price_min!==null&&$.set("price_min",String(C.price_min)),C.price_max!==null&&$.set("price_max",String(C.price_max)),C.bedrooms!==null&&$.set("bedrooms",String(C.bedrooms)),C.beds!==null&&$.set("beds",String(C.beds)),C.bathrooms!==null&&$.set("bathrooms",String(C.bathrooms)),Array.isArray(C.amenities)&&C.amenities.length>0&&$.set("amenities",C.amenities.join(",")),C.is_beachfront!==null&&$.set("is_beachfront",String(C.is_beachfront)),C.is_pet_friendly!==null&&$.set("is_pet_friendly",String(C.is_pet_friendly)),C.is_instant_book!==null&&$.set("is_instant_book",String(C.is_instant_book))),b&&$.set("sort",b),h(`/search?${$.toString()}`)},I=()=>{u(),h("/")},Z=i.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg z-40 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",tabIndex:-1,ref:L,children:t?i.jsxs(i.Fragment,{children:[e?i.jsxs(i.Fragment,{children:[i.jsx(V,{to:t?e?"/host/onboarding":"/host/signup":"/guest/login?returnTo="+encodeURIComponent("/host/onboarding"),className:"py-2 text-lg font-medium text-blue-600 hover:underline",onClick:()=>k(!1),children:"List Your Villa"}),i.jsx(V,{to:"/host/profile/edit",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Edit Profile"}),i.jsxs(V,{to:"/messaging",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:["Inbox"," ",a>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-500 text-white rounded-full text-xs",children:a})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(V,{to:"/guest/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Guest Dashboard"}),i.jsx(V,{to:"/guest/my-trips",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"My Trips"}),i.jsx(V,{to:"/guest/wishlists",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Wishlists"}),i.jsxs(V,{to:"/messaging",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:["Inbox"," ",a>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-500 text-white rounded-full text-xs",children:a})]}),i.jsx(V,{to:"/guest/profile/edit",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Edit Profile"})]}),i.jsx("button",{onClick:I,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",role:"menuitem",tabIndex:0,children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(x0,{className:"mr-2"})," Log Out"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(V,{to:"/guest/login",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Log In"}),i.jsx(V,{to:"/guest/signup",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,onClick:()=>P(!1),children:"Sign Up"})]})});return i.jsx(i.Fragment,{children:i.jsxs("nav",{className:"w-full z-30 border-b border-slate-100 sticky top-0 bg-white",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-3 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 space-x-2",children:i.jsxs(V,{to:"/",className:"flex items-center flex-shrink-0 group",children:[i.jsx("span",{className:"inline-block bg-gradient-to-br from-blue-400 to-sky-600 rounded-lg p-1",children:i.jsx(rR,{className:"h-7 w-7 text-white drop-shadow-md"})}),i.jsx("span",{className:"ml-2 text-xl tracking-wide font-bold text-slate-800 group-hover:text-sky-600 transition",children:"BeachStay Villas"})]})}),i.jsx("form",{onSubmit:z,className:"hidden md:flex flex-1 justify-center mx-4","aria-label":"Villa search",children:i.jsxs("div",{className:"flex bg-gray-50 border border-gray-300 rounded-full shadow-sm overflow-hidden py-1 px-2 w-full max-w-xl items-center",children:[i.jsx("input",{type:"text",name:"location",value:m,onChange:E=>v(E.target.value),placeholder:"Search location (e.g. Cancun Beach)",className:"flex-1 py-1 px-3 text-gray-800 bg-transparent focus:outline-none focus:placeholder:text-gray-500","aria-label":"Location",autoComplete:"off"}),i.jsx("input",{type:"date",name:"checkin",value:g||"",onChange:E=>x(E.target.value||null),className:"w-32 mr-1 bg-transparent text-gray-700 focus:outline-none cursor-pointer","aria-label":"Check-in",min:p0(new Date,"yyyy-MM-dd")}),i.jsx("input",{type:"date",name:"checkout",value:j||"",onChange:E=>p(E.target.value||null),className:"w-32 mr-1 bg-transparent text-gray-700 focus:outline-none cursor-pointer","aria-label":"Check-out",min:g||p0(new Date,"yyyy-MM-dd")}),i.jsx("input",{type:"number",name:"num_guests",min:1,max:64,value:y,onChange:E=>f(Math.max(1,Number(E.target.value))),className:"w-16 mx-1 text-center bg-transparent text-gray-700 focus:outline-none","aria-label":"Guests","aria-valuemin":1}),i.jsx("button",{type:"submit",className:"ml-2 flex-shrink-0 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-1.5 ml-2 transition focus:ring ring-blue-300","aria-label":"Search",children:"Search"})]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(V,{to:t?e?"/host/onboarding":"/host/signup":"/guest/login?returnTo="+encodeURIComponent("/host/onboarding"),className:"hidden md:inline-flex px-4 py-2 bg-sky-600 text-white font-semibold rounded-full hover:bg-sky-700 transition whitespace-nowrap",children:"List Your Villa"})," ",t&&i.jsxs(V,{to:"/messaging",className:"relative flex items-center justify-center text-sky-600 hover:text-sky-700 focus:outline-none mx-1","aria-label":"Inbox",children:[i.jsx(nR,{className:"w-7 h-7"}),a>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full px-1.5 py-0.5 font-bold",children:a})]}),i.jsxs("div",{className:"relative ml-2",children:[i.jsx("button",{ref:F,onClick:()=>P(E=>!E),className:"flex items-center focus:outline-none focus:ring-2 rounded-full group",id:"user-menu","aria-label":"User Profile menu","aria-haspopup":"true","aria-expanded":T,children:t?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:n||oR(o||"default"),alt:"Profile",className:"h-9 w-9 rounded-full object-cover border border-gray-200"}),i.jsx("span",{className:"ml-2 font-semibold text-base text-slate-800 group-hover:text-blue-700 transition",children:r}),s&&i.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs rounded bg-yellow-300 text-yellow-800 font-semibold border border-yellow-500 ml-1",title:"Superhost",children:"Superhost"})]}):i.jsx(i.Fragment,{children:i.jsx(iR,{className:"h-9 w-9 text-gray-400"})})}),i.jsx(l0,{show:T,as:ge.Fragment,enter:"transition ease-out duration-150",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-100",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:i.jsx("div",{style:{minWidth:200},children:Z})})]}),i.jsx("button",{className:"ml-2 p-2 rounded-md md:hidden border border-gray-200 focus:outline-none hover:bg-gray-50",onClick:()=>k(!_),"aria-label":"Open Mobile Menu",children:_?i.jsx(aR,{className:"w-7 h-7"}):i.jsx(sR,{className:"w-7 h-7"})})]})]}),i.jsx(l0,{show:_,as:ge.Fragment,enter:"transition ease-out duration-150",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-100",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:i.jsxs("div",{className:"md:hidden bg-white border-t border-gray-100 px-3 py-4 shadow-lg",children:[i.jsx("form",{onSubmit:z,className:"mb-4",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("input",{type:"text",name:"location",value:m,onChange:E=>v(E.target.value),placeholder:"Search location",className:"bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-gray-800 focus:outline-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"date",name:"checkin",value:g||"",onChange:E=>x(E.target.value||null),className:"bg-gray-50 border border-gray-300 rounded-md px-2 py-1 flex-1","aria-label":"Check-in"}),i.jsx("input",{type:"date",name:"checkout",value:j||"",onChange:E=>p(E.target.value||null),className:"bg-gray-50 border border-gray-300 rounded-md px-2 py-1 flex-1","aria-label":"Check-out"})]}),i.jsx("input",{type:"number",name:"num_guests",min:1,value:y,onChange:E=>f(Math.max(1,Number(E.target.value))),className:"bg-gray-50 border border-gray-300 rounded-md px-2 py-1 w-20","aria-label":"Guests"}),i.jsx("button",{type:"submit",className:"mt-2 rounded-md bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 w-full","aria-label":"Search",children:"Search"})]})}),i.jsxs("div",{className:"flex flex-col gap-2 px-1",children:[i.jsx(V,{to:"/",className:"py-2 text-lg font-medium text-sky-600 hover:underline",onClick:()=>k(!1),children:"Home"}),i.jsx(V,{to:t?e?"/host/onboarding":"/host/signup":"/guest/login?returnTo=/host/onboarding",className:"py-2 text-lg font-medium text-blue-600 hover:underline",onClick:()=>k(!1),children:"List Your Villa"})," ",t?i.jsxs(i.Fragment,{children:[e?i.jsxs(i.Fragment,{children:[i.jsx(V,{to:"/host/dashboard",className:"py-2 text-base text-gray-700",onClick:()=>k(!1),children:"Host Dashboard"}),i.jsx(V,{to:"/host/profile/edit",className:"py-2 text-base text-gray-700",onClick:()=>k(!1),children:"Edit Profile"})]}):i.jsxs(i.Fragment,{children:[i.jsx(V,{to:"/guest/dashboard",className:"py-2 text-base text-gray-700",onClick:()=>k(!1),children:"Guest Dashboard"}),i.jsx(V,{to:"/guest/my-trips",className:"py-2 text-base text-gray-700",onClick:()=>k(!1),children:"My Trips"}),i.jsx(V,{to:"/guest/wishlists",className:"py-2 text-base text-gray-700",onClick:()=>k(!1),children:"Wishlists"}),i.jsx(V,{to:"/guest/profile/edit",className:"py-2 text-base text-gray-700",onClick:()=>k(!1),children:"Edit Profile"})]}),i.jsxs(V,{to:"/messaging",className:"flex items-center py-2 text-base text-gray-700",onClick:()=>k(!1),children:[i.jsx("span",{children:"Inbox"}),a>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-500 text-white rounded-full text-xs",children:a})]}),i.jsxs("button",{className:"py-2 text-base text-red-600 flex items-center",onClick:()=>{k(!1),I()},children:[i.jsx(x0,{className:"mr-2"})," Log Out"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(V,{to:"/guest/login",className:"py-2 text-blue-500",onClick:()=>k(!1),children:"Log In"}),i.jsx(V,{to:"/guest/signup",className:"py-2 text-blue-500",onClick:()=>k(!1),children:"Sign Up"})]})]})]})})]})})},cR=[{label:"About",url:"/info/about"},{label:"Privacy Policy",url:"/info/privacy"},{label:"Terms of Service",url:"/info/terms"},{label:"Contact",url:"/info/contact"}],uR=[{icon:"instagram",url:"https://instagram.com/beachstay"},{icon:"facebook",url:"https://facebook.com/beachstay"},{icon:"twitter",url:"https://twitter.com/beachstay"}],dR=" 2024 BeachStay Villas",hR=({icon:t,className:e="w-6 h-6"})=>{switch(t){case"instagram":return i.jsxs("svg",{className:e,"aria-label":"Instagram",fill:"none",viewBox:"0 0 24 24",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"22",height:"22",x:"1",y:"1",rx:"6",fill:"none",stroke:"#374151",strokeWidth:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#374151",strokeWidth:"2",fill:"none"}),i.jsx("circle",{cx:"17.5",cy:"6.5",r:"1",fill:"#374151"})]});case"facebook":return i.jsxs("svg",{className:e,"aria-label":"Facebook",viewBox:"0 0 24 24",fill:"none",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"22",height:"22",x:"1",y:"1",rx:"6",fill:"none",stroke:"#374151",strokeWidth:"2"}),i.jsx("path",{d:"M16.45 8.97h-1.34a.2.2 0 0 0-.21.22v1.29h1.41a.18.18 0 0 1 .19.19l-.04 1.59a.18.18 0 0 1-.16.2h-1.4v4.32c0 .1-.08.18-.18.18h-1.7a.18.18 0 0 1-.18-.18v-4.32h-1.07a.18.18 0 0 1-.18-.18v-1.53c0-.1.08-.18.18-.18h1.07v-1.08c0-1.08.63-2.04 2.16-2.04h1.35c.1 0 .18.08.18.18v1.46c0 .1-.08.18-.18.18z",fill:"#374151"})]});case"twitter":return i.jsxs("svg",{className:e,"aria-label":"Twitter",viewBox:"0 0 24 24",fill:"none",stroke:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"22",height:"22",x:"1",y:"1",rx:"6",fill:"none",stroke:"#374151",strokeWidth:"2"}),i.jsx("path",{d:"M17.75 9.05c-.39.17-.8.28-1.23.33a2.06 2.06 0 0 0 .91-1.14c-.4.24-.85.41-1.32.5A2.07 2.07 0 0 0 9.7 10.49c-2.13 0-3.33-1.62-3.35-1.66a2.03 2.03 0 0 0 .91 2.76c-.37-.01-.72-.1-1.03-.28 0 1.1.78 2.02 1.82 2.24a2.1 2.1 0 0 1-.92.03c.26.8 1.01 1.38 1.9 1.39a4.16 4.16 0 0 1-2.56.88c-.17 0-.34-.01-.5-.03a5.83 5.83 0 0 0 3.17.93c3.8 0 5.89-3.15 5.89-5.89v-.27c.4-.28.75-.63 1.02-1.02z",fill:"#374151"})]});default:return null}},fR=()=>{const t=qr(),e=ge.useCallback(()=>{typeof window<"u"&&window.location.assign("/info/contact")},[]);return i.jsxs("footer",{className:"w-full bg-gray-50 border-t border-gray-200 py-4 px-4 md:px-12 flex flex-col md:flex-row items-center justify-between gap-4 md:gap-0 text-sm z-10",role:"contentinfo",children:[i.jsx("nav",{className:"flex flex-wrap gap-4 md:gap-6 items-center mb-2 md:mb-0",children:cR.map(r=>{const n=t.pathname.toLowerCase().startsWith(r.url.toLowerCase());return r.label==="Contact"?i.jsx("button",{type:"button",className:"text-gray-700 hover:text-blue-600 font-medium transition-colors bg-transparent border-none p-0 m-0 cursor-pointer "+(n?"underline underline-offset-2 text-blue-600":""),"aria-label":r.label,onClick:e,children:r.label},r.label):i.jsx(V,{to:r.url,className:"text-gray-700 hover:text-blue-600 font-medium transition-colors "+(n?"underline underline-offset-2 text-blue-600":""),"aria-label":r.label,children:r.label},r.label)})}),i.jsx("div",{className:"flex gap-4 md:gap-5 items-center mb-2 md:mb-0",children:uR.map(r=>i.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer","aria-label":r.icon.charAt(0).toUpperCase()+r.icon.slice(1),className:"group",title:r.icon.charAt(0).toUpperCase()+r.icon.slice(1),children:i.jsx(hR,{icon:r.icon,className:"w-6 h-6 text-gray-600 group-hover:text-blue-600 transition-colors"})},r.icon))}),i.jsx("div",{className:"text-gray-500 text-xs md:text-sm",children:dR})]})};function fj(t,e){return function(){return t.apply(e,arguments)}}const{toString:mR}=Object.prototype,{getPrototypeOf:Wg}=Object,{iterator:Od,toStringTag:mj}=Symbol,Rd=(t=>e=>{const r=mR.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vr=t=>(t=t.toLowerCase(),e=>Rd(e)===t),Td=t=>e=>typeof e===t,{isArray:oo}=Array,wl=Td("undefined");function Ul(t){return t!==null&&!wl(t)&&t.constructor!==null&&!wl(t.constructor)&&tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pj=Vr("ArrayBuffer");function pR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pj(t.buffer),e}const gR=Td("string"),tr=Td("function"),gj=Td("number"),zl=t=>t!==null&&typeof t=="object",yR=t=>t===!0||t===!1,Qc=t=>{if(Rd(t)!=="object")return!1;const e=Wg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mj in t)&&!(Od in t)},xR=t=>{if(!zl(t)||Ul(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vR=Vr("Date"),_R=Vr("File"),bR=Vr("Blob"),wR=Vr("FileList"),jR=t=>zl(t)&&tr(t.pipe),NR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tr(t.append)&&((e=Rd(t))==="formdata"||e==="object"&&tr(t.toString)&&t.toString()==="[object FormData]"))},kR=Vr("URLSearchParams"),[SR,CR,ER,PR]=["ReadableStream","Request","Response","Headers"].map(Vr),OR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ql(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),oo(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Ul(t))return;const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function yj(t,e){if(Ul(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xj=t=>!wl(t)&&t!==Gs;function Zm(){const{caseless:t}=xj(this)&&this||{},e={},r=(n,s)=>{const a=t&&yj(e,s)||s;Qc(e[a])&&Qc(n)?e[a]=Zm(e[a],n):Qc(n)?e[a]=Zm({},n):oo(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ql(arguments[n],r);return e}const RR=(t,e,r,{allOwnKeys:n}={})=>(ql(e,(s,a)=>{r&&tr(s)?t[a]=fj(s,r):t[a]=s},{allOwnKeys:n}),t),TR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AR=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},$R=(t,e,r,n)=>{let s,a,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)o=s[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&Wg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},LR=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},FR=t=>{if(!t)return null;if(oo(t))return t;let e=t.length;if(!gj(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},IR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Wg(Uint8Array)),MR=(t,e)=>{const n=(t&&t[Od]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},DR=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},BR=Vr("HTMLFormElement"),UR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),v0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),zR=Vr("RegExp"),vj=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ql(r,(s,a)=>{let o;(o=e(s,a,t))!==!1&&(n[a]=o||s)}),Object.defineProperties(t,n)},qR=t=>{vj(t,(e,r)=>{if(tr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(tr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},WR=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return oo(t)?n(t):n(String(t).split(e)),r},VR=()=>{},HR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ZR(t){return!!(t&&tr(t.append)&&t[mj]==="FormData"&&t[Od])}const QR=t=>{const e=new Array(10),r=(n,s)=>{if(zl(n)){if(e.indexOf(n)>=0)return;if(Ul(n))return n;if(!("toJSON"in n)){e[s]=n;const a=oo(n)?[]:{};return ql(n,(o,l)=>{const c=r(o,s+1);!wl(c)&&(a[l]=c)}),e[s]=void 0,a}}return n};return r(t,0)},KR=Vr("AsyncFunction"),YR=t=>t&&(zl(t)||tr(t))&&tr(t.then)&&tr(t.catch),_j=((t,e)=>t?setImmediate:e?((r,n)=>(Gs.addEventListener("message",({source:s,data:a})=>{s===Gs&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Gs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tr(Gs.postMessage)),GR=typeof queueMicrotask<"u"?queueMicrotask.bind(Gs):typeof process<"u"&&process.nextTick||_j,JR=t=>t!=null&&tr(t[Od]),B={isArray:oo,isArrayBuffer:pj,isBuffer:Ul,isFormData:NR,isArrayBufferView:pR,isString:gR,isNumber:gj,isBoolean:yR,isObject:zl,isPlainObject:Qc,isEmptyObject:xR,isReadableStream:SR,isRequest:CR,isResponse:ER,isHeaders:PR,isUndefined:wl,isDate:vR,isFile:_R,isBlob:bR,isRegExp:zR,isFunction:tr,isStream:jR,isURLSearchParams:kR,isTypedArray:IR,isFileList:wR,forEach:ql,merge:Zm,extend:RR,trim:OR,stripBOM:TR,inherits:AR,toFlatObject:$R,kindOf:Rd,kindOfTest:Vr,endsWith:LR,toArray:FR,forEachEntry:MR,matchAll:DR,isHTMLForm:BR,hasOwnProperty:v0,hasOwnProp:v0,reduceDescriptors:vj,freezeMethods:qR,toObjectSet:WR,toCamelCase:UR,noop:VR,toFiniteNumber:HR,findKey:yj,global:Gs,isContextDefined:xj,isSpecCompliantForm:ZR,toJSONObject:QR,isAsyncFn:KR,isThenable:YR,setImmediate:_j,asap:GR,isIterable:JR};function je(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}B.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const bj=je.prototype,wj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wj[t]={value:t}});Object.defineProperties(je,wj);Object.defineProperty(bj,"isAxiosError",{value:!0});je.from=(t,e,r,n,s,a)=>{const o=Object.create(bj);return B.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),je.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const XR=null;function Qm(t){return B.isPlainObject(t)||B.isArray(t)}function jj(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function _0(t,e,r){return t?t.concat(e).map(function(s,a){return s=jj(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function eT(t){return B.isArray(t)&&!t.some(Qm)}const tT=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Ad(t,e,r){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,j){return!B.isUndefined(j[x])});const n=r.metaTokens,s=r.visitor||h,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(B.isDate(g))return g.toISOString();if(B.isBoolean(g))return g.toString();if(!c&&B.isBlob(g))throw new je("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(g)||B.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,x,j){let p=g;if(g&&!j&&typeof g=="object"){if(B.endsWith(x,"{}"))x=n?x:x.slice(0,-2),g=JSON.stringify(g);else if(B.isArray(g)&&eT(g)||(B.isFileList(g)||B.endsWith(x,"[]"))&&(p=B.toArray(g)))return x=jj(x),p.forEach(function(f,_){!(B.isUndefined(f)||f===null)&&e.append(o===!0?_0([x],_,a):o===null?x:x+"[]",u(f))}),!1}return Qm(g)?!0:(e.append(_0(j,x,a),u(g)),!1)}const d=[],m=Object.assign(tT,{defaultVisitor:h,convertValue:u,isVisitable:Qm});function v(g,x){if(!B.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(g),B.forEach(g,function(p,y){(!(B.isUndefined(p)||p===null)&&s.call(e,p,B.isString(y)?y.trim():y,x,m))===!0&&v(p,x?x.concat(y):[y])}),d.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return v(t),e}function b0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Vg(t,e){this._pairs=[],t&&Ad(t,this,e)}const Nj=Vg.prototype;Nj.append=function(e,r){this._pairs.push([e,r])};Nj.toString=function(e){const r=e?function(n){return e.call(this,n,b0)}:b0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function rT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kj(t,e,r){if(!e)return t;const n=r&&r.encode||rT;B.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=B.isURLSearchParams(e)?e.toString():new Vg(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class w0{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Sj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nT=typeof URLSearchParams<"u"?URLSearchParams:Vg,sT=typeof FormData<"u"?FormData:null,iT=typeof Blob<"u"?Blob:null,aT={isBrowser:!0,classes:{URLSearchParams:nT,FormData:sT,Blob:iT},protocols:["http","https","file","blob","url","data"]},Hg=typeof window<"u"&&typeof document<"u",Km=typeof navigator=="object"&&navigator||void 0,oT=Hg&&(!Km||["ReactNative","NativeScript","NS"].indexOf(Km.product)<0),lT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cT=Hg&&window.location.href||"http://localhost",uT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hg,hasStandardBrowserEnv:oT,hasStandardBrowserWebWorkerEnv:lT,navigator:Km,origin:cT},Symbol.toStringTag,{value:"Module"})),Mt={...uT,...aT};function dT(t,e){return Ad(t,new Mt.classes.URLSearchParams,{visitor:function(r,n,s,a){return Mt.isNode&&B.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function hT(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fT(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function Cj(t){function e(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&B.isArray(s)?s.length:o,c?(B.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!B.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],a)&&B.isArray(s[o])&&(s[o]=fT(s[o])),!l)}if(B.isFormData(t)&&B.isFunction(t.entries)){const r={};return B.forEachEntry(t,(n,s)=>{e(hT(n),s,r,0)}),r}return null}function mT(t,e,r){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Wl={transitional:Sj,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=B.isObject(e);if(a&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return s?JSON.stringify(Cj(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dT(e,this.formSerializer).toString();if((l=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ad(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),mT(e)):e}],transformResponse:[function(e){const r=this.transitional||Wl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?je.from(l,je.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{Wl.headers[t]={}});const pT=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gT=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&pT[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},j0=Symbol("internals");function jo(t){return t&&String(t).trim().toLowerCase()}function Kc(t){return t===!1||t==null?t:B.isArray(t)?t.map(Kc):String(t)}function yT(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const xT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ih(t,e,r,n,s){if(B.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!B.isString(e)){if(B.isString(n))return e.indexOf(n)!==-1;if(B.isRegExp(n))return n.test(e)}}function vT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _T(t,e){const r=B.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,o){return this[n].call(this,e,s,a,o)},configurable:!0})})}let rr=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(l,c,u){const h=jo(c);if(!h)throw new Error("header name must be a non-empty string");const d=B.findKey(s,h);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Kc(l))}const o=(l,c)=>B.forEach(l,(u,h)=>a(u,h,c));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(B.isString(e)&&(e=e.trim())&&!xT(e))o(gT(e),r);else if(B.isObject(e)&&B.isIterable(e)){let l={},c,u;for(const h of e){if(!B.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?B.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=jo(e),e){const n=B.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return yT(s);if(B.isFunction(r))return r.call(this,s,n);if(B.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=jo(e),e){const n=B.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ih(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(o){if(o=jo(o),o){const l=B.findKey(n,o);l&&(!r||Ih(n,n[l],l,r))&&(delete n[l],s=!0)}}return B.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||Ih(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return B.forEach(this,(s,a)=>{const o=B.findKey(n,a);if(o){r[o]=Kc(s),delete r[a];return}const l=e?vT(a):String(a).trim();l!==a&&delete r[a],r[l]=Kc(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return B.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&B.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[j0]=this[j0]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=jo(o);n[l]||(_T(s,o),n[l]=!0)}return B.isArray(e)?e.forEach(a):a(e),this}};rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(rr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});B.freezeMethods(rr);function Mh(t,e){const r=this||Wl,n=e||r,s=rr.from(n.headers);let a=n.data;return B.forEach(t,function(l){a=l.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Ej(t){return!!(t&&t.__CANCEL__)}function lo(t,e,r){je.call(this,t??"canceled",je.ERR_CANCELED,e,r),this.name="CanceledError"}B.inherits(lo,je,{__CANCEL__:!0});function Pj(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function bT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wT(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=n[a];o||(o=u),r[s]=c,n[s]=u;let d=a,m=0;for(;d!==s;)m+=r[d++],d=d%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),u-o<e)return;const v=h&&u-h;return v?Math.round(m*1e3/v):void 0}}function jT(t,e){let r=0,n=1e3/e,s,a;const o=(u,h=Date.now())=>{r=h,s=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const h=Date.now(),d=h-r;d>=n?o(u,h):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-d)))},()=>s&&o(s)]}const Iu=(t,e,r=3)=>{let n=0;const s=wT(50,250);return jT(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),h=o<=l;n=o;const d={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(d)},r)},N0=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},k0=t=>(...e)=>B.asap(()=>t(...e)),NT=Mt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Mt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,kT=Mt.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const o=[t+"="+encodeURIComponent(e)];B.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),B.isString(n)&&o.push("path="+n),B.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ST(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Oj(t,e,r){let n=!ST(e);return t&&(n||r==!1)?CT(t,e):e}const S0=t=>t instanceof rr?{...t}:t;function Ni(t,e){e=e||{};const r={};function n(u,h,d,m){return B.isPlainObject(u)&&B.isPlainObject(h)?B.merge.call({caseless:m},u,h):B.isPlainObject(h)?B.merge({},h):B.isArray(h)?h.slice():h}function s(u,h,d,m){if(B.isUndefined(h)){if(!B.isUndefined(u))return n(void 0,u,d,m)}else return n(u,h,d,m)}function a(u,h){if(!B.isUndefined(h))return n(void 0,h)}function o(u,h){if(B.isUndefined(h)){if(!B.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function l(u,h,d){if(d in e)return n(u,h);if(d in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,d)=>s(S0(u),S0(h),d,!0)};return B.forEach(Object.keys({...t,...e}),function(h){const d=c[h]||s,m=d(t[h],e[h],h);B.isUndefined(m)&&d!==l||(r[h]=m)}),r}const Rj=t=>{const e=Ni({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=rr.from(o),e.url=kj(Oj(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(B.isFormData(r)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...h]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Mt.hasStandardBrowserEnv&&(n&&B.isFunction(n)&&(n=n(e)),n||n!==!1&&NT(e.url))){const u=s&&a&&kT.read(a);u&&o.set(s,u)}return e},ET=typeof XMLHttpRequest<"u",PT=ET&&function(t){return new Promise(function(r,n){const s=Rj(t);let a=s.data;const o=rr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,h,d,m,v,g;function x(){v&&v(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function p(){if(!j)return;const f=rr.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:f,config:t,request:j};Pj(function(P){r(P),x()},function(P){n(P),x()},k),j=null}"onloadend"in j?j.onloadend=p:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(p)},j.onabort=function(){j&&(n(new je("Request aborted",je.ECONNABORTED,t,j)),j=null)},j.onerror=function(){n(new je("Network Error",je.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||Sj;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new je(_,k.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,j)),j=null},a===void 0&&o.setContentType(null),"setRequestHeader"in j&&B.forEach(o.toJSON(),function(_,k){j.setRequestHeader(k,_)}),B.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),l&&l!=="json"&&(j.responseType=s.responseType),u&&([m,g]=Iu(u,!0),j.addEventListener("progress",m)),c&&j.upload&&([d,v]=Iu(c),j.upload.addEventListener("progress",d),j.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=f=>{j&&(n(!f||f.type?new lo(null,t,j):f),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const y=bT(s.url);if(y&&Mt.protocols.indexOf(y)===-1){n(new je("Unsupported protocol "+y+":",je.ERR_BAD_REQUEST,t));return}j.send(a||null)})},OT=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;n.abort(h instanceof je?h:new lo(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>B.asap(l),c}},RT=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},TT=async function*(t,e){for await(const r of AT(t))yield*RT(r,e)},AT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},C0=(t,e,r,n)=>{const s=TT(t,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await s.next();if(u){l(),c.close();return}let d=h.byteLength;if(r){let m=a+=d;r(m)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},$d=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tj=$d&&typeof ReadableStream=="function",$T=$d&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Aj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},LT=Tj&&Aj(()=>{let t=!1;const e=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),E0=64*1024,Ym=Tj&&Aj(()=>B.isReadableStream(new Response("").body)),Mu={stream:Ym&&(t=>t.body)};$d&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Mu[e]&&(Mu[e]=B.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,n)})})})(new Response);const FT=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(Mt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await $T(t)).byteLength},IT=async(t,e)=>{const r=B.toFiniteNumber(t.getContentLength());return r??FT(e)},MT=$d&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:d="same-origin",fetchOptions:m}=Rj(t);u=u?(u+"").toLowerCase():"text";let v=OT([s,a&&a.toAbortSignal()],o),g;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let j;try{if(c&&LT&&r!=="get"&&r!=="head"&&(j=await IT(h,n))!==0){let k=new Request(e,{method:"POST",body:n,duplex:"half"}),T;if(B.isFormData(n)&&(T=k.headers.get("content-type"))&&h.setContentType(T),k.body){const[P,F]=N0(j,Iu(k0(c)));n=C0(k.body,E0,P,F)}}B.isString(d)||(d=d?"include":"omit");const p="credentials"in Request.prototype;g=new Request(e,{...m,signal:v,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:p?d:void 0});let y=await fetch(g,m);const f=Ym&&(u==="stream"||u==="response");if(Ym&&(l||f&&x)){const k={};["status","statusText","headers"].forEach(L=>{k[L]=y[L]});const T=B.toFiniteNumber(y.headers.get("content-length")),[P,F]=l&&N0(T,Iu(k0(l),!0))||[];y=new Response(C0(y.body,E0,P,()=>{F&&F(),x&&x()}),k)}u=u||"text";let _=await Mu[B.findKey(Mu,u)||"text"](y,t);return!f&&x&&x(),await new Promise((k,T)=>{Pj(k,T,{data:_,headers:rr.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(p){throw x&&x(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,g),{cause:p.cause||p}):je.from(p,p&&p.code,t,g)}}),Gm={http:XR,xhr:PT,fetch:MT};B.forEach(Gm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const P0=t=>`- ${t}`,DT=t=>B.isFunction(t)||t===null||t===!1,$j={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!DT(r)&&(n=Gm[(o=String(r)).toLowerCase()],n===void 0))throw new je(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(P0).join(`
`):" "+P0(a[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Gm};function Dh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lo(null,t)}function O0(t){return Dh(t),t.headers=rr.from(t.headers),t.data=Mh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$j.getAdapter(t.adapter||Wl.adapter)(t).then(function(n){return Dh(t),n.data=Mh.call(t,t.transformResponse,n),n.headers=rr.from(n.headers),n},function(n){return Ej(n)||(Dh(t),n&&n.response&&(n.response.data=Mh.call(t,t.transformResponse,n.response),n.response.headers=rr.from(n.response.headers))),Promise.reject(n)})}const Lj="1.11.0",Ld={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ld[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const R0={};Ld.transitional=function(e,r,n){function s(a,o){return"[Axios v"+Lj+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new je(s(o," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!R0[o]&&(R0[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};Ld.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function BT(t,e,r){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new je("option "+a+" must be "+c,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+a,je.ERR_BAD_OPTION)}}const Yc={assertOptions:BT,validators:Ld},Zr=Yc.validators;let hi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new w0,response:new w0}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ni(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Yc.assertOptions(n,{silentJSONParsing:Zr.transitional(Zr.boolean),forcedJSONParsing:Zr.transitional(Zr.boolean),clarifyTimeoutError:Zr.transitional(Zr.boolean)},!1),s!=null&&(B.isFunction(s)?r.paramsSerializer={serialize:s}:Yc.assertOptions(s,{encode:Zr.function,serialize:Zr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Yc.assertOptions(r,{baseUrl:Zr.spelling("baseURL"),withXsrfToken:Zr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&B.merge(a.common,a[r.method]);a&&B.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=rr.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let h,d=0,m;if(!c){const g=[O0.bind(this),void 0];for(g.unshift(...l),g.push(...u),m=g.length,h=Promise.resolve(r);d<m;)h=h.then(g[d++],g[d++]);return h}m=l.length;let v=r;for(d=0;d<m;){const g=l[d++],x=l[d++];try{v=g(v)}catch(j){x.call(this,j);break}}try{h=O0.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,m=u.length;d<m;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=Ni(this.defaults,e);const r=Oj(e.baseURL,e.url,e.allowAbsoluteUrls);return kj(r,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){hi.prototype[e]=function(r,n){return this.request(Ni(n||{},{method:e,url:r,data:(n||{}).data}))}});B.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(Ni(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}hi.prototype[e]=r(),hi.prototype[e+"Form"]=r(!0)});let UT=class Fj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new lo(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Fj(function(s){e=s}),cancel:e}}};function zT(t){return function(r){return t.apply(null,r)}}function qT(t){return B.isObject(t)&&t.isAxiosError===!0}const Jm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jm).forEach(([t,e])=>{Jm[e]=t});function Ij(t){const e=new hi(t),r=fj(hi.prototype.request,e);return B.extend(r,hi.prototype,e,{allOwnKeys:!0}),B.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Ij(Ni(t,s))},r}const H=Ij(Wl);H.Axios=hi;H.CanceledError=lo;H.CancelToken=UT;H.isCancel=Ej;H.VERSION=Lj;H.toFormData=Ad;H.AxiosError=je;H.Cancel=H.CanceledError;H.all=function(e){return Promise.all(e)};H.spread=zT;H.isAxiosError=qT;H.mergeConfig=Ni;H.AxiosHeaders=rr;H.formToJSON=t=>Cj(B.isHTMLForm(t)?new FormData(t):t);H.getAdapter=$j.getAdapter;H.HttpStatusCode=Jm;H.default=H;const{Axios:TL,AxiosError:AL,CanceledError:$L,isCancel:LL,CancelToken:FL,VERSION:IL,all:ML,Cancel:DL,isAxiosError:BL,spread:UL,toFormData:zL,AxiosHeaders:qL,HttpStatusCode:WL,formToJSON:VL,getAdapter:HL,mergeConfig:ZL}=H,Fn={success:{icon:i.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),bg:"bg-green-50",border:"border-green-300",text:"text-green-800"},error:{icon:i.jsxs("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),bg:"bg-red-50",border:"border-red-300",text:"text-red-800"},warning:{icon:i.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M9.93 9.93l-6.36 6.36m15.56-6.36l-6.36 6.36"})}),bg:"bg-yellow-50",border:"border-yellow-300",text:"text-yellow-800"},info:{icon:i.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]}),bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-800"},default:{icon:i.jsx("span",{className:"w-5 h-5 mr-2"}),bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-800"}},WT=5200;function No(t){if(!t)return"info";const e=t.toLowerCase();return e.includes("success")||e==="booking_confirmed"||e==="message_sent"?"success":e.includes("error")||e==="booking_failed"||e==="failed"?"error":e.includes("warn")||e==="warning"||e==="alert"?"warning":(e.includes("info")||e==="message_received","info")}const VT=()=>{var y,f,_,k;const t=ae(T=>T.notifications.items);ae(T=>T.notifications.unread_count),ae(T=>T.add_notification);const e=ae(T=>T.mark_notification_read),r=ae(T=>T.set_notifications),n=ae(T=>T.user_session),[s,a]=w.useState(0),[o,l]=w.useState(!0),[c,u]=w.useState(null),[h,d]=w.useState(null),m=[...t].sort((T,P)=>T.is_read===P.is_read?new Date(P.created_at).getTime()-new Date(T.created_at).getTime():T.is_read?1:-1),v=m.length>0&&o?m[s]:null,g=H.create({baseURL:"https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",headers:n!=null&&n.token?{Authorization:`Bearer ${n.token}`}:void 0});Rt();const x=qe({mutationFn:async T=>{if(!T)throw new Error("Invalid id");const P=t.find(F=>F.notification_id===T);P&&P.is_read||await g.post(`/account/notifications/${T}/read`)},onSuccess:(T,P)=>{e(P),setTimeout(()=>{s<m.length-1?(a(F=>F+1),l(!0)):l(!1)},180)},onError:T=>{d("Error updating notification. Try again."),setTimeout(()=>d(null),3500)}}),j=w.useCallback(()=>{v&&(!v.is_read&&(n!=null&&n.token)?x.mutate(v.notification_id):setTimeout(()=>{s<m.length-1?(a(T=>T+1),l(!0)):l(!1)},80))},[v,x,n,s,m.length]);w.useEffect(()=>{const T=P=>{(P.key==="Escape"||P.key==="Esc")&&v&&o&&(P.preventDefault(),j())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[v,o,j]),w.useEffect(()=>{if(v&&o&&["success","info"].includes(No(v.type))){c&&clearTimeout(c);const T=setTimeout(()=>{j()},WT);return u(T),()=>clearTimeout(T)}c&&clearTimeout(c)},[v,o,j]),w.useEffect(()=>{m.length===0?(l(!1),a(0)):(a(0),l(!0))},[t.length]);const p=w.useRef(null);return w.useEffect(()=>{v&&o&&p.current&&p.current.focus()},[v,o]),w.useEffect(()=>{if(!(n!=null&&n.token))return;(async()=>{try{const{data:P}=await g.get("/account/notifications");if(P&&P.items){const F=P.items.map(L=>({notification_id:String(L.notification_id),user_id:L.user_id?String(L.user_id):void 0,type:L.type,message:L.message,is_read:L.is_read,reference_id:L.reference_id===null||typeof L.reference_id>"u"?null:String(L.reference_id),created_at:L.created_at}));r({items:F,unread_count:Number(P.unread_count)||0})}}catch{d("Could not retrieve notifications.")}})()},[n==null?void 0:n.token]),i.jsxs(i.Fragment,{children:[h&&i.jsxs("div",{className:"fixed top-2 right-4 z-50 w-auto max-w-sm px-4 py-3 bg-red-100 border border-red-400 text-red-800 rounded shadow-md flex items-center animate-fade",children:[i.jsxs("svg",{className:"w-5 h-5 mr-2 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01"})]}),i.jsx("div",{className:"flex-1 text-sm",children:h})]}),v&&o&&i.jsx("div",{tabIndex:0,"aria-live":"polite","aria-atomic":"true",className:`fixed top-4 right-4 z-[100] max-w-sm min-w-[300px] rounded-lg shadow-2xl transition-all duration-200
            border font-medium
            ${((y=Fn[No(v.type)])==null?void 0:y.bg)||Fn.default.bg}
            ${((f=Fn[No(v.type)])==null?void 0:f.border)||Fn.default.border}
            ${((_=Fn[No(v.type)])==null?void 0:_.text)||Fn.default.text}
            animate-slide-in
          `,style:{outline:"none"},role:"status",children:i.jsxs("div",{className:"flex flex-row items-center p-4 pr-2 relative",children:[((k=Fn[No(v.type)])==null?void 0:k.icon)||Fn.default.icon,i.jsx("div",{className:"flex-1 text-sm whitespace-pre-line",children:v.message}),i.jsx("button",{onClick:j,ref:p,"aria-label":"Dismiss notification",className:"ml-4 p-0.5 rounded focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",tabIndex:0,children:i.jsxs("svg",{className:"w-5 h-5 text-gray-500 hover:text-gray-800",stroke:"currentColor",fill:"none",viewBox:"0 0 20 20","aria-hidden":"true",children:[i.jsx("title",{children:"Close"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6l8 8M6 14L14 6"})]})})]})},v.notification_id)]})};var Be;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Be||(Be={}));var T0;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(T0||(T0={}));const he=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qn=t=>{switch(typeof t){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(t)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(t)?he.array:t===null?he.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?he.promise:typeof Map<"u"&&t instanceof Map?he.map:typeof Set<"u"&&t instanceof Set?he.set:typeof Date<"u"&&t instanceof Date?he.date:he.object;default:return he.unknown}},J=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let an=class Mj extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Mj))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};an.create=t=>new an(t);const Xm=(t,e)=>{let r;switch(t.code){case J.invalid_type:t.received===he.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Be.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:r=`Unrecognized key(s) in object: ${Be.joinValues(t.keys,", ")}`;break;case J.invalid_union:r="Invalid input";break;case J.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Be.joinValues(t.options)}`;break;case J.invalid_enum_value:r=`Invalid enum value. Expected ${Be.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:r="Invalid function arguments";break;case J.invalid_return_type:r="Invalid function return type";break;case J.invalid_date:r="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Be.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case J.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case J.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case J.custom:r="Invalid input";break;case J.invalid_intersection_types:r="Intersection results could not be merged";break;case J.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:r="Number must be finite";break;default:r=e.defaultError,Be.assertNever(t)}return{message:r}};let HT=Xm;function ZT(){return HT}const QT=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function oe(t,e){const r=ZT(),n=QT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Xm?void 0:Xm].filter(s=>!!s)});t.common.issues.push(n)}let zr=class Dj{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Dj.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return ve;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}};const ve=Object.freeze({status:"aborted"}),Lo=t=>({status:"dirty",value:t}),kr=t=>({status:"valid",value:t}),A0=t=>t.status==="aborted",$0=t=>t.status==="dirty",za=t=>t.status==="valid",Du=t=>typeof Promise<"u"&&t instanceof Promise;var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));let ks=class{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const L0=(t,e)=>{if(za(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new an(t.common.issues);return this._error=r,this._error}}};function Ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}let Me=class{get description(){return this._def.description}_getType(e){return qn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:qn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zr,ctx:{common:e.parent.common,data:e.data,parsedType:qn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Du(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return L0(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qn(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return za(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>za(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qn(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Du(s)?s:Promise.resolve(s));return L0(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:J.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Wa({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bs.create(this,this._def)}nullable(){return Va.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qa.create(this)}promise(){return zu.create(this,this._def)}or(e){return Bu.create([this,e],this._def)}and(e){return Uu.create(this,e,this._def)}transform(e){return new Wa({...Ee(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new cp({...Ee(this._def),innerType:this,defaultValue:r,typeName:be.ZodDefault})}brand(){return new yA({typeName:be.ZodBranded,type:this,...Ee(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new up({...Ee(this._def),innerType:this,catchValue:r,typeName:be.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return xA.create(this,e)}readonly(){return dp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const KT=/^c[^\s-]{8,}$/i,YT=/^[0-9a-z]+$/,GT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XT=/^[a-z0-9_-]{21}$/i,eA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bh;const sA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uA=new RegExp(`^${Bj}$`);function Uj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function dA(t){return new RegExp(`^${Uj(t)}$`)}function hA(t){let e=`${Bj}T${Uj(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function fA(t,e){return!!((e==="v4"||!e)&&sA.test(t)||(e==="v6"||!e)&&aA.test(t))}function mA(t,e){if(!eA.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function pA(t,e){return!!((e==="v4"||!e)&&iA.test(t)||(e==="v6"||!e)&&oA.test(t))}let ep=class Fo extends Me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==he.string){const a=this._getOrReturnCtx(e);return oe(a,{code:J.invalid_type,expected:he.string,received:a.parsedType}),ve}const n=new zr;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?oe(s,{code:J.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&oe(s,{code:J.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")rA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"email",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Bh||(Bh=new RegExp(nA,"u")),Bh.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"emoji",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")JT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"uuid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")XT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"nanoid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")KT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")YT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid2",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")GT.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ulid",code:J.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),oe(s,{validation:"url",code:J.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"regex",code:J.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?hA(a).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?uA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?dA(a).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:J.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?tA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"duration",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?fA(e.data,a.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ip",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?mA(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"jwt",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?pA(e.data,a.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cidr",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?lA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64",code:J.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?cA.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64url",code:J.invalid_string,message:a.message}),n.dirty()):Be.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:J.invalid_string,...me.errToObj(n)})}_addCheck(e){return new Fo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...me.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...me.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...me.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...me.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...me.errToObj(r)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ep.create=t=>new ep({checks:[],typeName:be.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ee(t)});function gA(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}let tp=class rp extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==he.number){const a=this._getOrReturnCtx(e);return oe(a,{code:J.invalid_type,expected:he.number,received:a.parsedType}),ve}let n;const s=new zr;for(const a of this._def.checks)a.kind==="int"?Be.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),oe(n,{code:J.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:J.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:J.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?gA(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),oe(n,{code:J.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),oe(n,{code:J.not_finite,message:a.message}),s.dirty()):Be.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,me.toString(r))}setLimit(e,r,n,s){return new rp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:me.toString(s)}]})}_addCheck(e){return new rp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};tp.create=t=>new tp({checks:[],typeName:be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});let F0=class np extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==he.bigint)return this._getInvalidInput(e);let n;const s=new zr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:J.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:J.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:J.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Be.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:he.bigint,received:r.parsedType}),ve}gte(e,r){return this.setLimit("min",e,!0,me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,me.toString(r))}setLimit(e,r,n,s){return new np({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:me.toString(s)}]})}_addCheck(e){return new np({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};F0.create=t=>new F0({checks:[],typeName:be.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ee(t)});let sp=class extends Me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==he.boolean){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:he.boolean,received:n.parsedType}),ve}return kr(e.data)}};sp.create=t=>new sp({typeName:be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ee(t)});let ip=class zj extends Me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==he.date){const a=this._getOrReturnCtx(e);return oe(a,{code:J.invalid_type,expected:he.date,received:a.parsedType}),ve}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return oe(a,{code:J.invalid_date}),ve}const n=new zr;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:J.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Be.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zj({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ip.create=t=>new ip({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:be.ZodDate,...Ee(t)});let I0=class extends Me{_parse(e){if(this._getType(e)!==he.symbol){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:he.symbol,received:n.parsedType}),ve}return kr(e.data)}};I0.create=t=>new I0({typeName:be.ZodSymbol,...Ee(t)});let M0=class extends Me{_parse(e){if(this._getType(e)!==he.undefined){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:he.undefined,received:n.parsedType}),ve}return kr(e.data)}};M0.create=t=>new M0({typeName:be.ZodUndefined,...Ee(t)});let D0=class extends Me{_parse(e){if(this._getType(e)!==he.null){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:he.null,received:n.parsedType}),ve}return kr(e.data)}};D0.create=t=>new D0({typeName:be.ZodNull,...Ee(t)});let B0=class extends Me{constructor(){super(...arguments),this._any=!0}_parse(e){return kr(e.data)}};B0.create=t=>new B0({typeName:be.ZodAny,...Ee(t)});let U0=class extends Me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kr(e.data)}};U0.create=t=>new U0({typeName:be.ZodUnknown,...Ee(t)});let Ss=class extends Me{_parse(e){const r=this._getOrReturnCtx(e);return oe(r,{code:J.invalid_type,expected:he.never,received:r.parsedType}),ve}};Ss.create=t=>new Ss({typeName:be.ZodNever,...Ee(t)});let z0=class extends Me{_parse(e){if(this._getType(e)!==he.undefined){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:he.void,received:n.parsedType}),ve}return kr(e.data)}};z0.create=t=>new z0({typeName:be.ZodVoid,...Ee(t)});let qa=class Gc extends Me{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==he.array)return oe(r,{code:J.invalid_type,expected:he.array,received:r.parsedType}),ve;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(oe(r,{code:o?J.too_big:J.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ks(r,o,r.path,l)))).then(o=>zr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new ks(r,o,r.path,l)));return zr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Gc({...this._def,minLength:{value:e,message:me.toString(r)}})}max(e,r){return new Gc({...this._def,maxLength:{value:e,message:me.toString(r)}})}length(e,r){return new Gc({...this._def,exactLength:{value:e,message:me.toString(r)}})}nonempty(e){return this.min(1,e)}};qa.create=(t,e)=>new qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Ee(e)});function Wi(t){if(t instanceof En){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=bs.create(Wi(n))}return new En({...t._def,shape:()=>e})}else return t instanceof qa?new qa({...t._def,type:Wi(t.element)}):t instanceof bs?bs.create(Wi(t.unwrap())):t instanceof Va?Va.create(Wi(t.unwrap())):t instanceof jl?jl.create(t.items.map(e=>Wi(e))):t}let En=class Or extends Me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Be.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==he.object){const u=this._getOrReturnCtx(e);return oe(u,{code:J.invalid_type,expected:he.object,received:u.parsedType}),ve}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ss&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new ks(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ss){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(oe(s,{code:J.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const d=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new ks(s,d,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const d=await h.key,m=await h.value;u.push({key:d,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>zr.mergeObjectSync(n,u)):zr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new Or({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:me.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Or({...this._def,unknownKeys:"strip"})}passthrough(){return new Or({...this._def,unknownKeys:"passthrough"})}extend(e){return new Or({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Or({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:be.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Or({...this._def,catchall:e})}pick(e){const r={};for(const n of Be.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Be.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}deepPartial(){return Wi(this)}partial(e){const r={};for(const n of Be.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Or({...this._def,shape:()=>r})}required(e){const r={};for(const n of Be.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof bs;)a=a._def.innerType;r[n]=a}return new Or({...this._def,shape:()=>r})}keyof(){return Wj(Be.objectKeys(this.shape))}};En.create=(t,e)=>new En({shape:()=>t,unknownKeys:"strip",catchall:Ss.create(),typeName:be.ZodObject,...Ee(e)});En.strictCreate=(t,e)=>new En({shape:()=>t,unknownKeys:"strict",catchall:Ss.create(),typeName:be.ZodObject,...Ee(e)});En.lazycreate=(t,e)=>new En({shape:t,unknownKeys:"strip",catchall:Ss.create(),typeName:be.ZodObject,...Ee(e)});let Bu=class extends Me{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new an(l.ctx.common.issues));return oe(r,{code:J.invalid_union,unionErrors:o}),ve}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new an(c));return oe(r,{code:J.invalid_union,unionErrors:l}),ve}}get options(){return this._def.options}};Bu.create=(t,e)=>new Bu({options:t,typeName:be.ZodUnion,...Ee(e)});function ap(t,e){const r=qn(t),n=qn(e);if(t===e)return{valid:!0,data:t};if(r===he.object&&n===he.object){const s=Be.objectKeys(e),a=Be.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=ap(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===he.array&&n===he.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=ap(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===he.date&&n===he.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let Uu=class extends Me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(A0(a)||A0(o))return ve;const l=ap(a.value,o.value);return l.valid?(($0(a)||$0(o))&&r.dirty(),{status:r.value,value:l.data}):(oe(n,{code:J.invalid_intersection_types}),ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Uu.create=(t,e,r)=>new Uu({left:t,right:e,typeName:be.ZodIntersection,...Ee(r)});let jl=class qj extends Me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.array)return oe(n,{code:J.invalid_type,expected:he.array,received:n.parsedType}),ve;if(n.data.length<this._def.items.length)return oe(n,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&n.data.length>this._def.items.length&&(oe(n,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ks(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>zr.mergeArray(r,o)):zr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new qj({...this._def,rest:e})}};jl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jl({items:t,typeName:be.ZodTuple,rest:null,...Ee(e)})};let q0=class extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.map)return oe(n,{code:J.invalid_type,expected:he.map,received:n.parsedType}),ve;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ks(n,l,n.path,[u,"key"])),value:a._parse(new ks(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return ve;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return ve;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}}}};q0.create=(t,e,r)=>new q0({valueType:e,keyType:t,typeName:be.ZodMap,...Ee(r)});let W0=class op extends Me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.set)return oe(n,{code:J.invalid_type,expected:he.set,received:n.parsedType}),ve;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(oe(n,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(oe(n,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return ve;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new ks(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new op({...this._def,minSize:{value:e,message:me.toString(r)}})}max(e,r){return new op({...this._def,maxSize:{value:e,message:me.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};W0.create=(t,e)=>new W0({valueType:t,minSize:null,maxSize:null,typeName:be.ZodSet,...Ee(e)});let V0=class extends Me{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};V0.create=(t,e)=>new V0({getter:t,typeName:be.ZodLazy,...Ee(e)});let H0=class extends Me{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return oe(r,{received:r.data,code:J.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}};H0.create=(t,e)=>new H0({value:t,typeName:be.ZodLiteral,...Ee(e)});function Wj(t,e){return new Zg({values:t,typeName:be.ZodEnum,...Ee(e)})}let Zg=class lp extends Me{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return oe(r,{expected:Be.joinValues(n),received:r.parsedType,code:J.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return oe(r,{received:r.data,code:J.invalid_enum_value,options:n}),ve}return kr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return lp.create(e,{...this._def,...r})}exclude(e,r=this._def){return lp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Zg.create=Wj;let Z0=class extends Me{_parse(e){const r=Be.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==he.string&&n.parsedType!==he.number){const s=Be.objectValues(r);return oe(n,{expected:Be.joinValues(s),received:n.parsedType,code:J.invalid_type}),ve}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Be.objectValues(r);return oe(n,{received:n.data,code:J.invalid_enum_value,options:s}),ve}return kr(e.data)}get enum(){return this._def.values}};Z0.create=(t,e)=>new Z0({values:t,typeName:be.ZodNativeEnum,...Ee(e)});let zu=class extends Me{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.promise&&r.common.async===!1)return oe(r,{code:J.invalid_type,expected:he.promise,received:r.parsedType}),ve;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return kr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};zu.create=(t,e)=>new zu({type:t,typeName:be.ZodPromise,...Ee(e)});let Wa=class extends Me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ve;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ve:c.status==="dirty"||r.value==="dirty"?Lo(c.value):c});{if(r.value==="aborted")return ve;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ve:l.status==="dirty"||r.value==="dirty"?Lo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!za(o))return ve;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>za(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):ve);Be.assertNever(s)}};Wa.create=(t,e,r)=>new Wa({schema:t,typeName:be.ZodEffects,effect:e,...Ee(r)});Wa.createWithPreprocess=(t,e,r)=>new Wa({schema:e,effect:{type:"preprocess",transform:t},typeName:be.ZodEffects,...Ee(r)});let bs=class extends Me{_parse(e){return this._getType(e)===he.undefined?kr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};bs.create=(t,e)=>new bs({innerType:t,typeName:be.ZodOptional,...Ee(e)});let Va=class extends Me{_parse(e){return this._getType(e)===he.null?kr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Va.create=(t,e)=>new Va({innerType:t,typeName:be.ZodNullable,...Ee(e)});let cp=class extends Me{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};cp.create=(t,e)=>new cp({innerType:t,typeName:be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});let up=class extends Me{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Du(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};up.create=(t,e)=>new up({innerType:t,typeName:be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});let Q0=class extends Me{_parse(e){if(this._getType(e)!==he.nan){const n=this._getOrReturnCtx(e);return oe(n,{code:J.invalid_type,expected:he.nan,received:n.parsedType}),ve}return{status:"valid",value:e.data}}};Q0.create=t=>new Q0({typeName:be.ZodNaN,...Ee(t)});let yA=class extends Me{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},xA=class Vj extends Me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ve:a.status==="dirty"?(r.dirty(),Lo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ve:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Vj({in:e,out:r,typeName:be.ZodPipeline})}},dp=class extends Me{_parse(e){const r=this._def.innerType._parse(e),n=s=>(za(s)&&(s.value=Object.freeze(s.value)),s);return Du(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};dp.create=(t,e)=>new dp({innerType:t,typeName:be.ZodReadonly,...Ee(e)});var be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(be||(be={}));const It=ep.create,Fs=tp.create,hp=sp.create,vA=ip.create;Ss.create;const Ws=qa.create,Fd=En.create,Hj=Bu.create;Uu.create;jl.create;Zg.create;zu.create;bs.create;Va.create;Fd({villa_id:Hj([Fs(),It()]),title:It(),address_city:It(),main_photo_url:It(),price_per_night:Fs(),bedrooms:Fs(),beds:Fs(),bathrooms:Fs(),is_active:hp(),is_instant_book:hp(),avg_rating:Fs(),reviews_count:Fs()});const Nl="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api";console.log("Homepage: API_BASE configured as:",Nl);H.defaults.withCredentials=!1;H.defaults.headers.common.Accept="application/json";const _A=async()=>{try{console.log("Fetching featured villas from:",`${Nl}/villas/featured`);const{data:t}=await H.get(`${Nl}/villas/featured`);return console.log("Featured villas response:",t),Array.isArray(t)?t.map(e=>({...e,villa_id:String(e.villa_id),main_photo_url:e.main_photo_url||`https://picsum.photos/seed/villa_${e.villa_id}/600/400`})):[]}catch(t){throw console.error("Error fetching featured villas:",t),t}},bA=async()=>{try{console.log("Fetching popular destinations from:",`${Nl}/villas/popular-locations`);const{data:t}=await H.get(`${Nl}/villas/popular-locations`);return console.log("Popular destinations response:",t),Array.isArray(t)?t:[]}catch(t){throw console.error("Error fetching popular destinations:",t),t}},wA=()=>{const t=ae($=>$.user_session),e=ae($=>$.search_state),r=ae($=>$.set_search_state),n=et(),[s,a]=w.useState(e.location||""),[o,l]=w.useState(e.checkin_date||null),[c,u]=w.useState(e.checkout_date||null),[h,d]=w.useState(e.num_guests||1),{data:m,isLoading:v,isError:g,error:x,refetch:j}=xe({queryKey:["featured_villas"],queryFn:_A,staleTime:60*1e3}),{data:p,isLoading:y,isError:f,error:_,refetch:k}=xe({queryKey:["popular_destinations"],queryFn:bA,staleTime:60*1e3}),T=t.is_authenticated&&t.display_name?`Welcome back, ${t.display_name.split(" ")[0]||t.display_name}!`:null,P=w.useCallback($=>{$.preventDefault(),r({...e,location:s,checkin_date:o,checkout_date:c,num_guests:h,page:1});const C=new URLSearchParams;s&&C.append("location",s),o&&C.append("checkin_date",o),c&&C.append("checkout_date",c),h&&h>0&&C.append("num_guests",String(h)),n(`/search?${C.toString()}`)},[s,o,c,h,r,n,e]),F=$=>typeof $=="number"?`$${$.toLocaleString(void 0,{maximumFractionDigits:0})}`:"",L=$=>{if(typeof $!="number"||$<=0)return null;const C=Math.round($*2)/2;return i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 15l-5.878 3.09L5.66 12.18.782 8.452l6.268-.91L10 1.5l2.95 6.042 6.268.91-4.878 3.727 1.538 5.91z"})}),i.jsx("span",{className:"text-xs font-semibold",children:(C||0).toFixed(1)})]})},z=w.useRef(null);w.useEffect(()=>{!s&&z.current&&z.current.focus()},[s]);const I=t.is_authenticated?t.is_host?"/host/onboarding":"/host/signup":"/guest/login?returnTo="+encodeURIComponent("/host/onboarding"),[Z]=w.useState(!1),[E]=w.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative w-full bg-cover bg-center min-h-[350px] flex items-center justify-center",style:{backgroundImage:"url('https://picsum.photos/seed/beachhero/1600/700')"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-transparent pointer-events-none"}),i.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-5xl mx-auto px-4 py-16",children:[T?i.jsx("h2",{className:"text-white text-3xl sm:text-4xl font-bold mb-6 drop-shadow-lg text-center",children:T}):i.jsx("h1",{className:"text-white text-4xl sm:text-6xl font-extrabold mb-4 drop-shadow-lg text-center",children:"Find your perfect beach villa."}),i.jsx("p",{className:"mt-1 mb-7 text-white font-medium text-lg text-center drop-shadow",children:"Sun-drenched escapes, ocean breezes, barefoot living."}),i.jsxs("form",{className:"w-full max-w-3xl bg-white/95 shadow-lg rounded-lg p-4 flex flex-col md:flex-row gap-2 md:gap-4 items-center",onSubmit:P,"aria-label":"Search for beach villas",children:[i.jsx("input",{type:"text",name:"location",ref:z,autoComplete:"off",placeholder:"Where to? (city or beach)",className:"flex-1 min-w-[120px] rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",value:s,onChange:$=>a($.target.value)}),i.jsx("input",{type:"date",name:"checkin_date",className:"w-[120px] rounded-lg border border-gray-300 px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",value:o||"",onChange:$=>l($.target.value||null),min:new Date().toISOString().slice(0,10),placeholder:"Check-in"}),i.jsx("input",{type:"date",name:"checkout_date",className:"w-[120px] rounded-lg border border-gray-300 px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",value:c||"",onChange:$=>u($.target.value||null),min:o||new Date().toISOString().slice(0,10),placeholder:"Check-out"}),i.jsx("input",{type:"number",name:"num_guests",className:"w-[90px] rounded-lg border border-gray-300 px-2 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",min:1,value:h,onChange:$=>d(Math.max(1,parseInt($.target.value)||1)),placeholder:"Guests"}),i.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-lg transition-shadow focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Search",children:"Search"})]}),i.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 justify-center items-center w-full",children:[i.jsx(V,{to:I,className:"inline-block bg-gradient-to-r from-teal-500 to-blue-500 hover:from-blue-500 hover:to-teal-500 text-white font-semibold shadow-md px-6 py-3 rounded-3xl text-lg transition-all",children:"List Your Villa"}),!t.is_authenticated&&i.jsxs(i.Fragment,{children:[i.jsx(V,{to:"/guest/login",className:"text-white bg-black/50 hover:bg-black/70 font-semibold rounded-3xl px-5 py-2 transition",children:"Login"}),i.jsx(V,{to:"/guest/signup",className:"text-white bg-black/40 hover:bg-black/70 font-semibold rounded-3xl px-5 py-2 transition",children:"Sign Up"})]})]})]})]}),i.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 md:px-8 py-12 flex flex-col gap-16",children:[i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-end justify-between mb-2",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Featured Villas"}),i.jsx("button",{className:"text-blue-600 underline underline-offset-4 hover:text-blue-800 focus:outline-none disabled:opacity-70 text-sm",onClick:()=>j(),disabled:v,"aria-label":"Refresh Featured Villas",type:"button",children:"Refresh"})]}),i.jsxs("div",{className:"relative",children:[v&&i.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-scroll pb-2",children:Array.from({length:4}).map(($,C)=>i.jsx("div",{className:"animate-pulse w-[300px] h-[320px] rounded-2xl bg-gray-200 flex-shrink-0"},C))}),g&&i.jsx("div",{className:"bg-red-100 py-3 px-5 rounded-lg my-2",children:i.jsxs("p",{className:"text-red-700",children:["Failed to load featured villas."," ",i.jsx("button",{className:"underline text-blue-700",onClick:()=>j(),type:"button",children:"Retry"})]})}),!v&&!g&&i.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-auto pb-2 snap-x",style:{WebkitOverflowScrolling:"touch"},children:m&&m.length>0?m.map(($,C)=>i.jsxs(V,{to:`/villa/${$.villa_id}`,className:"bg-white rounded-2xl shadow hover:shadow-lg transform hover:-translate-y-1 transition-all min-w-[275px] max-w-[315px] w-[285px] flex-shrink-0 flex flex-col snap-start",children:[i.jsxs("div",{className:"relative rounded-t-2xl overflow-hidden h-[180px] bg-gray-100",children:[i.jsx("img",{src:$.main_photo_url,alt:$.title,className:"object-cover w-full h-full transition-transform duration-200",loading:"lazy"}),$.is_instant_book&&i.jsx("span",{className:"absolute top-2 right-2 bg-green-500/80 text-xs px-2 py-0.5 rounded text-white font-medium shadow",children:"Instant Book"})]}),i.jsxs("div",{className:"flex-1 flex flex-col px-4 pt-3 pb-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsxs("div",{className:"flex items-center gap-2",children:[$.avg_rating>0&&L(Number($.avg_rating)),$.reviews_count>0&&i.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:["(",$.reviews_count,")"]})]})}),i.jsx("h3",{className:"text-lg font-semibold truncate",title:$.title,children:$.title}),i.jsxs("div",{className:"flex flex-row items-center text-sm text-gray-500 gap-2 mt-0.5",children:[i.jsx("svg",{className:"w-4 h-4 text-blue-400 inline",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 18c-6-5.39-8-7.182-8-10A8 8 0 118 18h4zm0-8a2 2 0 110-4 2 2 0 010 4z"})}),i.jsx("span",{children:$.address_city})]}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-blue-700 text-lg",children:[F($.price_per_night),i.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"/night"})]}),i.jsxs("span",{className:"inline-block text-xs text-gray-500",children:[$.bedrooms," bd  ",$.beds," beds  ",$.bathrooms," ba"]})]})]})]},$.villa_id||C)):i.jsx("div",{className:"text-sm text-gray-600 font-medium p-4",children:"No featured villas available at the moment."})})]})]}),i.jsxs("section",{className:"w-full",children:[i.jsxs("div",{className:"flex items-end justify-between mb-2",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Popular Beach Destinations"}),i.jsx("button",{className:"text-blue-600 underline underline-offset-4 hover:text-blue-800 focus:outline-none disabled:opacity-70 text-sm",onClick:()=>k(),disabled:y,type:"button","aria-label":"Refresh Destinations",children:"Refresh"})]}),i.jsxs("div",{className:"relative",children:[y&&i.jsx("div",{className:"flex flex-wrap gap-5 py-2",children:Array.from({length:7}).map(($,C)=>i.jsx("div",{className:"animate-pulse w-[172px] h-[100px] rounded-xl bg-gray-200"},C))}),f&&i.jsx("div",{className:"bg-red-100 py-3 px-5 rounded-lg my-2",children:i.jsxs("p",{className:"text-red-700",children:["Failed to load destinations."," ",i.jsx("button",{className:"underline text-blue-700",onClick:()=>k(),type:"button",children:"Retry"})]})}),!y&&!f&&i.jsx("div",{className:"flex flex-wrap gap-5",children:p&&p.length>0?p.map(($,C)=>i.jsxs(V,{to:`/search?location=${encodeURIComponent($)}`,className:"group flex flex-col items-center justify-center bg-gradient-to-br from-cyan-50 to-blue-50 border border-blue-200 rounded-xl shadow hover:shadow-lg h-[100px] w-[172px] transition-all hover:scale-[1.04] focus:ring-2 ring-blue-400",tabIndex:0,"aria-label":`Browse villas in ${$}`,children:[i.jsx("span",{className:"text-base font-semibold text-blue-800 group-hover:text-teal-700",children:$}),i.jsx("span",{className:"mt-1 text-xs text-blue-400 group-hover:text-teal-500",children:"View villas "})]},$||C)):i.jsx("div",{className:"text-sm text-gray-600 font-medium p-4",children:"No popular destinations found."})})]})]}),i.jsx("div",{className:"mx-auto max-w-3xl text-center text-lg text-gray-600 py-3",children:i.jsxs("span",{children:["Discover your new favorite beach"," ",i.jsx("span",{className:"font-semibold text-blue-500",children:"getaway"}),"  from sun-kissed coasts to secret escapes, BeachStay Villas brings the ocean closer to you."]})})]})]})};var co=TypeError;const jA={},NA=Object.freeze(Object.defineProperty({__proto__:null,default:jA},Symbol.toStringTag,{value:"Module"})),kA=SN(NA);var Qg=typeof Map=="function"&&Map.prototype,Uh=Object.getOwnPropertyDescriptor&&Qg?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,qu=Qg&&Uh&&typeof Uh.get=="function"?Uh.get:null,K0=Qg&&Map.prototype.forEach,Kg=typeof Set=="function"&&Set.prototype,zh=Object.getOwnPropertyDescriptor&&Kg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Wu=Kg&&zh&&typeof zh.get=="function"?zh.get:null,Y0=Kg&&Set.prototype.forEach,SA=typeof WeakMap=="function"&&WeakMap.prototype,Qo=SA?WeakMap.prototype.has:null,CA=typeof WeakSet=="function"&&WeakSet.prototype,Ko=CA?WeakSet.prototype.has:null,EA=typeof WeakRef=="function"&&WeakRef.prototype,G0=EA?WeakRef.prototype.deref:null,PA=Boolean.prototype.valueOf,OA=Object.prototype.toString,RA=Function.prototype.toString,TA=String.prototype.match,Yg=String.prototype.slice,ls=String.prototype.replace,AA=String.prototype.toUpperCase,J0=String.prototype.toLowerCase,Zj=RegExp.prototype.test,X0=Array.prototype.concat,tn=Array.prototype.join,$A=Array.prototype.slice,ev=Math.floor,fp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qh=Object.getOwnPropertySymbols,mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Yo=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ha||!0)?Symbol.toStringTag:null,Qj=Object.prototype.propertyIsEnumerable,tv=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function rv(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Zj.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ev(-t):ev(t);if(n!==t){var s=String(n),a=Yg.call(e,s.length+1);return ls.call(s,r,"$&_")+"."+ls.call(ls.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ls.call(e,r,"$&_")}var pp=kA,nv=pp.custom,sv=Gj(nv)?nv:null,Kj={__proto__:null,double:'"',single:"'"},LA={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Id=function t(e,r,n,s){var a=r||{};if(mn(a,"quoteStyle")&&!mn(Kj,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(mn(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=mn(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(mn(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(mn(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Xj(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?rv(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return l?rv(e,u):u}var h=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return gp(e)?"[Array]":"[Object]";var d=XA(a,n);if(typeof s>"u")s=[];else if(Jj(s,e)>=0)return"[Circular]";function m(E,$,C){if($&&(s=$A.call(s),s.push($)),C){var b={depth:a.depth};return mn(a,"quoteStyle")&&(b.quoteStyle=a.quoteStyle),t(E,b,n+1,s)}return t(E,a,n+1,s)}if(typeof e=="function"&&!iv(e)){var v=WA(e),g=_c(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(g.length>0?" { "+tn.call(g,", ")+" }":"")}if(Gj(e)){var x=Ha?ls.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):mp.call(e);return typeof e=="object"&&!Ha?ko(x):x}if(YA(e)){for(var j="<"+J0.call(String(e.nodeName)),p=e.attributes||[],y=0;y<p.length;y++)j+=" "+p[y].name+"="+Yj(FA(p[y].value),"double",a);return j+=">",e.childNodes&&e.childNodes.length&&(j+="..."),j+="</"+J0.call(String(e.nodeName))+">",j}if(gp(e)){if(e.length===0)return"[]";var f=_c(e,m);return d&&!JA(f)?"["+yp(f,d)+"]":"[ "+tn.call(f,", ")+" ]"}if(MA(e)){var _=_c(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!Qj.call(e,"cause")?"{ ["+String(e)+"] "+tn.call(X0.call("[cause]: "+m(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+tn.call(_,", ")+" }"}if(typeof e=="object"&&o){if(sv&&typeof e[sv]=="function"&&pp)return pp(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(VA(e)){var k=[];return K0&&K0.call(e,function(E,$){k.push(m($,e,!0)+" => "+m(E,e))}),av("Map",qu.call(e),k,d)}if(QA(e)){var T=[];return Y0&&Y0.call(e,function(E){T.push(m(E,e))}),av("Set",Wu.call(e),T,d)}if(HA(e))return Wh("WeakMap");if(KA(e))return Wh("WeakSet");if(ZA(e))return Wh("WeakRef");if(BA(e))return ko(m(Number(e)));if(zA(e))return ko(m(fp.call(e)));if(UA(e))return ko(PA.call(e));if(DA(e))return ko(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof cy<"u"&&e===cy)return"{ [object globalThis] }";if(!IA(e)&&!iv(e)){var P=_c(e,m),F=tv?tv(e)===Object.prototype:e instanceof Object||e.constructor===Object,L=e instanceof Object?"":"null prototype",z=!F&&Yo&&Object(e)===e&&Yo in e?Yg.call(As(e),8,-1):L?"Object":"",I=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Z=I+(z||L?"["+tn.call(X0.call([],z||[],L||[]),": ")+"] ":"");return P.length===0?Z+"{}":d?Z+"{"+yp(P,d)+"}":Z+"{ "+tn.call(P,", ")+" }"}return String(e)};function Yj(t,e,r){var n=r.quoteStyle||e,s=Kj[n];return s+t+s}function FA(t){return ls.call(String(t),/"/g,"&quot;")}function Ai(t){return!Yo||!(typeof t=="object"&&(Yo in t||typeof t[Yo]<"u"))}function gp(t){return As(t)==="[object Array]"&&Ai(t)}function IA(t){return As(t)==="[object Date]"&&Ai(t)}function iv(t){return As(t)==="[object RegExp]"&&Ai(t)}function MA(t){return As(t)==="[object Error]"&&Ai(t)}function DA(t){return As(t)==="[object String]"&&Ai(t)}function BA(t){return As(t)==="[object Number]"&&Ai(t)}function UA(t){return As(t)==="[object Boolean]"&&Ai(t)}function Gj(t){if(Ha)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!mp)return!1;try{return mp.call(t),!0}catch{}return!1}function zA(t){if(!t||typeof t!="object"||!fp)return!1;try{return fp.call(t),!0}catch{}return!1}var qA=Object.prototype.hasOwnProperty||function(t){return t in this};function mn(t,e){return qA.call(t,e)}function As(t){return OA.call(t)}function WA(t){if(t.name)return t.name;var e=TA.call(RA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Jj(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function VA(t){if(!qu||!t||typeof t!="object")return!1;try{qu.call(t);try{Wu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function HA(t){if(!Qo||!t||typeof t!="object")return!1;try{Qo.call(t,Qo);try{Ko.call(t,Ko)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ZA(t){if(!G0||!t||typeof t!="object")return!1;try{return G0.call(t),!0}catch{}return!1}function QA(t){if(!Wu||!t||typeof t!="object")return!1;try{Wu.call(t);try{qu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function KA(t){if(!Ko||!t||typeof t!="object")return!1;try{Ko.call(t,Ko);try{Qo.call(t,Qo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function YA(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Xj(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Xj(Yg.call(t,0,e.maxStringLength),e)+n}var s=LA[e.quoteStyle||"single"];s.lastIndex=0;var a=ls.call(ls.call(t,s,"\\$1"),/[\x00-\x1f]/g,GA);return Yj(a,"single",e)}function GA(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+AA.call(e.toString(16))}function ko(t){return"Object("+t+")"}function Wh(t){return t+" { ? }"}function av(t,e,r,n){var s=n?yp(r,n):tn.call(r,", ");return t+" ("+e+") {"+s+"}"}function JA(t){for(var e=0;e<t.length;e++)if(Jj(t[e],`
`)>=0)return!1;return!0}function XA(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=tn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:tn.call(Array(e+1),r)}}function yp(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+tn.call(t,","+r)+`
`+e.prev}function _c(t,e){var r=gp(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=mn(t,s)?e(t[s],t):""}var a=typeof qh=="function"?qh(t):[],o;if(Ha){o={};for(var l=0;l<a.length;l++)o["$"+a[l]]=a[l]}for(var c in t)mn(t,c)&&(r&&String(Number(c))===c&&c<t.length||Ha&&o["$"+c]instanceof Symbol||(Zj.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof qh=="function")for(var u=0;u<a.length;u++)Qj.call(t,a[u])&&n.push("["+e(a[u])+"]: "+e(t[a[u]],t));return n}var e$=Id,t$=co,Md=function(t,e,r){for(var n=t,s;(s=n.next)!=null;n=s)if(s.key===e)return n.next=s.next,r||(s.next=t.next,t.next=s),s},r$=function(t,e){if(t){var r=Md(t,e);return r&&r.value}},n$=function(t,e,r){var n=Md(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},s$=function(t,e){return t?!!Md(t,e):!1},i$=function(t,e){if(t)return Md(t,e,!0)},a$=function(){var e,r={assert:function(n){if(!r.has(n))throw new t$("Side channel does not contain "+e$(n))},delete:function(n){var s=e&&e.next,a=i$(e,n);return a&&s&&s===a&&(e=void 0),!!a},get:function(n){return r$(e,n)},has:function(n){return s$(e,n)},set:function(n,s){e||(e={next:void 0}),n$(e,n,s)}};return r},eN=Object,o$=Error,l$=EvalError,c$=RangeError,u$=ReferenceError,d$=SyntaxError,h$=URIError,f$=Math.abs,m$=Math.floor,p$=Math.max,g$=Math.min,y$=Math.pow,x$=Math.round,v$=Number.isNaN||function(e){return e!==e},_$=v$,b$=function(e){return _$(e)||e===0?e:e<0?-1:1},w$=Object.getOwnPropertyDescriptor,Jc=w$;if(Jc)try{Jc([],"length")}catch{Jc=null}var tN=Jc,Xc=Object.defineProperty||!1;if(Xc)try{Xc({},"a",{value:1})}catch{Xc=!1}var j$=Xc,Vh,ov;function N$(){return ov||(ov=1,Vh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),Vh}var Hh,lv;function k$(){if(lv)return Hh;lv=1;var t=typeof Symbol<"u"&&Symbol,e=N$();return Hh=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Hh}var Zh,cv;function rN(){return cv||(cv=1,Zh=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Zh}var Qh,uv;function nN(){if(uv)return Qh;uv=1;var t=eN;return Qh=t.getPrototypeOf||null,Qh}var Kh,dv;function S$(){if(dv)return Kh;dv=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(c,u){for(var h=[],d=0;d<c.length;d+=1)h[d]=c[d];for(var m=0;m<u.length;m+=1)h[m+c.length]=u[m];return h},a=function(c,u){for(var h=[],d=u,m=0;d<c.length;d+=1,m+=1)h[m]=c[d];return h},o=function(l,c){for(var u="",h=0;h<l.length;h+=1)u+=l[h],h+1<l.length&&(u+=c);return u};return Kh=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var h=a(arguments,1),d,m=function(){if(this instanceof d){var p=u.apply(this,s(h,arguments));return Object(p)===p?p:this}return u.apply(c,s(h,arguments))},v=r(0,u.length-h.length),g=[],x=0;x<v;x++)g[x]="$"+x;if(d=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(m),u.prototype){var j=function(){};j.prototype=u.prototype,d.prototype=new j,j.prototype=null}return d},Kh}var Yh,hv;function Dd(){if(hv)return Yh;hv=1;var t=S$();return Yh=Function.prototype.bind||t,Yh}var Gh,fv;function Gg(){return fv||(fv=1,Gh=Function.prototype.call),Gh}var Jh,mv;function sN(){return mv||(mv=1,Jh=Function.prototype.apply),Jh}var C$=typeof Reflect<"u"&&Reflect&&Reflect.apply,E$=Dd(),P$=sN(),O$=Gg(),R$=C$,T$=R$||E$.call(O$,P$),A$=Dd(),$$=co,L$=Gg(),F$=T$,iN=function(e){if(e.length<1||typeof e[0]!="function")throw new $$("a function is required");return F$(A$,L$,e)},Xh,pv;function I$(){if(pv)return Xh;pv=1;var t=iN,e=tN,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Xh=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(l){return a(l==null?l:s(l))}:!1,Xh}var ef,gv;function M$(){if(gv)return ef;gv=1;var t=rN(),e=nN(),r=I$();return ef=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,ef}var tf,yv;function D$(){if(yv)return tf;yv=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Dd();return tf=r.call(t,e),tf}var Oe,B$=eN,U$=o$,z$=l$,q$=c$,W$=u$,Za=d$,fa=co,V$=h$,H$=f$,Z$=m$,Q$=p$,K$=g$,Y$=y$,G$=x$,J$=b$,aN=Function,rf=function(t){try{return aN('"use strict"; return ('+t+").constructor;")()}catch{}},kl=tN,X$=j$,nf=function(){throw new fa},e3=kl?function(){try{return arguments.callee,nf}catch{try{return kl(arguments,"callee").get}catch{return nf}}}():nf,zi=k$()(),bt=M$(),t3=nN(),r3=rN(),oN=sN(),Vl=Gg(),Vi={},n3=typeof Uint8Array>"u"||!bt?Oe:bt(Uint8Array),fi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Oe:ArrayBuffer,"%ArrayIteratorPrototype%":zi&&bt?bt([][Symbol.iterator]()):Oe,"%AsyncFromSyncIteratorPrototype%":Oe,"%AsyncFunction%":Vi,"%AsyncGenerator%":Vi,"%AsyncGeneratorFunction%":Vi,"%AsyncIteratorPrototype%":Vi,"%Atomics%":typeof Atomics>"u"?Oe:Atomics,"%BigInt%":typeof BigInt>"u"?Oe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Oe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Oe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":U$,"%eval%":eval,"%EvalError%":z$,"%Float16Array%":typeof Float16Array>"u"?Oe:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Oe:FinalizationRegistry,"%Function%":aN,"%GeneratorFunction%":Vi,"%Int8Array%":typeof Int8Array>"u"?Oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zi&&bt?bt(bt([][Symbol.iterator]())):Oe,"%JSON%":typeof JSON=="object"?JSON:Oe,"%Map%":typeof Map>"u"?Oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zi||!bt?Oe:bt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":B$,"%Object.getOwnPropertyDescriptor%":kl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Oe:Promise,"%Proxy%":typeof Proxy>"u"?Oe:Proxy,"%RangeError%":q$,"%ReferenceError%":W$,"%Reflect%":typeof Reflect>"u"?Oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zi||!bt?Oe:bt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zi&&bt?bt(""[Symbol.iterator]()):Oe,"%Symbol%":zi?Symbol:Oe,"%SyntaxError%":Za,"%ThrowTypeError%":e3,"%TypedArray%":n3,"%TypeError%":fa,"%Uint8Array%":typeof Uint8Array>"u"?Oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Oe:Uint32Array,"%URIError%":V$,"%WeakMap%":typeof WeakMap>"u"?Oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Oe:WeakSet,"%Function.prototype.call%":Vl,"%Function.prototype.apply%":oN,"%Object.defineProperty%":X$,"%Object.getPrototypeOf%":t3,"%Math.abs%":H$,"%Math.floor%":Z$,"%Math.max%":Q$,"%Math.min%":K$,"%Math.pow%":Y$,"%Math.round%":G$,"%Math.sign%":J$,"%Reflect.getPrototypeOf%":r3};if(bt)try{null.error}catch(t){var s3=bt(bt(t));fi["%Error.prototype%"]=s3}var i3=function t(e){var r;if(e==="%AsyncFunction%")r=rf("async function () {}");else if(e==="%GeneratorFunction%")r=rf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=rf("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&bt&&(r=bt(s.prototype))}return fi[e]=r,r},xv={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hl=Dd(),Vu=D$(),a3=Hl.call(Vl,Array.prototype.concat),o3=Hl.call(oN,Array.prototype.splice),vv=Hl.call(Vl,String.prototype.replace),Hu=Hl.call(Vl,String.prototype.slice),l3=Hl.call(Vl,RegExp.prototype.exec),c3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,u3=/\\(\\)?/g,d3=function(e){var r=Hu(e,0,1),n=Hu(e,-1);if(r==="%"&&n!=="%")throw new Za("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Za("invalid intrinsic syntax, expected opening `%`");var s=[];return vv(e,c3,function(a,o,l,c){s[s.length]=l?vv(c,u3,"$1"):o||a}),s},h3=function(e,r){var n=e,s;if(Vu(xv,n)&&(s=xv[n],n="%"+s[0]+"%"),Vu(fi,n)){var a=fi[n];if(a===Vi&&(a=i3(n)),typeof a>"u"&&!r)throw new fa("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:a}}throw new Za("intrinsic "+e+" does not exist!")},Jg=function(e,r){if(typeof e!="string"||e.length===0)throw new fa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new fa('"allowMissing" argument must be a boolean');if(l3(/^%?[^%]*%?$/,e)===null)throw new Za("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=d3(e),s=n.length>0?n[0]:"",a=h3("%"+s+"%",r),o=a.name,l=a.value,c=!1,u=a.alias;u&&(s=u[0],o3(n,a3([0,1],u)));for(var h=1,d=!0;h<n.length;h+=1){var m=n[h],v=Hu(m,0,1),g=Hu(m,-1);if((v==='"'||v==="'"||v==="`"||g==='"'||g==="'"||g==="`")&&v!==g)throw new Za("property names with quotes must have matching quotes");if((m==="constructor"||!d)&&(c=!0),s+="."+m,o="%"+s+"%",Vu(fi,o))l=fi[o];else if(l!=null){if(!(m in l)){if(!r)throw new fa("base intrinsic for "+e+" exists, but the property is not available.");return}if(kl&&h+1>=n.length){var x=kl(l,m);d=!!x,d&&"get"in x&&!("originalValue"in x.get)?l=x.get:l=l[m]}else d=Vu(l,m),l=l[m];d&&!c&&(fi[o]=l)}}return l},lN=Jg,cN=iN,f3=cN([lN("%String.prototype.indexOf%")]),uN=function(e,r){var n=lN(e,!!r);return typeof n=="function"&&f3(e,".prototype.")>-1?cN([n]):n},m3=Jg,Zl=uN,p3=Id,g3=co,_v=m3("%Map%",!0),y3=Zl("Map.prototype.get",!0),x3=Zl("Map.prototype.set",!0),v3=Zl("Map.prototype.has",!0),_3=Zl("Map.prototype.delete",!0),b3=Zl("Map.prototype.size",!0),dN=!!_v&&function(){var e,r={assert:function(n){if(!r.has(n))throw new g3("Side channel does not contain "+p3(n))},delete:function(n){if(e){var s=_3(e,n);return b3(e)===0&&(e=void 0),s}return!1},get:function(n){if(e)return y3(e,n)},has:function(n){return e?v3(e,n):!1},set:function(n,s){e||(e=new _v),x3(e,n,s)}};return r},w3=Jg,Bd=uN,j3=Id,bc=dN,N3=co,qi=w3("%WeakMap%",!0),k3=Bd("WeakMap.prototype.get",!0),S3=Bd("WeakMap.prototype.set",!0),C3=Bd("WeakMap.prototype.has",!0),E3=Bd("WeakMap.prototype.delete",!0),P3=qi?function(){var e,r,n={assert:function(s){if(!n.has(s))throw new N3("Side channel does not contain "+j3(s))},delete:function(s){if(qi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return E3(e,s)}else if(bc&&r)return r.delete(s);return!1},get:function(s){return qi&&s&&(typeof s=="object"||typeof s=="function")&&e?k3(e,s):r&&r.get(s)},has:function(s){return qi&&s&&(typeof s=="object"||typeof s=="function")&&e?C3(e,s):!!r&&r.has(s)},set:function(s,a){qi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new qi),S3(e,s,a)):bc&&(r||(r=bc()),r.set(s,a))}};return n}:bc,O3=co,R3=Id,T3=a$,A3=dN,$3=P3,L3=$3||A3||T3,F3=function(){var e,r={assert:function(n){if(!r.has(n))throw new O3("Side channel does not contain "+R3(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,s){e||(e=L3()),e.set(n,s)}};return r},I3=String.prototype.replace,M3=/%20/g,sf={RFC1738:"RFC1738",RFC3986:"RFC3986"},Xg={default:sf.RFC3986,formatters:{RFC1738:function(t){return I3.call(t,M3,"+")},RFC3986:function(t){return String(t)}},RFC1738:sf.RFC1738,RFC3986:sf.RFC3986},D3=Xg,af=Object.prototype.hasOwnProperty,Vs=Array.isArray,Qr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),B3=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Vs(n)){for(var s=[],a=0;a<n.length;++a)typeof n[a]<"u"&&s.push(n[a]);r.obj[r.prop]=s}}},hN=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},U3=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Vs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!af.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return Vs(e)&&!Vs(r)&&(s=hN(e,n)),Vs(e)&&Vs(r)?(r.forEach(function(a,o){if(af.call(e,o)){var l=e[o];l&&typeof l=="object"&&a&&typeof a=="object"?e[o]=t(l,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var l=r[o];return af.call(a,o)?a[o]=t(a[o],l,n):a[o]=l,a},s)},z3=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},q3=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},of=1024,W3=function(e,r,n,s,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;c+=of){for(var u=o.length>=of?o.slice(c,c+of):o,h=[],d=0;d<u.length;++d){var m=u.charCodeAt(d);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||a===D3.RFC1738&&(m===40||m===41)){h[h.length]=u.charAt(d);continue}if(m<128){h[h.length]=Qr[m];continue}if(m<2048){h[h.length]=Qr[192|m>>6]+Qr[128|m&63];continue}if(m<55296||m>=57344){h[h.length]=Qr[224|m>>12]+Qr[128|m>>6&63]+Qr[128|m&63];continue}d+=1,m=65536+((m&1023)<<10|u.charCodeAt(d)&1023),h[h.length]=Qr[240|m>>18]+Qr[128|m>>12&63]+Qr[128|m>>6&63]+Qr[128|m&63]}l+=h.join("")}return l},V3=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var a=r[s],o=a.obj[a.prop],l=Object.keys(o),c=0;c<l.length;++c){var u=l[c],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return B3(r),e},H3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Z3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Q3=function(e,r){return[].concat(e,r)},K3=function(e,r){if(Vs(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},fN={arrayToObject:hN,assign:z3,combine:Q3,compact:V3,decode:q3,encode:W3,isBuffer:Z3,isRegExp:H3,maybeMap:K3,merge:U3},mN=F3,eu=fN,Go=Xg,Y3=Object.prototype.hasOwnProperty,pN={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Yr=Array.isArray,G3=Array.prototype.push,gN=function(t,e){G3.apply(t,Yr(e)?e:[e])},J3=Date.prototype.toISOString,bv=Go.default,xt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:eu.encode,encodeValuesOnly:!1,filter:void 0,format:bv,formatter:Go.formatters[bv],indices:!1,serializeDate:function(e){return J3.call(e)},skipNulls:!1,strictNullHandling:!1},X3=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},lf={},e5=function t(e,r,n,s,a,o,l,c,u,h,d,m,v,g,x,j,p,y){for(var f=e,_=y,k=0,T=!1;(_=_.get(lf))!==void 0&&!T;){var P=_.get(e);if(k+=1,typeof P<"u"){if(P===k)throw new RangeError("Cyclic object value");T=!0}typeof _.get(lf)>"u"&&(k=0)}if(typeof h=="function"?f=h(r,f):f instanceof Date?f=v(f):n==="comma"&&Yr(f)&&(f=eu.maybeMap(f,function(q){return q instanceof Date?v(q):q})),f===null){if(o)return u&&!j?u(r,xt.encoder,p,"key",g):r;f=""}if(X3(f)||eu.isBuffer(f)){if(u){var F=j?r:u(r,xt.encoder,p,"key",g);return[x(F)+"="+x(u(f,xt.encoder,p,"value",g))]}return[x(r)+"="+x(String(f))]}var L=[];if(typeof f>"u")return L;var z;if(n==="comma"&&Yr(f))j&&u&&(f=eu.maybeMap(f,u)),z=[{value:f.length>0?f.join(",")||null:void 0}];else if(Yr(h))z=h;else{var I=Object.keys(f);z=d?I.sort(d):I}var Z=c?String(r).replace(/\./g,"%2E"):String(r),E=s&&Yr(f)&&f.length===1?Z+"[]":Z;if(a&&Yr(f)&&f.length===0)return E+"[]";for(var $=0;$<z.length;++$){var C=z[$],b=typeof C=="object"&&C&&typeof C.value<"u"?C.value:f[C];if(!(l&&b===null)){var S=m&&c?String(C).replace(/\./g,"%2E"):String(C),R=Yr(f)?typeof n=="function"?n(E,S):E:E+(m?"."+S:"["+S+"]");y.set(e,k);var M=mN();M.set(lf,y),gN(L,t(b,R,n,s,a,o,l,c,n==="comma"&&j&&Yr(f)?null:u,h,d,m,v,g,x,j,p,M))}}return L},t5=function(e){if(!e)return xt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||xt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Go.default;if(typeof e.format<"u"){if(!Y3.call(Go.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Go.formatters[n],a=xt.filter;(typeof e.filter=="function"||Yr(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in pN?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=xt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:xt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:xt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:xt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?xt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:xt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:xt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:xt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:xt.encodeValuesOnly,filter:a,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:xt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:xt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xt.strictNullHandling}},r5=function(t,e){var r=t,n=t5(e),s,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Yr(n.filter)&&(a=n.filter,s=a);var o=[];if(typeof r!="object"||r===null)return"";var l=pN[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var u=mN(),h=0;h<s.length;++h){var d=s[h],m=r[d];n.skipNulls&&m===null||gN(o,e5(m,d,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var v=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),v.length>0?g+v:""},ki=fN,xp=Object.prototype.hasOwnProperty,wv=Array.isArray,at={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ki.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},n5=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},yN=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},s5="utf8=%26%2310003%3B",i5="utf8=%E2%9C%93",a5=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=s.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var l=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===i5?u="utf-8":o[c]===s5&&(u="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var h=o[c],d=h.indexOf("]="),m=d===-1?h.indexOf("="):d+1,v,g;m===-1?(v=r.decoder(h,at.decoder,u,"key"),g=r.strictNullHandling?null:""):(v=r.decoder(h.slice(0,m),at.decoder,u,"key"),g=ki.maybeMap(yN(h.slice(m+1),r,wv(n[v])?n[v].length:0),function(j){return r.decoder(j,at.decoder,u,"value")})),g&&r.interpretNumericEntities&&u==="iso-8859-1"&&(g=n5(String(g))),h.indexOf("[]=")>-1&&(g=wv(g)?[g]:g);var x=xp.call(n,v);x&&r.duplicates==="combine"?n[v]=ki.combine(n[v],g):(!x||r.duplicates==="last")&&(n[v]=g)}return n},o5=function(t,e,r,n){var s=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");s=Array.isArray(e)&&e[a]?e[a].length:0}for(var o=n?e:yN(e,r,s),l=t.length-1;l>=0;--l){var c,u=t[l];if(u==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:ki.combine([],o);else{c=r.plainObjects?{__proto__:null}:{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,m=parseInt(d,10);!r.parseArrays&&d===""?c={0:o}:!isNaN(m)&&u!==d&&String(m)===d&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(c=[],c[m]=o):d!=="__proto__"&&(c[d]=o)}o=c}return o},l5=function(e,r,n,s){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(a),u=c?a.slice(0,c.index):a,h=[];if(u){if(!n.plainObjects&&xp.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var d=0;n.depth>0&&(c=l.exec(a))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&xp.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+a.slice(c.index)+"]")}return o5(h,r,n,s)}},c5=function(e){if(!e)return at;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?at.charset:e.charset,n=typeof e.duplicates>"u"?at.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:at.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:at.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:at.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:at.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:at.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:at.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:at.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:at.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:at.decoder,delimiter:typeof e.delimiter=="string"||ki.isRegExp(e.delimiter)?e.delimiter:at.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:at.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:at.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:at.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:at.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:at.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:at.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},u5=function(t,e){var r=c5(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?a5(t,r):t,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),o=0;o<a.length;++o){var l=a[o],c=l5(l,n[l],r,typeof t=="string");s=ki.merge(s,c,r)}return r.allowSparse===!0?s:ki.compact(s)},d5=r5,h5=u5,f5=Xg,m5={formats:f5,parse:h5,stringify:d5};const ey=kp(m5),p5=t=>{const e=ey.parse(t.startsWith("?")?t.slice(1):t,{ignoreQueryPrefix:!0,decoder:(o,l,c,u)=>{if(u==="value"){if(o==="null")return null;if(o==="true")return!0;if(o==="false")return!1;if(/^-?\d+(\.\d+)?$/.test(o)){const h=Number(o);return Number.isNaN(h)?o:h}}return l(o,l,c)}});let r=[],n=e.amenities;typeof n=="string"?r=n.split(",").filter(Boolean).map(o=>Number(o)).filter(Number.isFinite):Array.isArray(n)&&(r=n.flatMap(o=>typeof o=="string"?o.split(",").map(l=>Number(l)).filter(Number.isFinite):[]));const s=o=>o===void 0?null:typeof o=="boolean"?o:o==="true"||o===!0?!0:o==="false"||o===!1?!1:null,a={price_min:e.price_min!==void 0?Number(e.price_min):null,price_max:e.price_max!==void 0?Number(e.price_max):null,bedrooms:e.bedrooms!==void 0?Number(e.bedrooms):null,beds:e.beds!==void 0?Number(e.beds):null,bathrooms:e.bathrooms!==void 0?Number(e.bathrooms):null,amenities:r,is_beachfront:s(e.is_beachfront),is_pet_friendly:s(e.is_pet_friendly),is_instant_book:s(e.is_instant_book)};return{location:e.location||"",checkin_date:e.checkin_date?String(e.checkin_date):null,checkout_date:e.checkout_date?String(e.checkout_date):null,num_guests:e.num_guests?Number(e.num_guests):1,filters:a,sort:e.sort?String(e.sort):"recommended",page:e.page?Number(e.page):1}},g5={price_min:null,price_max:null,bedrooms:null,beds:null,bathrooms:null,amenities:[],is_beachfront:null,is_pet_friendly:null,is_instant_book:null},y5=[{key:"recommended",label:"Recommended"},{key:"price_low_high",label:"Price (Low  High)"},{key:"price_high_low",label:"Price (High  Low)"},{key:"rating",label:"User Rating"},{key:"newest",label:"Newest"},{key:"popularity",label:"Most Popular"}];function cf(t){var r;const e={};return t.location&&(e.location=t.location),t.checkin_date&&(e.checkin_date=t.checkin_date),t.checkout_date&&(e.checkout_date=t.checkout_date),t.num_guests&&(e.num_guests=t.num_guests),t.filters.price_min!==null&&(e.price_min=t.filters.price_min),t.filters.price_max!==null&&(e.price_max=t.filters.price_max),t.filters.bedrooms!==null&&(e.bedrooms=t.filters.bedrooms),t.filters.beds!==null&&(e.beds=t.filters.beds),t.filters.bathrooms!==null&&(e.bathrooms=t.filters.bathrooms),(r=t.filters.amenities)!=null&&r.length&&(e.amenities=t.filters.amenities.join(",")),t.filters.is_beachfront!==null&&(e.is_beachfront=t.filters.is_beachfront===!0?"true":t.filters.is_beachfront===!1?"false":void 0),t.filters.is_pet_friendly!==null&&(e.is_pet_friendly=t.filters.is_pet_friendly===!0?"true":t.filters.is_pet_friendly===!1?"false":void 0),t.filters.is_instant_book!==null&&(e.is_instant_book=t.filters.is_instant_book===!0?"true":t.filters.is_instant_book===!1?"false":void 0),t.sort&&(e.sort=t.sort),t.page&&(e.page=t.page),ey.stringify(e,{addQueryPrefix:!0,arrayFormat:"comma"})}const uf=12,x5=()=>{const{search:t}=qr(),e=et(),r=ae(b=>b.search_state),n=ae(b=>b.set_search_state),[s,a]=w.useState(!1),{data:o,isLoading:l,isError:c}=xe({queryKey:["amenities"],queryFn:async()=>{const b="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",{data:S}=await H.get(`${b}/villas/amenities`);return S},staleTime:60*60*1e3,retry:1});w.useEffect(()=>{const b=p5(t);n(b)},[t]);const u=w.useMemo(()=>({location:r.location,checkin_date:r.checkin_date,checkout_date:r.checkout_date,num_guests:r.num_guests,...r.filters,sort:r.sort,page:r.page}),[r]),{data:h,isLoading:d,isError:m,error:v,refetch:g}=xe({queryKey:["villas",u.location,u.checkin_date,u.checkout_date,u.num_guests,u.price_min,u.price_max,u.bedrooms,u.beds,u.bathrooms,(u.amenities||[]).join(","),u.is_beachfront,u.is_pet_friendly,u.is_instant_book,u.sort,u.page],queryFn:async()=>{const b="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",S={};u.location&&(S.location=u.location),u.checkin_date&&(S.checkin_date=u.checkin_date),u.checkout_date&&(S.checkout_date=u.checkout_date),u.num_guests&&(S.num_guests=u.num_guests),u.price_min!=null&&(S.price_min=u.price_min),u.price_max!=null&&(S.price_max=u.price_max),u.bedrooms!=null&&(S.bedrooms=u.bedrooms),u.beds!=null&&(S.beds=u.beds),u.bathrooms!=null&&(S.bathrooms=u.bathrooms),u.amenities&&u.amenities.length&&(S.amenities=u.amenities.join(",")),u.is_beachfront!==null&&(S.is_beachfront=u.is_beachfront===!0?"true":u.is_beachfront===!1?"false":void 0),u.is_pet_friendly!==null&&(S.is_pet_friendly=u.is_pet_friendly===!0?"true":u.is_pet_friendly===!1?"false":void 0),u.is_instant_book!==null&&(S.is_instant_book=u.is_instant_book===!0?"true":u.is_instant_book===!1?"false":void 0),u.sort&&(S.sort=u.sort),u.page&&(S.page=u.page);const{data:R}=await H.get(`${b}/villas`,{params:S,paramsSerializer:M=>ey.stringify(M,{arrayFormat:"comma"})});return{results:(R.results||[]).map(M=>({...M,villa_id:String(M.villa_id),main_photo_url:M.main_photo_url||`https://picsum.photos/seed/villa_${M.villa_id}/600/400`})),total:R.total,page:R.page}},keepPreviousData:!0,retry:2}),x=(b,S)=>{const R={...r.filters||g5};R[b]=S;const M={...r,filters:R,page:1},q=cf(M);e(`/search${q}`)},j=b=>{const S=b.target.value,R={...r,sort:S,page:1},M=cf(R);e(`/search${M}`)},p=b=>{if(b<1)return;const S={...r,page:b},R=cf(S);e(`/search${R}`)},y=b=>{const S=Array.from(b.target.selectedOptions).map(R=>Number(R.value));x("amenities",S)},f=()=>{a(b=>!b)},_=(b,S)=>{let R=S===""?null:Number(S);R!==null&&Number.isNaN(R)&&(R=null),x(b,R)},k=(b,S)=>{x(b,S?!0:null)},T=(h==null?void 0:h.total)||0,P=(h==null?void 0:h.page)||1,F=(h==null?void 0:h.results)||[],L=Math.max(1,Math.ceil(T/uf)),z=(P-1)*uf+1,I=Math.min(P*uf,T),E=["Malibu","Santa Monica","Cancun","Maui","Tulum"].find(b=>b!==r.location)||"Miami Beach",[$,C]=w.useState(null);return w.useEffect(()=>{C(m?v?v.message:"Unknown error loading villas.":null)},[m,v]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"w-full max-w-7xl mx-auto py-2 px-2 md:px-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-y-2 border-b pb-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-y-1 md:flex-row md:gap-x-6 md:items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-primary",children:r.location?r.location:"All Destinations"}),i.jsx("span",{className:"text-sm text-gray-600",children:r.checkin_date&&r.checkout_date?`${r.checkin_date} to ${r.checkout_date}`:"Any Dates"}),i.jsx("span",{className:"text-sm text-gray-600",children:r.num_guests?`${r.num_guests} guest${r.num_guests>1?"s":""}`:""})]}),i.jsxs("button",{type:"button",className:"ml-auto md:ml-0 rounded-lg px-3 py-1.5 bg-blue-100 hover:bg-blue-200 text-blue-700 font-medium flex items-center space-x-2 transition",onClick:f,"aria-pressed":s,title:s?"Hide Map":"Show Map",children:[i.jsx("svg",{className:"w-5 h-5 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A2 2 0 013 15.382V5.618a2 2 0 012.553-1.894L9 6.618l6-3 5.447 2.724A2 2 0 0121 8.618v9.764a2 2 0 01-2.553 1.894L15 17.382l-6 3z"})}),i.jsx("span",{children:s?"Hide Map":"Show Map"})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-2 border-b pb-4 mb-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"text-gray-600 mr-1",children:"From"}),i.jsx("input",{className:"w-20 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,placeholder:"Min $",value:r.filters.price_min??"",onChange:b=>_("price_min",b.target.value)}),i.jsx("span",{className:"mx-0.5",children:""}),i.jsx("input",{className:"w-20 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,placeholder:"Max $",value:r.filters.price_max??"",onChange:b=>_("price_max",b.target.value)})]}),i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Bedrooms"}),i.jsx("input",{className:"w-12 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,max:16,value:r.filters.bedrooms??"",onChange:b=>_("bedrooms",b.target.value)})]}),i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Beds"}),i.jsx("input",{className:"w-12 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,max:30,value:r.filters.beds??"",onChange:b=>_("beds",b.target.value)})]}),i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Baths"}),i.jsx("input",{className:"w-12 px-2 rounded border border-gray-300 text-sm",type:"number",min:0,max:30,value:r.filters.bathrooms??"",onChange:b=>_("bathrooms",b.target.value)})]}),i.jsxs("div",{children:[i.jsxs("select",{className:"min-w-[120px] px-2 py-1 border border-gray-300 rounded text-sm",multiple:!0,value:r.filters.amenities.map(String),onChange:y,size:l?1:3,"aria-label":"Amenities Filter",children:[i.jsx("option",{value:"",disabled:!0,children:l?"Loading...":"Select amenities"}),!!o&&o.length>0&&o.map(b=>i.jsx("option",{value:String(b.amenity_id),className:"capitalize",children:b.label},b.amenity_id))]})," ",i.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"Amenities"})]}),i.jsxs("label",{className:"flex items-center text-xs ml-1 mt-1",children:[i.jsx("input",{type:"checkbox",className:"mr-1 accent-blue-500",checked:!!r.filters.is_beachfront,onChange:b=>k("is_beachfront",b.target.checked)}),"Beachfront"]}),i.jsxs("label",{className:"flex items-center text-xs ml-1 mt-1",children:[i.jsx("input",{type:"checkbox",className:"mr-1 accent-blue-500",checked:!!r.filters.is_pet_friendly,onChange:b=>k("is_pet_friendly",b.target.checked)}),"Pet Friendly"]}),i.jsxs("label",{className:"flex items-center text-xs ml-1 mt-1",children:[i.jsx("input",{type:"checkbox",className:"mr-1 accent-blue-500",checked:!!r.filters.is_instant_book,onChange:b=>k("is_instant_book",b.target.checked)}),"Instant Book"]})]}),i.jsx("div",{className:"ml-0 md:ml-auto flex items-end h-full mt-2 md:mt-0",children:i.jsxs("label",{className:"flex items-center text-xs",children:[i.jsx("span",{className:"mr-1 text-gray-600",children:"Sort:"}),i.jsx("select",{className:"px-2 py-1 border border-gray-300 rounded text-sm",value:r.sort,onChange:j,children:y5.map(b=>i.jsx("option",{value:b.key,children:b.label},b.key))})]})})]}),i.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6 relative",children:[i.jsx("div",{className:s?"md:w-2/3 w-full transition-all":"w-full",children:d?i.jsxs("div",{className:"flex flex-col items-center justify-center w-full py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-3"}),i.jsx("div",{className:"text-gray-400 text-md",children:"Loading villas..."})]}):$?i.jsxs("div",{className:"flex flex-col items-center text-center py-12",children:[i.jsx("span",{className:"text-red-500 text-lg font-semibold mb-2",children:"Error loading villas"}),i.jsx("span",{className:"text-sm mb-4",children:$}),i.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>g(),children:"Retry"})]}):F.length?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-baseline justify-between mb-3 pl-1",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",z,"",I," of ",T," villas"]}),i.jsxs("div",{className:"flex items-center gap-x-1",children:[i.jsx("button",{className:"px-2 py-1 rounded-l border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P<=1,onClick:()=>p(P-1),"aria-label":"Previous page",children:""}),i.jsxs("span",{className:"px-2 text-xs text-gray-600",children:["Page ",P," of ",L]}),i.jsx("button",{className:"px-2 py-1 rounded-r border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P>=L,onClick:()=>p(P+1),"aria-label":"Next page",children:""})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-5",children:F.map(b=>{var S;return i.jsxs("div",{className:"bg-white border rounded-lg shadow hover:shadow-lg group transition overflow-hidden relative",children:[i.jsxs(V,{to:`/villa/${b.villa_id}`,className:"block w-full h-48 overflow-hidden",children:[i.jsx("img",{src:b.main_photo_url||`https://picsum.photos/seed/villa_${b.villa_id}/600/400`,alt:b.title,className:"w-full h-48 object-cover transition-transform group-hover:scale-105",loading:"lazy"}),b.is_instant_book&&i.jsx("span",{className:"absolute top-3 right-3 bg-green-500 text-xs text-white px-2 py-0.5 rounded font-bold shadow",children:"Instant Book"})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center gap-x-2 mb-1",children:[i.jsx(V,{to:`/villa/${b.villa_id}`,className:"text-md font-bold text-gray-900 hover:underline truncate",children:b.title}),i.jsxs("span",{className:"ml-auto inline-flex items-center gap-x-1 text-xs text-yellow-600 font-semibold",children:[i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.053 3.247a1 1 0 00.95.69h3.415c.969 0 1.372 1.24.588 1.81l-2.763 2.01a1 1 0 00-.364 1.118l1.053 3.247c.3.921-.755 1.688-1.54 1.118l-2.763-2.01a1 1 0 00-1.176 0l-2.763 2.01c-.784.57-1.838-.197-1.539-1.118l1.053-3.247a1 1 0 00-.364-1.118L2.98 8.674c-.783-.57-.38-1.81.588-1.81h3.415a1 1 0 00.951-.69l1.053-3.247z"})}),(S=b.avg_rating)==null?void 0:S.toFixed(1),i.jsxs("span",{className:"ml-1 text-gray-400 font-normal",children:["(",b.reviews_count,")"]})]})]}),i.jsx("div",{className:"text-xs text-gray-600 mb-1 truncate",children:b.address_city}),i.jsxs("div",{className:"flex items-end gap-x-1",children:[i.jsxs("span",{className:"text-md font-extrabold text-blue-700",children:["$",b.price_per_night]}),i.jsx("span",{className:"text-xs text-gray-600",children:"/night"})]}),i.jsxs("div",{className:"flex gap-x-2 text-xs text-gray-500 my-1",children:[i.jsxs("span",{children:[b.bedrooms," bd"]}),i.jsxs("span",{children:[b.beds," beds"]}),i.jsxs("span",{children:[b.bathrooms," bath"]})]})]})]},b.villa_id)})}),L>1&&i.jsxs("div",{className:"flex justify-center mt-6 mb-3",children:[i.jsx("button",{className:"px-2 py-1 rounded-l border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P<=1,onClick:()=>p(P-1),"aria-label":"Previous page",children:""}),i.jsxs("span",{className:"px-2 text-xs text-gray-600",children:["Page ",P," of ",L]}),i.jsx("button",{className:"px-2 py-1 rounded-r border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 disabled:opacity-40",disabled:P>=L,onClick:()=>p(P+1),"aria-label":"Next page",children:""})]})]}):i.jsxs("div",{className:"flex flex-col items-center py-16 max-w-lg mx-auto",children:[i.jsx("svg",{className:"w-20 h-20 text-blue-200",fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 42V24.35a2 2 0 01.684-1.52L24 13l11.316 9.83a2 2 0 01.684 1.52V42M7 42h34"})}),i.jsx("span",{className:"text-lg font-semibold text-gray-700 mt-2",children:"No villas found"}),i.jsxs("div",{className:"text-gray-500 text-sm mt-2",children:["Try changing dates or looking in ",i.jsx("button",{className:"underline text-blue-600",onClick:()=>{e(`/search?location=${encodeURIComponent(E)}`)},children:E}),"."]}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Still nothing? Try clearing price range and other filters above."})]})}),i.jsx("div",{className:`md:w-1/3 w-full mb-4 md:mb-0 md:sticky md:top-24 transition-all duration-200 ${s?"block":"hidden"}`,children:i.jsxs("div",{className:"h-[370px] md:h-[680px] w-full bg-blue-100 rounded-lg flex flex-col items-center justify-center relative overflow-hidden shadow-inner",children:[i.jsx("div",{className:"absolute inset-0",children:i.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 320 320",fill:"none",children:[i.jsx("rect",{x:"0",y:"0",width:"320",height:"320",fill:"#dbeafe"}),i.jsx("ellipse",{cx:"150",cy:"200",rx:"110",ry:"80",fill:"#bbf7d0"}),F.map((b,S)=>{const R=70+140*((S+1.5)%2)+parseInt(String(b.villa_id).slice(-2))%40,M=130+S*27%80;return i.jsx("g",{children:i.jsxs("a",{xlinkHref:`/villa/${b.villa_id}`,children:[i.jsx("circle",{cx:R,cy:M,r:"10",fill:"#3b82f6",opacity:"0.9"}),i.jsx("circle",{cx:R,cy:M-2,r:"5",fill:"#fbbf24",opacity:"0.9"})]})},b.villa_id)})]})}),i.jsx("span",{className:"relative z-10 text-base font-semibold text-blue-900 mt-3",children:"Map Preview"}),i.jsx("span",{className:"relative z-10 text-sm text-gray-400",children:"(Pins are illustrative, not 1:1 accurate)"})]})})]})]})})},Pr="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",v5=()=>{var Tn,Mi,ny,sy,iy,ay,oy;const{villaId:t}=cn(),e=t||"",r=ae(Q=>Q.user_session.user_id),n=ae(Q=>Q.user_session.is_authenticated),s=ae(Q=>Q.user_session.token);Rt();const a=et(),[o,l]=w.useState({checkin_date:null,checkout_date:null,num_guests:1}),[c,u]=w.useState(!1),[h,d]=w.useState(null),[m,v]=w.useState(!1),[g,x]=w.useState(""),[j,p]=w.useState(0),[y,f]=w.useState("date"),[_,k]=w.useState(1),T=w.useRef(null),{data:P,isLoading:F,isError:L,error:z}=xe({queryKey:["villa",e],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}`);return Q},enabled:!!e}),{data:I=[],isLoading:Z,isError:E}=xe({queryKey:["villaPhotos",e],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}/photos`);return Array.isArray(Q)&&Q.length>0?Q:[{villa_photo_id:"sample",villa_id:e,photo_url:"https://picsum.photos/id/1011/1200/600",ordering:1,is_main:!0,uploaded_at:new Date().toISOString()}]},enabled:!!e}),{data:$=[],isLoading:C,isError:b}=xe({queryKey:["villaAmenities",e],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}/amenities`);return Q},enabled:!!e}),{data:S=[],isLoading:R,isError:M}=xe({queryKey:["villaRules",e],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}/rules`);return Q},enabled:!!e}),{data:q=[],isLoading:W,isError:Y}=xe({queryKey:["villaCalendar",e],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}/calendar`);return Q},enabled:!!e}),{data:A=[],isLoading:K,isError:ee}=xe({queryKey:["villaPricingOverride",e],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}/pricing-overrides`);return Q},enabled:!!e}),{data:D,isLoading:ie,isError:Se}=xe({queryKey:["villaReviews",e,_],queryFn:async()=>{const{data:Q}=await H.get(`${Pr}/villas/${e}/reviews?page=${_}`);return{reviews:(Array.isArray(Q.reviews)?Q.reviews:[]).map($e=>({...$e,review_id:String($e.review_id),booking_id:String($e.booking_id)})),avg_rating:Q.avg_rating,total_reviews:Q.total_reviews}},enabled:!!e}),Te=w.useMemo(()=>{if(!D)return[];let Q=D.reviews.slice();return y==="rating"?Q=Q.sort(($e,Ls)=>Ls.rating-$e.rating):Q=Q.sort(($e,Ls)=>new Date(Ls.created_at).getTime()-new Date($e.created_at).getTime()),Q},[D,y]),Ve=w.useMemo(()=>P?{user_id:String(P.owner_user_id),display_name:"Host",profile_photo_url:"https://picsum.photos/seed/"+P.owner_user_id+"/80",is_superhost:!1}:null,[P]),{data:kt=[],isLoading:it,isError:ht,refetch:Cr}=xe({queryKey:["userWishlists",r],queryFn:async()=>{if(!s)throw new Error("Not authenticated");const{data:Q}=await H.get(`${Pr}/account/wishlists`,{headers:{Authorization:`Bearer ${s}`}});return Q.map($e=>({...$e,wishlist_id:String($e.wishlist_id),villa_ids:($e.villa_ids||[]).map(Ls=>String(Ls))}))},enabled:c&&!!s}),{data:ne,isLoading:Ae,isError:St,refetch:un}=xe({queryKey:["bookingPreview",e,o.checkin_date,o.checkout_date,o.num_guests,j],queryFn:async()=>{if(!o.checkin_date||!o.checkout_date||!o.num_guests)throw new Error("Please select dates and number of guests");const Q={checkin_date:o.checkin_date,checkout_date:o.checkout_date,num_guests:o.num_guests},{data:$e}=await H.post(`${Pr}/villas/${e}/booking/preview`,Q);return $e},enabled:!!e&&!!o.checkin_date&&!!o.checkout_date&&!!o.num_guests,retry:!1}),$i=qe({mutationFn:async({wishlist_id:Q,villa_id:$e})=>{if(!s)throw new Error("You must be logged in to save to a wishlist.");const{data:Ls}=await H.put(`${Pr}/account/wishlists/${Q}/villas/${$e}`,{},{headers:{Authorization:`Bearer ${s}`}});return Ls},onSuccess:()=>{Cr(),u(!1),d(null)},onError:Q=>{window.alert(Q.message||"Could not add to wishlist. Please try again or refresh the page.")}}),$s=qe({mutationFn:async({content:Q})=>{if(!s)throw new Error("You must be logged in to contact the host.");const{data:$e}=await H.post(`${Pr}/villas/${e}/contact-host`,{content:Q},{headers:{Authorization:`Bearer ${s}`}});if(!$e.thread_id&&$e.thread_id!==0&&$e.thread_id!=="0")throw new Error("Failed to create message thread");return{thread_id:String($e.thread_id)}},onSuccess:Q=>{v(!1),x(""),a(`/messaging/thread/${Q.thread_id}`)},onError:Q=>{window.alert(Q.message||"Could not contact host. Please try again or refresh the page.")}}),[Li,Fi]=w.useState(0),se=()=>Fi(Q=>Q===0?I.length-1:Q-1),ft=()=>Fi(Q=>Q===I.length-1?0:Q+1);w.useEffect(()=>{o.checkin_date&&o.checkout_date&&o.num_guests&&p(Q=>Q+1)},[o.checkin_date,o.checkout_date,o.num_guests]);function tt(Q){return typeof Q!="number"?"--":"$"+Q.toLocaleString()}function Ii(Q){if(!Q)return"";const $e=new Date(Q);return`${$e.getUTCFullYear()}-${String($e.getUTCMonth()+1).padStart(2,"0")}-${String($e.getUTCDate()).padStart(2,"0")}`}return F?i.jsx("div",{className:"w-full py-24 text-center text-lg font-semibold",children:"Loading villa information..."}):L?i.jsxs("div",{className:"w-full py-24 text-center text-lg text-red-700 font-semibold",children:[i.jsxs("div",{children:["Could not load villa details."," ",(z==null?void 0:z.message)&&i.jsx("div",{className:"mt-1 text-sm",children:z.message})]}),i.jsx(V,{to:"/",className:"inline-block mt-4 px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Back to Home"})]}):P?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-8 py-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsxs("div",{className:"mb-4 flex flex-col gap-1",children:[i.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-gray-800 flex items-center gap-2",children:[P.title||"Untitled Villa",P.is_instant_book&&i.jsx("span",{className:"ml-2 inline-block px-2 py-0.5 text-xs font-bold bg-green-100 text-green-800 rounded",children:"Instant Book"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-gray-600 text-sm",children:[i.jsxs("span",{children:[P.address_city,", ",P.address_country]}),i.jsx("span",{className:"mx-1 text-gray-400",children:""}),i.jsxs("span",{children:[tt(P.price_per_night)," / night"]}),i.jsx("span",{className:"mx-1 text-gray-400",children:""}),i.jsxs("span",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-500 mr-1",children:""}),D?(D.avg_rating||0).toFixed(2):"--",i.jsxs("span",{className:"ml-1 text-gray-500",children:["(",D?D.total_reviews:0," reviews)"]})]})]})]}),i.jsxs("div",{ref:T,className:"relative aspect-[2/1] w-full rounded-lg overflow-hidden bg-gray-100 mb-6",children:[I.length>0&&i.jsx("img",{src:(Tn=I[Li])==null?void 0:Tn.photo_url,className:"object-cover w-full h-full transition-opacity max-h-[500px]",alt:`Villa Gallery Photo #${Li+1}`,draggable:!1,loading:"eager"}),I.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"absolute left-1 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-2 shadow hover:bg-gray-200",onClick:se,"aria-label":"Previous Photo",children:""}),i.jsx("button",{className:"absolute right-1 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-2 shadow hover:bg-gray-200",onClick:ft,"aria-label":"Next Photo",children:""}),i.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-2",children:I.map((Q,$e)=>i.jsx("button",{className:"w-2 h-2 rounded-full "+($e===Li?"bg-blue-600":"bg-white border border-gray-400"),onClick:()=>Fi($e),"aria-label":`Show Photo ${$e+1}`},String($e)))})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"text-lg font-semibold mb-1",children:"About this villa"}),i.jsx("div",{className:"text-md text-gray-700 mb-2 whitespace-pre-line",children:P.description_long||P.description_short||"No description available."}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-2",children:[i.jsxs("span",{children:[i.jsx("b",{children:P.bedrooms})," bedrooms"]}),i.jsxs("span",{children:[i.jsx("b",{children:P.beds})," beds"]}),i.jsxs("span",{children:[i.jsx("b",{children:P.bathrooms})," bathrooms"]}),i.jsxs("span",{children:[i.jsxs("b",{children:["Up to ",P.max_guests]})," guests"]}),P.is_beachfront&&i.jsx("span",{className:"bg-blue-100 px-2 py-1 rounded text-blue-800 font-semibold text-xs",children:"Beachfront"}),P.is_pet_friendly&&i.jsx("span",{className:"bg-yellow-100 px-2 py-1 rounded text-yellow-800 font-semibold text-xs",children:"Pet friendly"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-1 mt-3",children:"Amenities"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:$.length>0?$.map(Q=>i.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 rounded text-gray-700 text-sm",children:[Q.icon_url&&i.jsx("img",{className:"w-5 h-5 mr-1 inline-block",src:Q.icon_url,alt:Q.label}),Q.label]},String(Q.amenity_id))):i.jsx("span",{className:"text-gray-400",children:"No amenities listed."})})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"font-semibold mb-1",children:"Where you'll be"}),i.jsxs("div",{className:"w-full h-64 bg-gray-200 rounded-lg relative overflow-hidden",children:[P.latitude&&P.longitude?i.jsx("iframe",{title:"Villa Location",className:"absolute w-full h-full left-0 top-0",src:`https://maps.google.com/maps?q=${P.latitude},${P.longitude}&z=13&output=embed`,frameBorder:0,"aria-label":"Map"}):i.jsx("div",{className:"flex items-center justify-center h-full text-gray-600",children:"Map not available."}),i.jsx("div",{className:"absolute bottom-2 left-2 bg-white/70 rounded px-3 py-1 text-xs text-gray-800",children:"Address is approximate for privacy."})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"font-semibold mb-1",children:"House Rules"}),S.length>0?i.jsx("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:S.map(Q=>i.jsxs("li",{children:[i.jsxs("span",{className:"font-semibold",children:[Q.rule_type,": "]}),Q.allowed?"Allowed":"Not allowed",Q.notes&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",Q.notes,")"]})]},String(Q.villa_rule_id)))}):i.jsx("div",{className:"text-gray-400",children:"No house rules provided."}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"font-semibold",children:"Cancellation Policy:"})," ",i.jsx("span",{className:"capitalize",children:(Mi=P.cancellation_policy)==null?void 0:Mi.replace("_"," ")})]})]}),i.jsxs("div",{className:"mb-8 flex gap-6 items-center",children:[i.jsx("div",{children:i.jsx("img",{src:(Ve==null?void 0:Ve.profile_photo_url)||"https://picsum.photos/seed/host/80",alt:(Ve==null?void 0:Ve.display_name)||"Host",className:"rounded-full border w-16 h-16 object-cover"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-800",children:["Hosted by ",(Ve==null?void 0:Ve.display_name)||"N/A",(Ve==null?void 0:Ve.is_superhost)&&i.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-orange-100 text-orange-700 rounded",children:"Superhost"})]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Profile not available."})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsxs("span",{className:"text-lg font-bold mr-3",children:["Reviews (",(D==null?void 0:D.total_reviews)||0,")"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs text-gray-600 font-semibold",children:"Sort by:"}),i.jsxs("select",{className:"text-xs border border-gray-300 rounded px-1 py-0.5",value:y,onChange:Q=>f(Q.target.value),children:[i.jsx("option",{value:"date",children:"Most Recent"}),i.jsx("option",{value:"rating",children:"Rating"})]})]})]}),ie?i.jsx("div",{className:"text-gray-500",children:"Loading reviews..."}):Te.length===0?i.jsx("div",{className:"text-gray-400",children:"No reviews yet!"}):i.jsx("div",{className:"space-y-4",children:Te.map(Q=>i.jsxs("div",{className:"border-b pb-3 last:border-b-0 last:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("span",{className:"text-yellow-500 font-bold",children:""}),i.jsx("span",{className:"font-semibold text-md",children:Q.rating}),i.jsx("span",{className:"text-xs text-gray-400 ml-3",children:Ii(Q.created_at)})]}),i.jsx("div",{className:"text-gray-800",children:Q.text})]},String(Q.review_id)))}),D&&D.total_reviews>10&&i.jsxs("div",{className:"flex gap-2 justify-end mt-3",children:[i.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-60",disabled:_===1,onClick:()=>k(Q=>Math.max(1,Q-1)),children:"Previous"}),i.jsx("button",{className:"px-2 py-1 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-60",disabled:_>=Math.ceil(D.total_reviews/(Array.isArray(Te)&&Te.length>0?Te.length:10)),onClick:()=>k(Q=>Q+1),children:"Next"})]})]})]}),i.jsx("div",{className:"col-span-1 relative",children:i.jsxs("div",{className:"lg:sticky top-8 border rounded-lg shadow p-6 bg-white mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-3 justify-between",children:[i.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[tt(P.price_per_night)," ",i.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/ night"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2 rounded-full hover:bg-red-100 transition",onClick:()=>{if(!n){window.alert("Please sign in to save to a wishlist.");return}u(!0)},title:n?"Save to wishlist":"Sign in to save villas","aria-label":"Save to Wishlist",children:i.jsx("span",{className:"text-xl text-red-500",children:""})}),i.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100 transition",onClick:()=>{const Q=window.location.origin+`/villa/${e}`;window.navigator.share?window.navigator.share({title:P.title,url:Q}).catch(()=>{}):(navigator.clipboard.writeText(Q),window.alert("Villa link copied to clipboard!"))},"aria-label":"Share Villa",title:"Share",children:i.jsx("span",{className:"text-blue-500 text-lg",children:""})})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[i.jsx("label",{className:"text-xs text-gray-500 font-semibold",children:"Dates"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"date",className:"border px-2 py-1 rounded",value:o.checkin_date||"",min:Ii(new Date().toISOString()),onChange:Q=>l($e=>({...$e,checkin_date:Q.target.value}))}),i.jsx("span",{className:"text-gray-400 font-bold",children:""}),i.jsx("input",{type:"date",className:"border px-2 py-1 rounded",value:o.checkout_date||"",disabled:!o.checkin_date,min:o.checkin_date||"",onChange:Q=>l($e=>({...$e,checkout_date:Q.target.value}))})]}),i.jsx("label",{className:"text-xs text-gray-500 font-semibold",children:"Guests"}),i.jsx("input",{type:"number",min:1,max:P.max_guests,className:"border px-2 py-1 rounded max-w-[80px]",value:o.num_guests,onChange:Q=>l($e=>({...$e,num_guests:Math.max(1,Math.min(P.max_guests,Number(Q.target.value)))}))})]}),i.jsx("div",{className:"mb-3",children:Ae?i.jsx("div",{children:"Finding available dates..."}):o.checkin_date&&o.checkout_date?ne&&ne.available?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Nightly:"}),i.jsx("span",{children:tt((ny=ne.price_summary)==null?void 0:ny.nightly_price)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Cleaning fee:"}),i.jsx("span",{children:tt((sy=ne.price_summary)==null?void 0:sy.cleaning_fee)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Service fee:"}),i.jsx("span",{children:tt((iy=ne.price_summary)==null?void 0:iy.service_fee)})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[i.jsx("span",{children:"Taxes:"}),i.jsx("span",{children:tt((ay=ne.price_summary)==null?void 0:ay.taxes)})]}),i.jsxs("div",{className:"flex justify-between font-bold text-gray-800 border-t mt-2 pt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:tt((oy=ne.price_summary)==null?void 0:oy.total_price)})]})]}):ne&&!ne.available?i.jsx("div",{className:"text-red-600 text-sm font-semibold mt-2",children:"Selected dates are unavailable."}):null:i.jsx("div",{className:"text-gray-500",children:"Select dates to see price."})}),n?i.jsx("button",{className:"w-full py-2 mt-2 rounded font-bold transition bg-blue-600 text-white hover:bg-blue-700",disabled:!o.checkin_date||!o.checkout_date||!o.num_guests||!ne||!ne.available,onClick:()=>{a(`/booking/start?villa_id=${e}&checkin_date=${o.checkin_date}&checkout_date=${o.checkout_date}&num_guests=${o.num_guests}`)},children:P.is_instant_book?"Book Now":"Request to Book"}):i.jsx(V,{to:"/guest/login",className:"w-full block py-2 mt-2 rounded font-bold bg-blue-500 text-white hover:bg-blue-700 text-center",children:"Login to Book"}),i.jsx("button",{className:"w-full mt-4 py-2 px-4 rounded font-semibold bg-gray-100 text-gray-800 hover:bg-gray-200 border",onClick:()=>{if(!n){window.alert("Please sign in to contact the host.");return}v(!0)},children:"Contact Host"})]})})]}),c&&i.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/30",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[i.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 right-2 p-1 rounded hover:bg-gray-200","aria-label":"Close",children:""}),i.jsx("div",{className:"font-bold text-lg mb-2",children:"Save to Wishlist"}),it?i.jsx("div",{children:"Loading your wishlists..."}):kt.length===0?i.jsxs("div",{children:["You don't have any wishlists yet. ",i.jsx("br",{}),i.jsx(V,{to:"/guest/wishlists",className:"text-blue-600 underline",onClick:()=>u(!1),children:"Create your first Wishlist"})]}):i.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),h&&$i.mutate({wishlist_id:h,villa_id:e})},children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{htmlFor:"select-wishlist",className:"text-sm font-semibold",children:"Choose:"}),i.jsxs("select",{id:"select-wishlist",className:"w-full text-sm border rounded py-1 mt-1",value:h||"",onChange:Q=>d(Q.target.value),children:[i.jsx("option",{value:"",disabled:!0,children:"Select a wishlist"}),kt.map(Q=>i.jsx("option",{value:String(Q.wishlist_id),children:Q.name},String(Q.wishlist_id)))]})]}),i.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded font-bold mt-2",disabled:!h,children:$i.isLoading?"Saving...":"Add to Wishlist"})]})]})}),m&&i.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/30",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[i.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-2 p-1 rounded hover:bg-gray-200","aria-label":"Close",children:""}),i.jsx("div",{className:"font-bold text-lg mb-2",children:"Contact Host"}),i.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),$s.mutate({content:g})},children:[i.jsx("textarea",{className:"w-full border rounded px-2 py-1 min-h-[80px]",value:g,onChange:Q=>x(Q.target.value),maxLength:2048,placeholder:"Type your message for the host...",required:!0}),i.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded font-bold mt-2",disabled:!g||$s.isLoading,children:$s.isLoading?"Sending...":"Send"})]})]})})]}):i.jsx("div",{className:"w-full py-24 text-center text-lg font-semibold",children:"Villa not found."})};function df(t,e){return!t||!e?"Please select both check-in and check-out dates.":t>=e?"Checkout must be after check-in date.":null}function jv(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function Nv(t){return/^\d{13,19}$/.test(t.replace(/\s/g,""))}function kv(t){return/^((0[1-9])|(1[0-2]))\/(\d{2}|\d{4})$/.test(t)}function Sv(t){return/^\d{3,4}$/.test(t)}const _5=5,Cv=["Booking Details","Review & Policy","Guest Info","Payment","Review & Confirm"],b5=()=>{const t=cn(),e=qr(),r=new URLSearchParams(e.search),n=ae(ne=>ne.user_session),s=ae(ne=>ne.set_booking_cart),a=ae(ne=>ne.reset_booking_cart),l=t.villa_id||r.get("villa_id")||""||"",c=r.get("checkin_date"),u=r.get("checkout_date"),h=Number(r.get("num_guests"))||1,[d,m]=w.useState(1),[v,g]=w.useState(c||null),[x,j]=w.useState(u||null),[p,y]=w.useState(h),[f,_]=w.useState({name:n.is_authenticated&&n.display_name?n.display_name:"",email:n.is_authenticated&&n.email?n.email:"",phone:null,special_requests:null}),[k,T]=w.useState({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0}),[P,F]=w.useState(null),[L,z]=w.useState({card_number:"",expiry:"",cvv:"",agree_tos:!1}),[I,Z]=w.useState("idle"),[E,$]=w.useState([]),C=et(),b=Rt(),{data:S,isLoading:R,error:M}=xe({queryKey:["villa",l],queryFn:async()=>{const{data:ne}=await H.get(`https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/villa/${l}`);return ne},enabled:!!l,staleTime:60*1e3}),q=qe({mutationFn:async({checkin_date:ne,checkout_date:Ae,num_guests:St})=>{const{data:un}=await H.post(`https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/villas/${l}/booking/preview`,{checkin_date:ne,checkout_date:Ae,num_guests:St});return un},onSuccess:ne=>{F(ne.available),ne.price_summary?T(ne.price_summary):T({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0})},onError:ne=>{var Ae,St;F(!1),$([((St=(Ae=ne==null?void 0:ne.response)==null?void 0:Ae.data)==null?void 0:St.error)||"Unable to preview booking."])}}),W=qe({mutationFn:async({checkin_date:ne,checkout_date:Ae,num_guests:St,guest_details:un,token:$i})=>(await H.post(`https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/villas/${l}/booking`,{checkin_date:ne,checkout_date:Ae,num_guests:St,guest_details:un},{headers:{Authorization:`Bearer ${$i}`}})).data});w.useEffect(()=>{if($([]),v&&x&&p){const ne=df(v,x);if(ne){F(!1),$([ne]),T({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0});return}q.mutate({checkin_date:v,checkout_date:x,num_guests:p})}else F(null),T({nightly_price:0,cleaning_fee:0,service_fee:0,taxes:0,total_price:0})},[v,x,p,l]);const Y=()=>{switch(d){case 1:return!(!S||!v||!x||!p||df(v,x)||!P||p<1||p>S.max_guests||!S||!P);case 2:return!!A(1);case 3:return!(!f.name||f.name.trim().length<1||!f.email||!jv(f.email));case 4:return!(!Nv(L.card_number)||!kv(L.expiry)||!Sv(L.cvv)||!L.agree_tos);case 5:return!(!A(1)||!A(2)||!A(3)||!A(4));default:return!1}},A=ne=>{if(ne>=d)return!0;switch(ne){case 1:return v&&x&&!df(v,x)&&P&&p>=1&&!!S&&p<=S.max_guests;case 2:return A(1);case 3:return f.name.trim().length>0&&!!f.email&&jv(f.email);case 4:return Nv(L.card_number)&&kv(L.expiry)&&Sv(L.cvv)&&L.agree_tos;default:return!1}},K=()=>{$([]),Y()?m(ne=>Math.min(ne+1,_5)):$(["Please complete all required fields before proceeding."])},ee=()=>{$([]),m(ne=>Math.max(ne-1,1))},D=ne=>{m(ne==="details"?1:ne==="guest"?3:4)};w.useEffect(()=>{d>=3&&(!n.is_authenticated||!n.token||!n.user_id)&&(s({villa_id:l,checkin_date:v,checkout_date:x,num_guests:p,guest_details:f,price_summary:k,status:"idle"}),C("/guest/login",{state:{next:e.pathname+e.search}}))},[d,n.is_authenticated,n.token,n.user_id]),w.useEffect(()=>{a(),s({villa_id:l,checkin_date:v,checkout_date:x,num_guests:p})},[]);const ie=async()=>{var ne,Ae;Z("pending"),$([]);try{const St=await W.mutateAsync({checkin_date:v,checkout_date:x,num_guests:p,guest_details:f,token:n.token});Z("success"),s({villa_id:l,checkin_date:v,checkout_date:x,num_guests:p,guest_details:f,price_summary:k,status:"success"}),b.invalidateQueries({queryKey:["my_trips"]}),C(`/booking/confirmation/${St.booking_id}`)}catch(St){Z("failure");const un=((Ae=(ne=St==null?void 0:St.response)==null?void 0:ne.data)==null?void 0:Ae.error)||"Booking could not be completed. Please try again.";$([un]),C(`/booking/failure?reason=${encodeURIComponent(un)}`)}},Se=i.jsx("div",{className:"w-full flex items-center my-6",children:Cv.map((ne,Ae)=>i.jsxs("div",{className:"flex-1 flex items-center",children:[i.jsx("div",{className:`relative z-10 flex items-center justify-center w-8 h-8 rounded-full 
            ${d>Ae?"bg-green-500 text-white":d===Ae+1?"bg-sky-600 text-white font-bold":"bg-gray-300 text-gray-600"}
            `,children:Ae+1}),Ae<Cv.length-1&&i.jsx("div",{className:`flex-1 h-1 ${d>Ae+1?"bg-green-500":"bg-gray-200"}`})]},ne))}),Te=!!E.length&&i.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-2 rounded my-3",children:E.map(ne=>i.jsx("div",{children:ne},ne))}),Ve=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"Select Dates and Guests"}),i.jsxs("div",{className:"flex flex-wrap items-start gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"checkin",children:"Check-in Date"}),i.jsx("input",{type:"date",id:"checkin",value:v||"",min:new Date().toISOString().slice(0,10),max:x||"",disabled:R,className:"border rounded px-3 py-2 w-44",onChange:ne=>g(ne.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"checkout",children:"Check-out Date"}),i.jsx("input",{type:"date",id:"checkout",value:x||"",min:v||new Date().toISOString().slice(0,10),disabled:R,className:"border rounded px-3 py-2 w-44",onChange:ne=>j(ne.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"guests",children:"Guests"}),i.jsx("input",{type:"number",id:"guests",min:1,max:(S==null?void 0:S.max_guests)||20,value:p,step:1,disabled:R,className:"border rounded px-3 py-2 w-24",onChange:ne=>y(Math.max(1,Math.min(Number(ne.target.value),(S==null?void 0:S.max_guests)||20)))})]})]}),i.jsx("div",{children:P!=null&&(P?i.jsxs("div",{className:"text-green-600 flex items-center gap-2",children:[i.jsx("span",{className:"font-bold",children:" Dates available!"}),i.jsx("span",{children:k.total_price>0&&`Total: $${k.total_price.toFixed(2)}`})]}):i.jsx("div",{className:"text-red-600 flex items-center gap-2",children:i.jsx("span",{className:"font-bold",children:" Not available for selected dates"})}))}),Te,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{onClick:K,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${Y()?"":"opacity-50 cursor-not-allowed"}`,disabled:!Y(),children:"Next"}),i.jsx(V,{to:`/villa/${l}`,className:"text-gray-500 underline hover:text-gray-700 transition",children:"Cancel and return to villa"})]})]}),kt=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Review Your Booking"}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50 space-y-2",children:[i.jsxs("div",{className:"flex gap-6 items-center",children:[(S==null?void 0:S.main_photo_url)&&i.jsx("img",{src:S.main_photo_url,alt:S.title,className:"w-28 h-20 object-cover rounded"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold",children:S==null?void 0:S.title}),i.jsxs("div",{className:"text-gray-600",children:[S==null?void 0:S.address_city,", ",S==null?void 0:S.address_country]})]})]}),i.jsxs("div",{className:"mt-4 text-gray-700",children:[i.jsx("strong",{children:"Dates:"})," ",v,"  ",x]}),i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Guests:"})," ",p]})]}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50",children:[i.jsx("div",{className:"text-lg font-bold mb-2",children:"Price Breakdown"}),i.jsxs("ul",{className:"space-y-1 text-gray-700",children:[i.jsxs("li",{children:[i.jsx("span",{children:"Nightly Rate:"})," ",i.jsxs("span",{children:["$",k.nightly_price.toFixed(2)]})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Cleaning Fee:"})," ",i.jsxs("span",{children:["$",k.cleaning_fee.toFixed(2)]})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Service Fee:"})," ",i.jsxs("span",{children:["$",k.service_fee.toFixed(2)]})]}),i.jsxs("li",{children:[i.jsx("span",{children:"Taxes:"})," ",i.jsxs("span",{children:["$",k.taxes.toFixed(2)]})]}),i.jsxs("li",{className:"font-bold",children:[i.jsx("span",{children:"Total:"})," ",i.jsxs("span",{children:["$",k.total_price.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"rounded border border-gray-100 p-4 bg-gray-50",children:[i.jsx("div",{className:"font-bold text-gray-900 mb-1",children:"Cancellation Policy"}),i.jsx("div",{className:"text-gray-700",children:S!=null&&S.cancellation_policy?S.cancellation_policy.charAt(0).toUpperCase()+S.cancellation_policy.slice(1):"Not specified"}),(S==null?void 0:S.house_rules)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-gray-900 mt-2 mb-1",children:"House Rules"}),i.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:S.house_rules})]})]}),Te,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{type:"button",onClick:ee,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",onClick:K,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${Y()?"":"opacity-50 cursor-not-allowed"}`,disabled:!Y(),children:"Next"})]})]}),it=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"Lead Guest Details"}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_name",children:["Name ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"guest_name",type:"text",className:"border px-3 py-2 rounded w-full max-w-md",value:f.name,onChange:ne=>_(Ae=>({...Ae,name:ne.target.value}))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_email",children:["Email ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"guest_email",type:"email",autoComplete:"email",className:"border px-3 py-2 rounded w-full max-w-md",value:f.email,onChange:ne=>_(Ae=>({...Ae,email:ne.target.value.trim()}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_phone",children:"Phone (optional)"}),i.jsx("input",{id:"guest_phone",type:"tel",className:"border px-3 py-2 rounded w-full max-w-md",value:f.phone||"",onChange:ne=>_(Ae=>({...Ae,phone:ne.target.value.trim()||null}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"guest_special",children:"Special Requests (optional)"}),i.jsx("textarea",{id:"guest_special",className:"border px-3 py-2 rounded w-full max-w-md resize-none min-h-[40px]",value:f.special_requests||"",maxLength:250,onChange:ne=>_(Ae=>({...Ae,special_requests:ne.target.value||null}))})]}),Te,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{type:"button",onClick:ee,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",onClick:K,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${Y()?"":"opacity-50 cursor-not-allowed"}`,disabled:!Y(),children:"Next"})]})]}),ht=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:"Payment Details"}),i.jsx("div",{className:"mb-2 text-gray-600",children:"All payments are simulated for MVP."}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"pay_card",children:["Card Number ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"pay_card",autoComplete:"cc-number",type:"text",maxLength:19,className:"border px-3 py-2 rounded w-full max-w-sm",value:L.card_number,onChange:ne=>z(Ae=>({...Ae,card_number:ne.target.value.replace(/[^\d]/g,"")}))})]}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"pay_expiry",children:["Expiry (MM/YY) ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"pay_expiry",type:"text",autoComplete:"cc-exp",placeholder:"MM/YY",maxLength:7,className:"border px-3 py-2 rounded w-28",value:L.expiry,onChange:ne=>z(Ae=>({...Ae,expiry:ne.target.value}))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-gray-700 font-medium mb-1",htmlFor:"pay_cvv",children:["CVV ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("input",{id:"pay_cvv",autoComplete:"cc-csc",type:"text",maxLength:4,className:"border px-3 py-2 rounded w-20",value:L.cvv,onChange:ne=>z(Ae=>({...Ae,cvv:ne.target.value.replace(/[^\d]/g,"")}))})]})]}),i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsx("input",{id:"agree_tos",type:"checkbox",className:"mr-2",checked:L.agree_tos,onChange:ne=>z(Ae=>({...Ae,agree_tos:ne.target.checked}))}),i.jsxs("label",{htmlFor:"agree_tos",className:"text-gray-700 cursor-pointer",children:["I agree to the"," ",i.jsx(V,{className:"underline text-sky-700",to:"/legal/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"}),"."]})]}),Te,i.jsxs("div",{className:"flex gap-4 mt-6",children:[i.jsx("button",{type:"button",onClick:ee,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",onClick:K,className:`bg-sky-600 text-white px-6 py-2 rounded font-bold ${Y()?"":"opacity-50 cursor-not-allowed"}`,disabled:!Y(),children:"Next"})]})]}),Cr=i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Review & Confirm"}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[(S==null?void 0:S.main_photo_url)&&i.jsx("img",{src:S.main_photo_url,alt:S.title,className:"w-32 h-20 rounded object-cover"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg",children:S==null?void 0:S.title}),i.jsxs("div",{className:"text-gray-700",children:[S==null?void 0:S.address_city,", ",S==null?void 0:S.address_country]})]})]}),i.jsxs("div",{className:"flex space-x-4 flex-wrap",children:[i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Dates:"})," ",v,"  ",x]}),i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Guests:"})," ",p]})]}),i.jsxs("div",{className:"mt-2 text-gray-700",children:[i.jsx("strong",{children:"Contact:"})," ",f.name," (",f.email,f.phone?`, ${f.phone}`:"",")"]}),f.special_requests&&i.jsxs("div",{className:"text-gray-700",children:[i.jsx("strong",{children:"Special Requests:"})," ",f.special_requests]})]}),i.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50 space-y-1",children:[i.jsx("div",{className:"text-lg font-bold mb-1",children:"Price Breakdown"}),i.jsxs("ul",{children:[i.jsxs("li",{children:["Nightly Rate: $",k.nightly_price.toFixed(2)]}),i.jsxs("li",{children:["Cleaning Fee: $",k.cleaning_fee.toFixed(2)]}),i.jsxs("li",{children:["Service Fee: $",k.service_fee.toFixed(2)]}),i.jsxs("li",{children:["Taxes: $",k.taxes.toFixed(2)]}),i.jsxs("li",{className:"font-bold",children:["Total: $",k.total_price.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx("button",{type:"button",className:"text-sky-700 underline",onClick:()=>D("details"),children:"Edit Dates/Guests"}),i.jsx("button",{type:"button",className:"text-sky-700 underline",onClick:()=>D("guest"),children:"Edit Guest Info"}),i.jsx("button",{type:"button",className:"text-sky-700 underline",onClick:()=>D("payment"),children:"Edit Payment"})]}),Te,i.jsxs("div",{className:"flex gap-4 mt-7",children:[i.jsx("button",{type:"button",onClick:ee,className:"bg-gray-100 text-gray-800 px-6 py-2 rounded",children:"Back"}),i.jsx("button",{type:"button",className:`bg-green-600 text-white px-7 py-2 rounded font-bold ${I==="pending"||!Y()?"opacity-50 cursor-not-allowed":""}`,disabled:I==="pending"||!Y(),onClick:ie,children:I==="pending"?"Processing...":"Confirm & Pay"})]}),i.jsx("div",{className:"mt-2",children:i.jsx(V,{to:`/villa/${l}`,className:"text-gray-700 underline",children:"Cancel and return to villa details"})})]});return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-2xl mx-auto my-8 bg-white border border-gray-200 shadow-lg rounded-lg px-8 py-8",children:[i.jsx("div",{"aria-label":"Booking Steps Progress",children:Se}),R&&i.jsx("div",{className:"text-center py-12 text-lg text-gray-500",children:"Loading booking info..."}),M&&i.jsxs("div",{className:"text-center text-red-600 py-10",children:["Could not load villa info. ",i.jsx(V,{className:"underline",to:"/",children:"Return to home"})]}),!R&&!M&&i.jsxs(i.Fragment,{children:[d===1&&Ve,d===2&&kt,d===3&&it,d===4&&ht,d===5&&Cr]})]})})};var Ue;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ue||(Ue={}));var Ev;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ev||(Ev={}));const fe=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wn=t=>{switch(typeof t){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return Number.isNaN(t)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(t)?fe.array:t===null?fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?fe.promise:typeof Map<"u"&&t instanceof Map?fe.map:typeof Set<"u"&&t instanceof Set?fe.set:typeof Date<"u"&&t instanceof Date?fe.date:fe.object;default:return fe.unknown}},X=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof Pn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Pn.create=t=>new Pn(t);const vp=(t,e)=>{let r;switch(t.code){case X.invalid_type:t.received===fe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ue.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ue.joinValues(t.keys,", ")}`;break;case X.invalid_union:r="Invalid input";break;case X.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ue.joinValues(t.options)}`;break;case X.invalid_enum_value:r=`Invalid enum value. Expected ${Ue.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:r="Invalid function arguments";break;case X.invalid_return_type:r="Invalid function return type";break;case X.invalid_date:r="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case X.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case X.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case X.custom:r="Invalid input";break;case X.invalid_intersection_types:r="Intersection results could not be merged";break;case X.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ue.assertNever(t)}return{message:r}};let w5=vp;function j5(){return w5}const N5=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}};function le(t,e){const r=j5(),n=N5({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===vp?void 0:vp].filter(s=>!!s)});t.common.issues.push(n)}class cr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return _e;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return cr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return _e;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const _e=Object.freeze({status:"aborted"}),Io=t=>({status:"dirty",value:t}),Sr=t=>({status:"valid",value:t}),Pv=t=>t.status==="aborted",Ov=t=>t.status==="dirty",Qa=t=>t.status==="valid",Zu=t=>typeof Promise<"u"&&t instanceof Promise;var pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(pe||(pe={}));class Cs{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rv=(t,e)=>{if(Qa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Pn(t.common.issues);return this._error=r,this._error}}};function Pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class De{get description(){return this._def.description}_getType(e){return Wn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Wn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cr,ctx:{common:e.parent.common,data:e.data,parsedType:Wn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Zu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Rv(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wn(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return Qa(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Qa(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wn(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Zu(s)?s:Promise.resolve(s));return Rv(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:X.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ga({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ws.create(this,this._def)}nullable(){return Ja.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return on.create(this)}promise(){return Gu.create(this,this._def)}or(e){return Ku.create([this,e],this._def)}and(e){return Yu.create(this,e,this._def)}transform(e){return new Ga({...Pe(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new bp({...Pe(this._def),innerType:this,defaultValue:r,typeName:we.ZodDefault})}brand(){return new Z5({typeName:we.ZodBranded,type:this,...Pe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new wp({...Pe(this._def),innerType:this,catchValue:r,typeName:we.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ty.create(this,e)}readonly(){return jp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const k5=/^c[^\s-]{8,}$/i,S5=/^[0-9a-z]+$/,C5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,P5=/^[a-z0-9_-]{21}$/i,O5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,R5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,T5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hf;const $5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,L5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,I5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,D5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B5=new RegExp(`^${xN}$`);function vN(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function U5(t){return new RegExp(`^${vN(t)}$`)}function z5(t){let e=`${xN}T${vN(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function q5(t,e){return!!((e==="v4"||!e)&&$5.test(t)||(e==="v6"||!e)&&F5.test(t))}function W5(t,e){if(!O5.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function V5(t,e){return!!((e==="v4"||!e)&&L5.test(t)||(e==="v6"||!e)&&I5.test(t))}class bn extends De{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const a=this._getOrReturnCtx(e);return le(a,{code:X.invalid_type,expected:fe.string,received:a.parsedType}),_e}const n=new cr;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:X.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&le(s,{code:X.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")T5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")hf||(hf=new RegExp(A5,"u")),hf.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")E5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")P5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")k5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")S5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")C5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:X.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:X.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?z5(a).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?B5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?U5(a).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:X.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?R5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?q5(e.data,a.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?W5(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"jwt",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?V5(e.data,a.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cidr",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?M5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?D5.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64url",code:X.invalid_string,message:a.message}),n.dirty()):Ue.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:X.invalid_string,...pe.errToObj(n)})}_addCheck(e){return new bn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...pe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...pe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...pe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...pe.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...pe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...pe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...pe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...pe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...pe.errToObj(r)})}nonempty(e){return this.min(1,pe.errToObj(e))}trim(){return new bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bn.create=t=>new bn({checks:[],typeName:we.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});function H5(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}class Si extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const a=this._getOrReturnCtx(e);return le(a,{code:X.invalid_type,expected:fe.number,received:a.parsedType}),_e}let n;const s=new cr;for(const a of this._def.checks)a.kind==="int"?Ue.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),le(n,{code:X.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:X.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:X.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?H5(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),le(n,{code:X.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),le(n,{code:X.not_finite,message:a.message}),s.dirty()):Ue.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,pe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,pe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,pe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,pe.toString(r))}setLimit(e,r,n,s){return new Si({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(e){return new Si({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Si.create=t=>new Si({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});class Ci extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==fe.bigint)return this._getInvalidInput(e);let n;const s=new cr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:X.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),le(n,{code:X.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),le(n,{code:X.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ue.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:fe.bigint,received:r.parsedType}),_e}gte(e,r){return this.setLimit("min",e,!0,pe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,pe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,pe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,pe.toString(r))}setLimit(e,r,n,s){return new Ci({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(e){return new Ci({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ci.create=t=>new Ci({checks:[],typeName:we.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});class Qu extends De{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:fe.boolean,received:n.parsedType}),_e}return Sr(e.data)}}Qu.create=t=>new Qu({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});class Ka extends De{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const a=this._getOrReturnCtx(e);return le(a,{code:X.invalid_type,expected:fe.date,received:a.parsedType}),_e}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return le(a,{code:X.invalid_date}),_e}const n=new cr;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:X.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Ue.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ka({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:pe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:pe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ka.create=t=>new Ka({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...Pe(t)});class Tv extends De{_parse(e){if(this._getType(e)!==fe.symbol){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:fe.symbol,received:n.parsedType}),_e}return Sr(e.data)}}Tv.create=t=>new Tv({typeName:we.ZodSymbol,...Pe(t)});class Av extends De{_parse(e){if(this._getType(e)!==fe.undefined){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:fe.undefined,received:n.parsedType}),_e}return Sr(e.data)}}Av.create=t=>new Av({typeName:we.ZodUndefined,...Pe(t)});class $v extends De{_parse(e){if(this._getType(e)!==fe.null){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:fe.null,received:n.parsedType}),_e}return Sr(e.data)}}$v.create=t=>new $v({typeName:we.ZodNull,...Pe(t)});class Lv extends De{constructor(){super(...arguments),this._any=!0}_parse(e){return Sr(e.data)}}Lv.create=t=>new Lv({typeName:we.ZodAny,...Pe(t)});class Fv extends De{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Sr(e.data)}}Fv.create=t=>new Fv({typeName:we.ZodUnknown,...Pe(t)});class Es extends De{_parse(e){const r=this._getOrReturnCtx(e);return le(r,{code:X.invalid_type,expected:fe.never,received:r.parsedType}),_e}}Es.create=t=>new Es({typeName:we.ZodNever,...Pe(t)});class Iv extends De{_parse(e){if(this._getType(e)!==fe.undefined){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:fe.void,received:n.parsedType}),_e}return Sr(e.data)}}Iv.create=t=>new Iv({typeName:we.ZodVoid,...Pe(t)});class on extends De{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==fe.array)return le(r,{code:X.invalid_type,expected:fe.array,received:r.parsedType}),_e;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(le(r,{code:o?X.too_big:X.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(le(r,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(le(r,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Cs(r,o,r.path,l)))).then(o=>cr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Cs(r,o,r.path,l)));return cr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new on({...this._def,minLength:{value:e,message:pe.toString(r)}})}max(e,r){return new on({...this._def,maxLength:{value:e,message:pe.toString(r)}})}length(e,r){return new on({...this._def,exactLength:{value:e,message:pe.toString(r)}})}nonempty(e){return this.min(1,e)}}on.create=(t,e)=>new on({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Pe(e)});function Hi(t){if(t instanceof mt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ws.create(Hi(n))}return new mt({...t._def,shape:()=>e})}else return t instanceof on?new on({...t._def,type:Hi(t.element)}):t instanceof ws?ws.create(Hi(t.unwrap())):t instanceof Ja?Ja.create(Hi(t.unwrap())):t instanceof Ei?Ei.create(t.items.map(e=>Hi(e))):t}class mt extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ue.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==fe.object){const u=this._getOrReturnCtx(e);return le(u,{code:X.invalid_type,expected:fe.object,received:u.parsedType}),_e}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Es&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Cs(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Es){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(le(s,{code:X.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const d=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Cs(s,d,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const d=await h.key,m=await h.value;u.push({key:d,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>cr.mergeObjectSync(n,u)):cr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return pe.errToObj,new mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:pe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new mt({...this._def,unknownKeys:"strip"})}passthrough(){return new mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new mt({...this._def,catchall:e})}pick(e){const r={};for(const n of Ue.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new mt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ue.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new mt({...this._def,shape:()=>r})}deepPartial(){return Hi(this)}partial(e){const r={};for(const n of Ue.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new mt({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ue.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ws;)a=a._def.innerType;r[n]=a}return new mt({...this._def,shape:()=>r})}keyof(){return _N(Ue.objectKeys(this.shape))}}mt.create=(t,e)=>new mt({shape:()=>t,unknownKeys:"strip",catchall:Es.create(),typeName:we.ZodObject,...Pe(e)});mt.strictCreate=(t,e)=>new mt({shape:()=>t,unknownKeys:"strict",catchall:Es.create(),typeName:we.ZodObject,...Pe(e)});mt.lazycreate=(t,e)=>new mt({shape:t,unknownKeys:"strip",catchall:Es.create(),typeName:we.ZodObject,...Pe(e)});class Ku extends De{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Pn(l.ctx.common.issues));return le(r,{code:X.invalid_union,unionErrors:o}),_e}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Pn(c));return le(r,{code:X.invalid_union,unionErrors:l}),_e}}get options(){return this._def.options}}Ku.create=(t,e)=>new Ku({options:t,typeName:we.ZodUnion,...Pe(e)});function _p(t,e){const r=Wn(t),n=Wn(e);if(t===e)return{valid:!0,data:t};if(r===fe.object&&n===fe.object){const s=Ue.objectKeys(e),a=Ue.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=_p(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===fe.array&&n===fe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=_p(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===fe.date&&n===fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yu extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(Pv(a)||Pv(o))return _e;const l=_p(a.value,o.value);return l.valid?((Ov(a)||Ov(o))&&r.dirty(),{status:r.value,value:l.data}):(le(n,{code:X.invalid_intersection_types}),_e)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yu.create=(t,e,r)=>new Yu({left:t,right:e,typeName:we.ZodIntersection,...Pe(r)});class Ei extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.array)return le(n,{code:X.invalid_type,expected:fe.array,received:n.parsedType}),_e;if(n.data.length<this._def.items.length)return le(n,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&n.data.length>this._def.items.length&&(le(n,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Cs(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>cr.mergeArray(r,o)):cr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ei({...this._def,rest:e})}}Ei.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ei({items:t,typeName:we.ZodTuple,rest:null,...Pe(e)})};class Mv extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.map)return le(n,{code:X.invalid_type,expected:fe.map,received:n.parsedType}),_e;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Cs(n,l,n.path,[u,"key"])),value:a._parse(new Cs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return _e;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return _e;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}}}}Mv.create=(t,e,r)=>new Mv({valueType:e,keyType:t,typeName:we.ZodMap,...Pe(r)});class Sl extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.set)return le(n,{code:X.invalid_type,expected:fe.set,received:n.parsedType}),_e;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(le(n,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(le(n,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return _e;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Cs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Sl({...this._def,minSize:{value:e,message:pe.toString(r)}})}max(e,r){return new Sl({...this._def,maxSize:{value:e,message:pe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Sl.create=(t,e)=>new Sl({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Pe(e)});class Dv extends De{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dv.create=(t,e)=>new Dv({getter:t,typeName:we.ZodLazy,...Pe(e)});class Bv extends De{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return le(r,{received:r.data,code:X.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:e.data}}get value(){return this._def.value}}Bv.create=(t,e)=>new Bv({value:t,typeName:we.ZodLiteral,...Pe(e)});function _N(t,e){return new Ya({values:t,typeName:we.ZodEnum,...Pe(e)})}class Ya extends De{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return le(r,{expected:Ue.joinValues(n),received:r.parsedType,code:X.invalid_type}),_e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return le(r,{received:r.data,code:X.invalid_enum_value,options:n}),_e}return Sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ya.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ya.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ya.create=_N;class Uv extends De{_parse(e){const r=Ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==fe.string&&n.parsedType!==fe.number){const s=Ue.objectValues(r);return le(n,{expected:Ue.joinValues(s),received:n.parsedType,code:X.invalid_type}),_e}if(this._cache||(this._cache=new Set(Ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ue.objectValues(r);return le(n,{received:n.data,code:X.invalid_enum_value,options:s}),_e}return Sr(e.data)}get enum(){return this._def.values}}Uv.create=(t,e)=>new Uv({values:t,typeName:we.ZodNativeEnum,...Pe(e)});class Gu extends De{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.promise&&r.common.async===!1)return le(r,{code:X.invalid_type,expected:fe.promise,received:r.parsedType}),_e;const n=r.parsedType===fe.promise?r.data:Promise.resolve(r.data);return Sr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Gu.create=(t,e)=>new Gu({type:t,typeName:we.ZodPromise,...Pe(e)});class Ga extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{le(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?_e:c.status==="dirty"||r.value==="dirty"?Io(c.value):c});{if(r.value==="aborted")return _e;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?_e:l.status==="dirty"||r.value==="dirty"?Io(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qa(o))return _e;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qa(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):_e);Ue.assertNever(s)}}Ga.create=(t,e,r)=>new Ga({schema:t,typeName:we.ZodEffects,effect:e,...Pe(r)});Ga.createWithPreprocess=(t,e,r)=>new Ga({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Pe(r)});class ws extends De{_parse(e){return this._getType(e)===fe.undefined?Sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ws.create=(t,e)=>new ws({innerType:t,typeName:we.ZodOptional,...Pe(e)});class Ja extends De{_parse(e){return this._getType(e)===fe.null?Sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ja.create=(t,e)=>new Ja({innerType:t,typeName:we.ZodNullable,...Pe(e)});class bp extends De{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bp.create=(t,e)=>new bp({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});class wp extends De{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zu(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Pn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wp.create=(t,e)=>new wp({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});class zv extends De{_parse(e){if(this._getType(e)!==fe.nan){const n=this._getOrReturnCtx(e);return le(n,{code:X.invalid_type,expected:fe.nan,received:n.parsedType}),_e}return{status:"valid",value:e.data}}}zv.create=t=>new zv({typeName:we.ZodNaN,...Pe(t)});class Z5 extends De{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ty extends De{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_e:a.status==="dirty"?(r.dirty(),Io(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_e:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new ty({in:e,out:r,typeName:we.ZodPipeline})}}class jp extends De{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Qa(s)&&(s.value=Object.freeze(s.value)),s);return Zu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}jp.create=(t,e)=>new jp({innerType:t,typeName:we.ZodReadonly,...Pe(e)});var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const N=bn.create,U=Si.create;Ci.create;const de=Qu.create;Ka.create;Es.create;on.create;const re=mt.create;Ku.create;Yu.create;Ei.create;const Ne=Ya.create;Gu.create;ws.create;Ja.create;const ke={string:t=>bn.create({...t,coerce:!0}),number:t=>Si.create({...t,coerce:!0}),boolean:t=>Qu.create({...t,coerce:!0}),bigint:t=>Ci.create({...t,coerce:!0}),date:t=>Ka.create({...t,coerce:!0})},Pi=re({user_id:N(),email:N().email(),password_hash:N(),display_name:N().nullable(),profile_photo_url:N().nullable(),bio:N().nullable(),contact_email:N().email().nullable(),is_host:de(),is_superhost:de(),last_active_at:ke.date().nullable(),created_at:ke.date(),updated_at:ke.date()});re({user_id:N().min(1).max(128),email:N().email().max(255),password_hash:N().min(8),display_name:N().max(255).nullable(),profile_photo_url:N().url().max(2048).nullable(),bio:N().max(4096).nullable(),contact_email:N().email().max(255).nullable(),is_host:de().default(!1),is_superhost:de().default(!1),last_active_at:N().nullable(),created_at:N(),updated_at:N()});re({user_id:N(),email:N().email().max(255).optional(),password_hash:N().min(8).optional(),display_name:N().max(255).nullable().optional(),profile_photo_url:N().url().max(2048).nullable().optional(),bio:N().max(4096).nullable().optional(),contact_email:N().email().max(255).nullable().optional(),is_host:de().optional(),is_superhost:de().optional(),last_active_at:ke.date().optional().nullable()});re({query:N().optional(),is_host:de().optional(),is_superhost:de().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","email","display_name"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});const ma=re({villa_id:N(),owner_user_id:N(),title:N(),description_short:N().nullable(),description_long:N().nullable(),address_street:N().nullable(),address_city:N(),address_area:N().nullable(),address_postal_code:N().nullable(),address_country:N(),latitude:U(),longitude:U(),main_photo_url:N().nullable(),cancellation_policy:N(),min_nights:U().int(),max_nights:U().int(),bedrooms:U().int(),beds:U().int(),bathrooms:U().int(),max_guests:U().int(),price_per_night:U(),cleaning_fee:U(),service_fee:U(),taxes:U(),is_active:de(),is_beachfront:de(),is_pet_friendly:de(),is_instant_book:de(),house_rules:N().nullable(),published_at:ke.date().nullable(),created_at:ke.date(),updated_at:ke.date()});re({villa_id:N().min(1).max(128),owner_user_id:N().min(1).max(128),title:N().min(1).max(255),description_short:N().max(500).nullable(),description_long:N().max(4096).nullable(),address_street:N().max(255).nullable(),address_city:N().min(1).max(255),address_area:N().max(255).nullable(),address_postal_code:N().max(16).nullable(),address_country:N().max(64),latitude:U(),longitude:U(),main_photo_url:N().url().max(2048).nullable(),cancellation_policy:N().min(1).max(255),min_nights:U().int().positive(),max_nights:U().int().positive(),bedrooms:U().int().min(1).max(100),beds:U().int().min(1).max(200),bathrooms:U().int().min(1).max(100),max_guests:U().int().min(1).max(1e3),price_per_night:U().min(0),cleaning_fee:U().min(0),service_fee:U().min(0),taxes:U().min(0),is_active:de().default(!0),is_beachfront:de().default(!1),is_pet_friendly:de().default(!1),is_instant_book:de().default(!1),house_rules:N().max(2048).nullable(),published_at:ke.date().nullable()});re({villa_id:N(),title:N().min(1).max(255).optional(),description_short:N().max(500).nullable().optional(),description_long:N().max(4096).nullable().optional(),address_street:N().max(255).nullable().optional(),address_city:N().min(1).max(255).optional(),address_area:N().max(255).nullable().optional(),address_postal_code:N().max(16).nullable().optional(),address_country:N().max(64).optional(),latitude:U().optional(),longitude:U().optional(),main_photo_url:N().url().max(2048).nullable().optional(),cancellation_policy:N().min(1).max(255).optional(),min_nights:U().int().positive().optional(),max_nights:U().int().positive().optional(),bedrooms:U().int().min(1).max(100).optional(),beds:U().int().min(1).max(200).optional(),bathrooms:U().int().min(1).max(100).optional(),max_guests:U().int().min(1).max(1e3).optional(),price_per_night:U().min(0).optional(),cleaning_fee:U().min(0).optional(),service_fee:U().min(0).optional(),taxes:U().min(0).optional(),is_active:de().optional(),is_beachfront:de().optional(),is_pet_friendly:de().optional(),is_instant_book:de().optional(),house_rules:N().max(2048).nullable().optional(),published_at:ke.date().nullable().optional()});re({query:N().optional(),address_city:N().optional(),address_country:N().optional(),min_guests:U().int().min(1).optional(),min_nights:U().int().min(1).optional(),max_price:U().min(0).optional(),is_active:de().optional(),is_beachfront:de().optional(),is_pet_friendly:de().optional(),is_instant_book:de().optional(),bedrooms:U().int().min(1).optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","price_per_night","max_guests"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});const Q5=re({villa_photo_id:N(),villa_id:N(),photo_url:N(),ordering:U().int(),is_main:de(),uploaded_at:ke.date()});re({villa_photo_id:N().min(1).max(128),villa_id:N(),photo_url:N().url().max(2048),ordering:U().int().min(1),is_main:de().default(!1)});re({villa_photo_id:N(),photo_url:N().url().max(2048).optional(),ordering:U().int().min(1).optional(),is_main:de().optional()});re({villa_id:N().optional(),is_main:de().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["ordering","uploaded_at"]).default("ordering"),sort_order:Ne(["asc","desc"]).default("asc")});const qv=re({amenity_id:U().int(),label:N(),icon_url:N().nullable(),created_at:ke.date()});re({label:N().min(1).max(128),icon_url:N().url().max(2048).nullable()});re({amenity_id:U().int(),label:N().min(1).max(128).optional(),icon_url:N().url().max(2048).nullable().optional()});re({query:N().optional(),limit:U().int().positive().default(30),offset:U().int().nonnegative().default(0),sort_by:Ne(["label","created_at"]).default("label"),sort_order:Ne(["asc","desc"]).default("asc")});re({villa_amenity_id:N(),villa_id:N(),amenity_id:U().int()});re({villa_amenity_id:N().min(1).max(128),villa_id:N(),amenity_id:U().int()});re({villa_amenity_id:N(),villa_id:N().optional(),amenity_id:U().int().optional()});re({villa_id:N().optional(),amenity_id:U().int().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["villa_id","amenity_id"]).default("villa_id"),sort_order:Ne(["asc","desc"]).default("asc")});const K5=re({villa_rule_id:N(),villa_id:N(),rule_type:N(),allowed:de(),notes:N().nullable()});re({villa_rule_id:N().min(1).max(128),villa_id:N(),rule_type:N().min(1).max(64),allowed:de(),notes:N().max(2048).nullable()});re({villa_rule_id:N(),rule_type:N().min(1).max(64).optional(),allowed:de().optional(),notes:N().max(2048).nullable().optional()});re({villa_id:N().optional(),rule_type:N().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["rule_type","villa_id"]).default("rule_type"),sort_order:Ne(["asc","desc"]).default("asc")});const Wv=re({villa_calendar_id:N(),villa_id:N(),date:N(),is_available:de(),reason:N().nullable(),updated_at:ke.date()});re({villa_calendar_id:N().min(1).max(128),villa_id:N(),date:N().regex(/^\d{4}-\d{2}-\d{2}$/),is_available:de().default(!0),reason:N().max(255).nullable()});re({villa_calendar_id:N(),is_available:de().optional(),reason:N().max(255).nullable().optional()});re({villa_id:N().optional(),date_from:N().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),date_to:N().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),is_available:de().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["date","updated_at"]).default("date"),sort_order:Ne(["asc","desc"]).default("asc")});re({villa_pricing_override_id:N(),villa_id:N(),date:N(),nightly_price:U(),min_nights:U().int().nullable(),max_nights:U().int().nullable(),updated_at:ke.date()});re({villa_pricing_override_id:N().min(1).max(128),villa_id:N(),date:N().regex(/^\d{4}-\d{2}-\d{2}$/),nightly_price:U().min(0),min_nights:U().int().min(1).nullable(),max_nights:U().int().min(1).nullable()});re({villa_pricing_override_id:N(),nightly_price:U().min(0).optional(),min_nights:U().int().min(1).nullable().optional(),max_nights:U().int().min(1).nullable().optional()});re({villa_id:N().optional(),date_from:N().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),date_to:N().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["date","updated_at"]).default("date"),sort_order:Ne(["asc","desc"]).default("asc")});const Y5=re({wishlist_id:N(),user_id:N(),name:N(),is_deleted:de(),created_at:ke.date(),updated_at:ke.date()});re({wishlist_id:N().min(1).max(128),user_id:N(),name:N().min(1).max(255),is_deleted:de().default(!1)});re({wishlist_id:N(),name:N().min(1).max(255).optional(),is_deleted:de().optional()});re({user_id:N().optional(),is_deleted:de().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","name"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({wishlist_item_id:N(),wishlist_id:N(),villa_id:N(),added_at:ke.date()});re({wishlist_item_id:N().min(1).max(128),wishlist_id:N(),villa_id:N()});re({wishlist_item_id:N(),villa_id:N().optional()});re({wishlist_id:N().optional(),villa_id:N().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["added_at"]).default("added_at"),sort_order:Ne(["asc","desc"]).default("desc")});const nr=re({booking_id:N(),villa_id:N(),guest_user_id:N(),host_user_id:N(),checkin_date:N(),checkout_date:N(),num_guests:U().int(),status:N(),is_instant_book:de(),nightly_price:U(),cleaning_fee:U(),service_fee:U(),taxes:U(),total_price:U(),payment_status:N(),cancellation_date:ke.date().nullable(),cancellation_reason:N().nullable(),created_at:ke.date(),updated_at:ke.date()});re({booking_id:N().min(1).max(128),villa_id:N(),guest_user_id:N(),host_user_id:N(),checkin_date:N().regex(/^\d{4}-\d{2}-\d{2}$/),checkout_date:N().regex(/^\d{4}-\d{2}-\d{2}$/),num_guests:U().int().min(1),status:N().min(1).max(32),is_instant_book:de().default(!1),nightly_price:U().min(0),cleaning_fee:U().min(0),service_fee:U().min(0),taxes:U().min(0),total_price:U().min(0),payment_status:N().min(1).max(32),cancellation_date:ke.date().nullable(),cancellation_reason:N().max(2048).nullable()});re({booking_id:N(),status:N().min(1).max(32).optional(),is_instant_book:de().optional(),nightly_price:U().min(0).optional(),cleaning_fee:U().min(0).optional(),service_fee:U().min(0).optional(),taxes:U().min(0).optional(),total_price:U().min(0).optional(),payment_status:N().min(1).max(32).optional(),cancellation_date:ke.date().nullable().optional(),cancellation_reason:N().max(2048).nullable().optional(),checkin_date:N().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),checkout_date:N().regex(/^\d{4}-\d{2}-\d{2}$/).optional(),num_guests:U().int().min(1).optional()});re({villa_id:N().optional(),guest_user_id:N().optional(),host_user_id:N().optional(),status:N().optional(),payment_status:N().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","checkin_date","checkout_date","status"]).default("checkin_date"),sort_order:Ne(["asc","desc"]).default("desc")});re({booking_history_id:N(),booking_id:N(),action:N(),previous_value:N().nullable(),new_value:N().nullable(),action_by_user_id:N().nullable(),action_at:ke.date()});re({booking_history_id:N().min(1).max(128),booking_id:N(),action:N().min(1).max(64),previous_value:N().max(2048).nullable(),new_value:N().max(2048).nullable(),action_by_user_id:N().optional()});re({booking_history_id:N(),action:N().min(1).max(64).optional(),previous_value:N().max(2048).nullable().optional(),new_value:N().max(2048).nullable().optional(),action_by_user_id:N().optional()});re({booking_id:N().optional(),action_by_user_id:N().optional(),action:N().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["action_at","action"]).default("action_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({booking_guest_id:N(),booking_id:N(),guest_name:N(),guest_email:N().email(),special_requests:N().nullable()});re({booking_guest_id:N().min(1).max(128),booking_id:N(),guest_name:N().min(1).max(128),guest_email:N().email(),special_requests:N().max(2048).nullable()});re({booking_guest_id:N(),guest_name:N().min(1).max(128).optional(),guest_email:N().email().optional(),special_requests:N().max(2048).nullable().optional()});re({booking_id:N().optional(),guest_email:N().email().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["guest_name","booking_id"]).default("guest_name"),sort_order:Ne(["asc","desc"]).default("asc")});re({booking_payment_id:N(),booking_id:N(),user_id:N(),amount:U(),status:N(),provider:N(),processed_at:ke.date().nullable()});re({booking_payment_id:N().min(1).max(128),booking_id:N(),user_id:N(),amount:U().min(.01),status:N().min(1).max(32),provider:N().min(1).max(64),processed_at:ke.date().nullable()});re({booking_payment_id:N(),status:N().min(1).max(32).optional(),provider:N().min(1).max(64).optional(),processed_at:ke.date().nullable().optional()});re({booking_id:N().optional(),user_id:N().optional(),status:N().optional(),provider:N().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["processed_at","amount"]).default("processed_at"),sort_order:Ne(["asc","desc"]).default("desc")});const G5=re({thread_id:N(),participant_user_id:N(),villa_id:N().nullable(),booking_id:N().nullable(),last_message_preview:N().nullable(),unread_count:U().int(),updated_at:ke.date()});re({thread_id:N().min(1).max(128),participant_user_id:N(),villa_id:N().nullable(),booking_id:N().nullable(),last_message_preview:N().max(2048).nullable(),unread_count:U().int().min(0).default(0)});re({thread_id:N(),last_message_preview:N().max(2048).nullable().optional(),unread_count:U().int().min(0).optional()});re({participant_user_id:N().optional(),villa_id:N().optional(),booking_id:N().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["updated_at"]).default("updated_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({message_id:N(),thread_id:N(),sender_user_id:N(),recipient_user_id:N(),content:N(),is_read:de(),sent_at:ke.date()});re({message_id:N().min(1).max(128),thread_id:N(),sender_user_id:N(),recipient_user_id:N(),content:N().min(1).max(8192),is_read:de().default(!1)});re({message_id:N(),content:N().min(1).max(8192).optional(),is_read:de().optional()});re({thread_id:N().optional(),sender_user_id:N().optional(),recipient_user_id:N().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["sent_at"]).default("sent_at"),sort_order:Ne(["asc","desc"]).default("asc")});const Np=re({review_id:N(),booking_id:N(),guest_user_id:N(),villa_id:N(),host_user_id:N(),rating:U().int(),text:N().nullable(),is_edited:de(),created_at:ke.date(),updated_at:ke.date()});re({review_id:N().min(1).max(128),booking_id:N(),guest_user_id:N(),villa_id:N(),host_user_id:N(),rating:U().int().min(1).max(5),text:N().max(4096).nullable(),is_edited:de().default(!1)});re({review_id:N(),text:N().max(4096).nullable().optional(),rating:U().int().min(1).max(5).optional(),is_edited:de().optional()});re({villa_id:N().optional(),guest_user_id:N().optional(),host_user_id:N().optional(),rating:U().int().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","rating"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({guest_review_id:N(),booking_id:N(),host_user_id:N(),guest_user_id:N(),rating:U().int(),text:N().nullable(),is_edited:de(),created_at:ke.date(),updated_at:ke.date()});re({guest_review_id:N().min(1).max(128),booking_id:N(),host_user_id:N(),guest_user_id:N(),rating:U().int().min(1).max(5),text:N().max(4096).nullable(),is_edited:de().default(!1)});re({guest_review_id:N(),text:N().max(4096).nullable().optional(),rating:U().int().min(1).max(5).optional(),is_edited:de().optional()});re({host_user_id:N().optional(),guest_user_id:N().optional(),rating:U().int().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","rating"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({superhost_history_id:N(),host_user_id:N(),is_superhost:de(),qualifying_reviews:U().int(),qualifying_avg_rating:U(),became_superhost_at:ke.date().nullable(),removed_superhost_at:ke.date().nullable()});re({superhost_history_id:N().min(1).max(128),host_user_id:N(),is_superhost:de(),qualifying_reviews:U().int().min(0),qualifying_avg_rating:U().min(0).max(5),became_superhost_at:ke.date().nullable(),removed_superhost_at:ke.date().nullable()});re({superhost_history_id:N(),is_superhost:de().optional(),qualifying_reviews:U().int().min(0).optional(),qualifying_avg_rating:U().min(0).max(5).optional(),became_superhost_at:ke.date().nullable().optional(),removed_superhost_at:ke.date().nullable().optional()});re({host_user_id:N().optional(),is_superhost:de().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["became_superhost_at","removed_superhost_at"]).default("became_superhost_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({notification_id:N(),user_id:N(),type:N(),message:N(),is_read:de(),reference_id:N().nullable(),created_at:ke.date()});re({notification_id:N().min(1).max(128),user_id:N(),type:N().min(1).max(64),message:N().min(1).max(2048),is_read:de().default(!1),reference_id:N().nullable()});re({notification_id:N(),is_read:de().optional()});re({user_id:N().optional(),type:N().optional(),is_read:de().optional(),reference_id:N().optional(),limit:U().int().positive().default(20),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});re({password_reset_id:N(),user_id:N(),reset_code:N(),expires_at:ke.date(),used:de(),created_at:ke.date()});re({password_reset_id:N().min(1).max(128),user_id:N(),reset_code:N().min(1).max(128),expires_at:ke.date(),used:de().default(!1)});re({password_reset_id:N(),used:de().optional()});re({user_id:N().optional(),used:de().optional(),limit:U().int().positive().default(10),offset:U().int().nonnegative().default(0),sort_by:Ne(["created_at","expires_at"]).default("created_at"),sort_order:Ne(["asc","desc"]).default("desc")});function ry(t,e){const r=t.safeParse(e);return r.success?r.data:null}const Ud="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",J5=async({booking_id:t,token:e})=>{const{data:r}=await H.get(`${Ud}/bookings/${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${e}`}}),n=ry(nr,r);if(!n)throw new Error("Malformed booking data");return n},X5=async({villa_id:t})=>{const{data:e}=await H.get(`${Ud}/villa/${encodeURIComponent(t)}`),r=ry(ma,e);if(!r)throw new Error("Malformed villa data");return r},e6=async({token:t})=>{const{data:e}=await H.get(`${Ud}/account/me`,{headers:{Authorization:`Bearer ${t}`}}),r=ry(Pi,e);if(!r)throw new Error("Malformed user data");return r},t6=async({city:t,own_villa_id:e})=>{const{data:r}=await H.get(`${Ud}/villas?location=${encodeURIComponent(t)}&is_active=true&page=1`);return(Array.isArray(r.results)?r.results:[]).filter(s=>String(s.villa_id)!==String(e))},r6=()=>{const t=cn(),e=t.booking_id||t.bookingId||"",r=et(),n=ae(Z=>Z.user_session.token),s=ae(Z=>Z.user_session.is_authenticated),a=ae(Z=>Z.user_session.user_id);ge.useEffect(()=>{s||r("/guest/login",{replace:!0})},[s,r]);const{data:o,isLoading:l,isError:c,error:u}=xe({queryKey:["booking",e,n],queryFn:()=>{if(!e||!n)throw new Error("Missing booking_id or token");return J5({booking_id:e,token:n})},enabled:!!e&&!!n,retry:!1}),h=(o==null?void 0:o.villa_id)||"",{data:d,isLoading:m,isError:v,error:g}=xe({queryKey:["villa",h],queryFn:()=>{if(!h)throw new Error("Missing villa_id");return X5({villa_id:String(h)})},enabled:!!h,retry:!1}),x=!!o&&String(o.host_user_id)===String(a)&&!!n,{data:j,isLoading:p,isError:y,error:f}=xe({queryKey:["host-profile",o==null?void 0:o.host_user_id,n],queryFn:()=>{if(!n)throw new Error("Missing token");return e6({token:n})},enabled:x,retry:!1}),_=(d==null?void 0:d.address_city)||"",{data:k,isLoading:T,isError:P,error:F}=xe({queryKey:["recommendations",_,h,"booking-confirmation"],queryFn:()=>!_||!h?[]:t6({city:_,own_villa_id:h}),enabled:!!_&&!!h,retry:!1});let L=null;e?c?L="Could not load your booking confirmation. Please check your reservation link or contact support.":v&&(L="Could not load villa details. Please try again later."):L="Missing booking confirmation identifier.";const z=Z=>{if(!Z)return"-";try{return new Date(Z).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return Z}},I=w.useMemo(()=>j?{display_name:j.display_name||"Your Host",profile_photo_url:j.profile_photo_url||"https://picsum.photos/seed/host/56",is_superhost:!!(j.is_superhost??j.superhost_status),fallback:!1}:d&&d.owner_user_id?{display_name:"Host (not available)",profile_photo_url:"https://picsum.photos/seed/host/56",is_superhost:!1,fallback:!0}:null,[j,d]);return i.jsx(i.Fragment,{children:i.jsx("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-8",children:L?i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center shadow mt-12",children:[i.jsx("div",{className:"text-2xl font-bold mb-2 text-red-800",children:"Confirmation Unavailable"}),i.jsx("div",{className:"text-red-700 my-4",children:L}),i.jsx(V,{to:"/",className:"inline-block bg-sky-600 text-white rounded-md px-5 py-2 mt-6 hover:bg-sky-700 font-semibold transition",children:"Go Home"})]}):l||m?i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-sky-400 border-t-transparent","aria-label":"Loading"})}):o&&d?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center pt-4 pb-8",children:[i.jsx("div",{className:"text-3xl font-extrabold text-sky-700 mb-2",children:" Booking Confirmed!"}),i.jsx("div",{className:"text-lg text-gray-700",children:o.status==="confirmed"?"Your stay is confirmed and a confirmation email has been sent.":o.status==="pending"?"Your booking request is pending. We'll notify you as soon as it's confirmed.":"Your reservation status: "+o.status}),i.jsxs("div",{className:"text-sm text-sky-900 mt-2",children:["Reservation reference:"," ",i.jsx("span",{className:"font-mono font-semibold bg-gray-100 px-2 py-0.5 rounded",children:o.booking_id})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-lg mx-auto max-w-2xl flex flex-col md:flex-row overflow-hidden",children:[d.main_photo_url&&i.jsx("img",{src:d.main_photo_url,alt:d.title,className:"w-full md:w-64 h-56 object-cover object-center md:rounded-l-xl",loading:"lazy"}),i.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.title}),i.jsxs("div",{className:"text-gray-600 font-medium mb-2",children:[d.address_city,", ",d.address_country]}),i.jsxs("div",{className:"flex flex-wrap space-x-6 text-gray-700 mb-1 mt-2",children:[i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold",children:"Check-in:"})," ",z(o.checkin_date)]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold",children:"Check-out:"})," ",z(o.checkout_date)]})]}),i.jsxs("div",{className:"text-gray-700 mb-2",children:[i.jsx("span",{className:"font-semibold",children:"Guests:"})," ",o.num_guests]}),i.jsxs("div",{className:"mt-2 text-gray-900 text-base",children:[i.jsx("span",{className:"font-semibold",children:"Total Paid:"})," ",i.jsxs("span",{className:"font-mono text-lg tracking-tight",children:["$",o.total_price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),i.jsx("div",{children:I&&i.jsxs("div",{className:"flex items-center mt-4 border-t pt-3",children:[i.jsx("img",{src:I.profile_photo_url,alt:I.display_name,className:"w-12 h-12 rounded-full object-cover border border-gray-200",loading:"lazy"}),i.jsxs("div",{className:"ml-3",children:[i.jsxs("span",{className:"font-semibold text-gray-800 block",children:["Host: ",I.display_name]}),I.is_superhost&&!I.fallback&&i.jsx("span",{className:"inline-block text-xs bg-yellow-100 text-yellow-700 font-semibold rounded px-2 py-0.5 mt-1",children:" Superhost"}),I.fallback&&i.jsx("span",{className:"inline-block text-xs bg-neutral-100 text-neutral-600 rounded px-2 py-0.5 mt-1",title:"Host details unavailable due to privacy settings or booking status.",children:"Host details unavailable"})]})]})})]})]}),i.jsx("div",{className:"text-center mt-8",children:i.jsx(V,{to:"/guest/my-trips",className:"bg-sky-600 hover:bg-sky-700 text-white px-6 py-3 rounded-lg font-semibold shadow transition",children:"View My Trips"})}),i.jsxs("div",{className:"mt-14",children:[i.jsx("div",{className:"text-lg font-bold text-sky-800 mb-4 text-center",children:"You might also like"}),T?i.jsx("div",{className:"flex items-center justify-center min-h-[120px]",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-gray-300 border-t-transparent","aria-label":"Loading"})}):k&&k.length>0?i.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:k.slice(0,6).map(Z=>i.jsxs(V,{to:`/villa/${Z.villa_id}`,className:"bg-white border border-gray-200 rounded-xl shadow hover:shadow-lg transition p-2 flex flex-col",children:[i.jsx("img",{src:Z.main_photo_url||`https://picsum.photos/seed/villa${Z.villa_id}/320/180`,alt:Z.title,className:"h-36 w-full object-cover rounded-t-xl mb-2",loading:"lazy"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-gray-900 truncate",children:Z.title}),i.jsx("div",{className:"text-xs text-gray-600",children:Z.address_city}),i.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["$",Z.price_per_night.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," ","/ night"]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Z.bedrooms," bd  ",Z.beds," beds  ",Z.bathrooms," ba"]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-yellow-500","aria-label":"Rating Star",children:""}),i.jsx("span",{className:"text-gray-700 text-xs",children:Number(Z.avg_rating).toFixed(2)})]}),Z.is_instant_book&&i.jsx("span",{className:"bg-green-100 text-green-700 rounded px-2 py-0.5 text-xs font-medium",children:"Instant book"})]})]},Z.villa_id))}):i.jsxs("div",{className:"text-gray-600 text-center p-8",children:["No other villas found in ",_,". Try browsing in"," ",i.jsx(V,{to:"/search",className:"text-sky-600 underline",children:"search"}),"."]})]})]}):i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsx("div",{className:"text-gray-500",children:"Loading confirmation..."})})})})};function n6(t){const{search:e}=qr();return ge.useMemo(()=>{if(!e)return null;const n=new URLSearchParams(e).get(t);return typeof n=="string"?n:null},[e,t])}function s6(t){if(!t)return"error";const e=t.toLowerCase();return e.includes("overlap")||e.includes("unavailable")||e.includes("double")||e.includes("already")||e.includes("not available")?"warning":e.includes("technical")||e.includes("server")||e.includes("error")||e.includes("failure")?"error":e.includes("payment")||e.includes("card")||e.includes("declined")||e.includes("invalid")?"info":"error"}function i6(t){return!t||!t.trim()?"Sorry, we couldn't complete your booking. Please try again, check your details, or contact support if the issue persists.":t.toLowerCase().match(/overlap|already booked|double|not available|unavailable/)?"The selected dates for your villa are no longer available. Please choose new dates or review your booking.":t.toLowerCase().match(/payment|invalid.*card|declined|charge failed|insufficient/)?"There was a problem processing your payment. Please check your card details or try another method.":t.toLowerCase().match(/technical|server|error/)?"A technical error occurred during your booking. Please try again, or contact support if this continues.":t}function a6(t){if(!t)return"";const e={};t.location&&(e.location=t.location),t.checkin_date&&(e.checkin_date=t.checkin_date),t.checkout_date&&(e.checkout_date=t.checkout_date),typeof t.num_guests=="number"&&!isNaN(t.num_guests)&&t.num_guests>=1&&(e.num_guests=String(t.num_guests));const r=t.filters||{};r.price_min!=null&&(e.price_min=String(r.price_min)),r.price_max!=null&&(e.price_max=String(r.price_max)),r.bedrooms!=null&&(e.bedrooms=String(r.bedrooms)),r.beds!=null&&(e.beds=String(r.beds)),r.bathrooms!=null&&(e.bathrooms=String(r.bathrooms)),Array.isArray(r.amenities)&&r.amenities.length&&(e.amenities=r.amenities.join(",")),r.is_beachfront!=null&&(e.is_beachfront=String(!!r.is_beachfront)),r.is_pet_friendly!=null&&(e.is_pet_friendly=String(!!r.is_pet_friendly)),r.is_instant_book!=null&&(e.is_instant_book=String(!!r.is_instant_book)),t.sort&&(e.sort=t.sort),t.page&&t.page>1&&(e.page=String(t.page));const n=new URLSearchParams(e).toString();return n?"?"+n:""}const o6=()=>{const t=n6("reason"),e=ae(d=>d.booking_cart.villa_id),r=ae(d=>d.search_state),n=s6(t),s=i6(t),a=typeof e=="number"&&!isNaN(e),o=a6(r),l={error:"bg-red-50 border-red-400 text-red-700",warning:"bg-yellow-50 border-yellow-400 text-yellow-800",info:"bg-blue-50 border-blue-400 text-blue-700"},c={error:i.jsx("svg",{className:"h-6 w-6 text-red-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12A9 9 0 11 3 12a9 9 0 0118 0z"})}),warning:i.jsx("svg",{className:"h-6 w-6 text-yellow-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M12 17a5 5 0 100-10 5 5 0 000 10z"})}),info:i.jsx("svg",{className:"h-6 w-6 text-blue-500 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20.5A8.5 8.5 0 104 12.5a8.5 8.5 0 0016.5 8z"})})},h="mailto:support@beachstayvillas.com?subject=Booking%20Assistance";return ge.useEffect(()=>{window.scrollTo(0,0)},[]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-16 flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:`w-full flex items-center border-l-4 rounded-md px-4 py-5 mb-6 shadow-sm ${l[n]}`,role:"alert","aria-live":"assertive","data-testid":"booking-failure-alert",children:[i.jsx("div",{children:c[n]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-xl font-semibold mb-1",children:"Booking Failed"}),i.jsx("p",{className:"text-base",children:s})]})]}),i.jsx("div",{className:"w-full text-center mb-6",children:i.jsxs("p",{className:"text-gray-600 mb-2",children:["Your reservation could not be completed.",a?" You may retry booking, review the villa details, or search for other properties.":" Please return to the search results to try again or contact support."]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full justify-center mb-8",children:[a&&i.jsx(V,{to:`/villa/${e}`,className:"inline-flex items-center justify-center px-6 py-2 rounded-md bg-sky-600 text-white font-semibold hover:bg-sky-700 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","data-testid":"back-to-villa-btn",children:" Back to Villa"}),i.jsx(V,{to:`/search${o}`,className:"inline-flex items-center justify-center px-6 py-2 rounded-md bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2","data-testid":"back-to-search-btn",children:" Back to Search"}),i.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-6 py-2 rounded-md bg-white border border-sky-400 text-sky-800 font-semibold hover:bg-sky-50 transition focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2","data-testid":"contact-support-link",children:[i.jsx("svg",{className:"h-5 w-5 text-sky-400 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-17 8h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2z"})}),"Contact Support"]})]}),i.jsx("div",{className:"w-full text-center mt-2",children:i.jsx("p",{className:"text-sm text-gray-500",children:"If the problem persists, please reach out to our support team for assistance."})})]})})},l6=It().email("Please enter a valid email").max(255,"Email too long"),c6=It().min(8,"Password must be at least 8 characters").max(255,"Password too long"),u6=It().min(1,"Display name is required").max(255,"Display name is too long"),d6=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(""),[s,a]=w.useState(""),[o,l]=w.useState(null),[c,u]=w.useState(!1),[h,d]=w.useState(null),[m,v]=w.useState(!1),[g,x]=w.useState(!1),j=ae(E=>E.set_user_session),p=et(),y=w.useRef(null),f=()=>{const E={};try{l6.parse(t)}catch($){$ instanceof an&&(E.email=$.issues[0].message)}try{c6.parse(r)}catch($){$ instanceof an&&(E.password=$.issues[0].message)}try{u6.parse(s)}catch($){$ instanceof an&&(E.display_name=$.issues[0].message)}return c||(E.agree_terms="You must agree to the terms and privacy policy"),E},_=w.useMemo(f,[t,r,s,c]),k=qe({mutationFn:async E=>(await H.post("https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/auth/signup",E,{headers:{"Content-Type":"application/json"}})).data,onSuccess:E=>{j({user_id:E.user_id,is_authenticated:!0,is_host:E.is_host,token:E.token,display_name:E.display_name,profile_photo_url:E.profile_photo_url,superhost_status:E.superhost_status,unread_message_count:0,last_active_at:null,email:t.trim()}),v(!1),p("/guest/dashboard")},onError:E=>{var $,C;v(!1),(C=($=E.response)==null?void 0:$.data)!=null&&C.error?d(E.response.data.error):d("Could not sign up. Please try again.")}}),T=async E=>{if(E.preventDefault(),d(null),Object.keys(_).length>0){d(_.email||_.password||_.display_name||_.agree_terms||null);return}v(!0),k.mutate({email:t.trim(),password:r,display_name:s.trim()})},P=E=>{var C;const $=(C=E.target.files)==null?void 0:C[0];if($){const b=new FileReader;b.onload=function(S){var R;l((R=S.target)==null?void 0:R.result)},b.readAsDataURL($)}},F=()=>{l(null),y.current&&(y.current.value="")},L=()=>{y.current&&y.current.click()},z=()=>x(E=>!E),I=m||!t||!r||!s||!c||!!_.email||!!_.password||!!_.display_name||!!_.agree_terms;let Z;try{Z=i.jsx("div",{className:"flex flex-col items-center justify-center w-full min-h-[70vh] py-10 bg-gray-50",children:i.jsxs("form",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-8",onSubmit:T,noValidate:!0,children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-6",children:"Create your BeachStay account"}),i.jsxs("div",{className:"flex flex-col items-center mb-6",children:[i.jsxs("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border border-gray-200 shadow-md mb-2 bg-white",children:[o?i.jsx("img",{src:o,alt:"Profile preview",className:"w-full h-full object-cover"}):i.jsx("img",{src:"https://picsum.photos/seed/profile_preview/96",alt:"Default profile",className:"w-full h-full object-cover opacity-50"}),o&&i.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-white/60 rounded-full p-1 shadow text-xs","aria-label":"Remove photo",onClick:F,children:i.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("input",{ref:y,id:"profile_photo",type:"file",accept:"image/*",className:"hidden",onChange:P,disabled:m,tabIndex:-1,"aria-label":"Choose profile photo"}),i.jsx("button",{type:"button",className:"mt-1 px-4 py-2 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition",disabled:m,onClick:L,"aria-label":o?"Change Photo":"Add Photo",children:o?"Change Photo":"Add Photo"}),i.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"(Optional, not shared until booking)"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"display_name",className:"block text-sm font-semibold mb-1",children:"Display name"}),i.jsx("input",{id:"display_name",type:"text",className:`w-full px-4 py-2 border rounded focus:ring-indigo-500 focus:border-blue-400 transition outline-none ${_.display_name?"border-red-500":"border-gray-300"}`,value:s,onChange:E=>a(E.target.value),autoComplete:"name",disabled:m,required:!0,maxLength:255,placeholder:"Your name",spellCheck:!1,"aria-invalid":!!_.display_name,"aria-describedby":_.display_name?"display_name_error":void 0}),_.display_name&&i.jsx("span",{className:"text-xs text-red-500",id:"display_name_error",children:_.display_name})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold mb-1",children:"Email"}),i.jsx("input",{id:"email",type:"email",className:`w-full px-4 py-2 border rounded focus:ring-indigo-500 focus:border-blue-400 transition outline-none ${_.email?"border-red-500":"border-gray-300"}`,value:t,onChange:E=>e(E.target.value),autoComplete:"email",disabled:m,required:!0,maxLength:255,placeholder:"you@email.com",spellCheck:!1,"aria-invalid":!!_.email,"aria-describedby":_.email?"email_error":void 0}),_.email&&i.jsx("span",{className:"text-xs text-red-500",id:"email_error",children:_.email})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",type:g?"text":"password",className:`w-full px-4 py-2 border rounded focus:ring-indigo-500 focus:border-blue-400 transition outline-none pr-10 ${_.password?"border-red-500":"border-gray-300"}`,value:r,onChange:E=>n(E.target.value),autoComplete:"new-password",disabled:m,required:!0,minLength:8,maxLength:255,placeholder:"Password (min 8 characters)",spellCheck:!1,"aria-invalid":!!_.password,"aria-describedby":_.password?"password_error":void 0}),i.jsx("button",{type:"button",className:"absolute top-2 right-2 text-gray-400 hover:text-blue-600","aria-label":g?"Hide password":"Show password",onClick:z,tabIndex:-1,disabled:m,children:g?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-5 0-9-4.477-9-7s4-7 9-7c1.262 0 2.466.247 3.572.693M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}):i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M9.88 9.88a3 3 0 104.24 4.24m2.06-2.06c.912-.912 1.832-2.181 1.83-4.06C17 7 13 3 12 3s-5 4-5 7c0 2.274.772 3.572 1.47 4.27m.53.53c.878.878 2.153 1.853 4.06 1.83"})})})]}),_.password&&i.jsx("span",{className:"text-xs text-red-500",id:"password_error",children:_.password})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:c,onChange:E=>u(E.target.checked),disabled:m,required:!0,"aria-invalid":!!_.agree_terms,"aria-describedby":_.agree_terms?"terms_error":void 0}),i.jsxs("span",{children:["I agree to the"," ",i.jsx(V,{to:"/legal/terms",className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",tabIndex:-1,children:"Terms of Service"})," ","and"," ",i.jsx(V,{to:"/legal/privacy",className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",tabIndex:-1,children:"Privacy Policy"})]})]}),_.agree_terms&&i.jsx("div",{className:"text-xs text-red-500 mt-1",id:"terms_error",children:_.agree_terms})]}),h&&i.jsx("div",{className:"mb-4 text-center text-base text-red-700 bg-red-100 rounded p-2 border border-red-300",children:h}),i.jsx("button",{type:"submit",className:`w-full py-3 mt-1 rounded font-semibold text-white bg-blue-600 hover:bg-blue-700 transition ${I?"opacity-60 cursor-not-allowed":""}`,disabled:I,children:m?i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Signing up..."]}):"Sign Up"}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mt-5 gap-2 text-sm",children:[i.jsxs("span",{children:["Already have an account?"," ",i.jsx(V,{to:"/guest/login",className:"font-medium text-blue-700 hover:underline",children:"Login"})]}),i.jsx("span",{children:i.jsx(V,{to:"/guest/password-reset",className:"text-blue-600 hover:underline",children:"Forgot password?"})})]})]})})}catch{Z=i.jsx("div",{className:"flex items-center justify-center min-h-[60vh] text-lg text-red-700 p-6",children:"Oops, something went wrong! Please reload the page."})}return i.jsx(i.Fragment,{children:Z})},h6=()=>{const t=ae(y=>y.set_user_session),e=ae(y=>y.user_session),r=et(),[n]=Ng(),s=n.get("returnTo");w.useEffect(()=>{console.log("GuestLogin: returnTo parameter:",s),console.log("GuestLogin: current user session:",e),e.is_authenticated&&(console.log("GuestLogin: User already authenticated, redirecting"),s?r(s,{replace:!0}):e.is_host?r("/host/dashboard",{replace:!0}):r("/guest/dashboard",{replace:!0}))},[s,e,r]);const[a,o]=w.useState(""),[l,c]=w.useState(""),[u,h]=w.useState(null),[d,m]=w.useState(!1),v=qe({mutationFn:async y=>(m(!0),(await H.post("https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/auth/login",y,{headers:{"Content-Type":"application/json"}})).data),onSuccess:y=>{console.log("Login successful, setting user session:",y),t({user_id:y.user_id,is_authenticated:!0,is_host:y.is_host,token:y.token,display_name:y.display_name,profile_photo_url:y.profile_photo_url,superhost_status:y.superhost_status,unread_message_count:0,last_active_at:null,email:a.trim()}),o(""),c(""),m(!1),setTimeout(()=>{s?(console.log("Redirecting to returnTo:",s),r(s,{replace:!0})):y.is_host?(console.log("Redirecting host to dashboard"),r("/host/dashboard",{replace:!0})):(console.log("Redirecting guest to dashboard"),r("/guest/dashboard",{replace:!0}))},50)},onError:y=>{var f;(f=y==null?void 0:y.response)!=null&&f.data&&typeof y.response.data.error=="string"?h(y.response.data.error):h("Unexpected error occurred. Please try again or check your network."),m(!1)},onSettled:()=>{m(!1)}}),g=async y=>{if(y.preventDefault(),h(null),!a.trim()||!l){h("Please enter both your email and password.");return}m(!0),v.mutate({email:a.trim(),password:l})},x=y=>{y.key==="Enter"&&g(y)},j=y=>{h(null),o(y.target.value)},p=y=>{h(null),c(y.target.value)};return i.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(80vh)] py-10 px-3 bg-white",children:i.jsxs("div",{className:"w-full max-w-md rounded-lg shadow-lg border border-gray-200 bg-white p-8",children:[i.jsx("h1",{className:"text-2xl font-extrabold text-gray-900 mb-6 text-center",children:"Welcome back"}),i.jsxs("form",{onSubmit:g,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),i.jsx("input",{id:"login-email",type:"email",value:a,autoComplete:"email",onChange:j,onKeyDown:x,className:"block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 text-base focus:ring-blue-500 focus:border-blue-500 bg-white disabled:bg-gray-100",placeholder:"you@example.com",required:!0,disabled:d||v.isPending})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{id:"login-password",type:"password",value:l,autoComplete:"current-password",onChange:p,onKeyDown:x,className:"block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 text-base focus:ring-blue-500 focus:border-blue-500 bg-white disabled:bg-gray-100",placeholder:"Enter your password",required:!0,minLength:8,disabled:d||v.isPending})]}),u&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded text-sm",children:u}),i.jsx("button",{type:"submit",disabled:d||v.isPending,className:`w-full py-2 px-4 rounded-md font-semibold shadow-sm transition-colors ${d||v.isPending?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 cursor-pointer"} text-white text-base`,children:d||v.isPending?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Signing in"]}):"Sign in"})]}),i.jsxs("div",{className:"flex flex-col items-center mt-6 space-y-2",children:[i.jsx(V,{to:"/guest/password-reset",className:"text-sm text-blue-600 hover:underline focus:underline",children:"Forgot password?"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["New to BeachStay Villas?"," ",i.jsx(V,{to:"/guest/signup",className:"text-blue-600 hover:underline font-medium ml-1",children:"Sign up"})]})]})]})})},f6=Fd({email:It().email().max(255)}),m6=Fd({reset_code:It().min(6).max(32),new_password:It().min(8).max(255)}),Vv="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",p6=()=>{const[t]=Ng(),[e,r]=w.useState("request_email"),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,h]=w.useState(null),[d,m]=w.useState(!1),[v,g]=w.useState(!1);w.useEffect(()=>{const _=t.get("reset_code");_&&typeof _=="string"&&_.length>=6?(o(_.trim()),r("set_new_password"),h(null),g(!0)):g(!1)},[t]),w.useEffect(()=>{e==="request_email"&&(o(""),c(""),h(null),g(!1))},[e]);const x=qe({mutationFn:async _=>{if(!f6.safeParse(_).success)throw new Error("Please enter a valid email.");const{data:T}=await H.post(`${Vv}/auth/password/request-reset`,{email:_.email});return T},onMutate:()=>{m(!0),h(null)},onSuccess:()=>{r("confirm_email_sent"),m(!1),h(null)},onError:_=>{h(typeof(_==null?void 0:_.message)=="string"?_.message:"Could not process request, please try again."),m(!1)}}),j=qe({mutationFn:async _=>{var P,F;const k=m6.safeParse(_);if(!k.success)throw new Error(((F=(P=k.error.errors)==null?void 0:P[0])==null?void 0:F.message)||"Please enter a valid reset code and/or password.");const{data:T}=await H.post(`${Vv}/auth/password/reset`,{reset_code:_.reset_code,new_password:_.new_password});return T},onMutate:()=>{m(!0),h(null)},onSuccess:()=>{r("completed"),m(!1),h(null)},onError:_=>{var T,P;let k="Could not reset password, please try again.";H.isAxiosError(_)&&((P=(T=_.response)==null?void 0:T.data)!=null&&P.error)?k=_.response.data.error:typeof(_==null?void 0:_.message)=="string"&&(k=_.message),h(k),m(!1)}}),p=_=>{_.preventDefault(),!d&&x.mutate({email:n.trim()})},y=_=>{_.preventDefault(),!d&&j.mutate({reset_code:a.trim(),new_password:l})},f="Password must be 8-255 characters. Avoid using your name, email, or repeat passwords.";return w.useEffect(()=>{h(null)},[e,n,a,l]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg mt-12 shadow-lg px-6 py-8 flex flex-col items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Password Reset"}),e==="request_email"&&i.jsxs("form",{onSubmit:p,className:"w-full flex flex-col gap-4","aria-label":"Request password reset email",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{type:"email",autoComplete:"email",id:"email",name:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-400 focus:ring focus:ring-violet-200 focus:ring-opacity-50",value:n,onChange:_=>s(_.target.value),required:!0,disabled:d,"aria-required":"true","aria-label":"Email address"})]}),u&&i.jsx("div",{className:"text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200 text-sm",role:"alert",children:u}),i.jsxs("button",{type:"submit",className:`w-full py-2 px-4 rounded-md text-white font-semibold bg-violet-600 hover:bg-violet-700 transition flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d,"aria-busy":d,children:[d?i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4A4 4 0 108 16.9l-3.5 2.04C2.62 17.1 2.35 16.1 2.66 15.32 2.97 14.55 3.7 14 4.52 14h.98A6.98 6.98 0 014 12z"})]}):null,"Send reset email"]}),i.jsx("div",{className:"text-sm text-gray-500 mt-2 text-center",children:i.jsx(V,{className:"text-violet-700 hover:underline font-medium",to:"/guest/login",children:"Back to Login"})})]}),e==="confirm_email_sent"&&i.jsxs("div",{className:"w-full flex flex-col gap-6 items-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsxs("svg",{className:"w-14 h-14 text-violet-500 mb-2",fill:"none",stroke:"currentColor",strokeWidth:1.6,viewBox:"0 0 24 24",children:[i.jsx("rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",fill:"#e9e6fb",stroke:"currentColor",strokeWidth:1.3}),i.jsx("path",{d:"M3 5l9 7 9-7",stroke:"currentColor",strokeWidth:1.3,fill:"none"})]}),i.jsx("div",{className:"text-lg font-semibold text-violet-700",children:"Check your email"}),i.jsxs("div",{className:"text-gray-600 text-center text-sm",children:["If your email exists in our records, a password reset email has been sent.",i.jsx("br",{}),"Please follow the link in the email to complete your reset."]})]}),i.jsx("div",{className:"mt-1",children:i.jsx(V,{className:"text-violet-600 hover:text-violet-900 underline",to:"/guest/login",children:"Back to Login"})})]}),e==="set_new_password"&&i.jsxs("form",{onSubmit:y,className:"w-full flex flex-col gap-4","aria-label":"Set a new password",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"reset_code",className:"block text-sm font-medium text-gray-700",children:"Reset Code"}),i.jsx("input",{type:"text",id:"reset_code",name:"reset_code",pattern:".{6,32}",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-400 focus:ring focus:ring-violet-200 focus:ring-opacity-50",value:a,onChange:_=>o(_.target.value.trim()),required:!0,"aria-required":"true","aria-label":"Password reset code",disabled:v})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password (8-255 characters)"}),i.jsx("input",{type:"password",id:"new_password",name:"new_password",autoComplete:"new-password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-400 focus:ring focus:ring-violet-200 focus:ring-opacity-50",value:l,onChange:_=>c(_.target.value),minLength:8,maxLength:255,required:!0,"aria-required":"true","aria-label":"New password"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:f})]}),u&&i.jsx("div",{className:"text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200 text-sm",role:"alert",children:u}),i.jsxs("button",{type:"submit",className:`w-full py-2 px-4 rounded-md text-white font-semibold bg-violet-600 hover:bg-violet-700 transition flex items-center justify-center ${d?"opacity-60 cursor-not-allowed":""}`,disabled:d||!a||!l||l.length<8,"aria-busy":d,children:[d?i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4A4 4 0 108 16.9l-3.5 2.04C2.62 17.1 2.35 16.1 2.66 15.32 2.97 14.55 3.7 14 4.52 14h.98A6.98 6.98 0 014 12z"})]}):null,"Set New Password"]}),i.jsx("div",{className:"text-sm text-gray-500 mt-2 text-center",children:i.jsx(V,{className:"text-violet-700 hover:underline font-medium",to:"/guest/login",children:"Back to Login"})})]}),e==="completed"&&i.jsxs("div",{className:"w-full flex flex-col gap-6 items-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsxs("svg",{className:"w-16 h-16 text-green-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#e4fae2"}),i.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12.5l2.5 2.5L16 9"})]}),i.jsx("div",{className:"text-lg font-semibold text-green-700",children:"Password reset successful!"}),i.jsx("div",{className:"text-gray-600 text-center text-sm",children:"You may now log in with your new password."})]}),i.jsx(V,{className:"w-full py-2 px-4 rounded-md text-white font-semibold bg-violet-600 hover:bg-violet-700 transition text-center",to:"/guest/login",children:"Back to Login"})]})]})})},Ql="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",g6=async t=>{const{data:e}=await H.get(`${Ql}/account/me`,{headers:{Authorization:`Bearer ${t}`}});return Pi.parse(e)},y6=async t=>{const{data:e}=await H.get(`${Ql}/account/my_trips`,{headers:{Authorization:`Bearer ${t}`}});return{upcoming:Array.isArray(e.upcoming)?e.upcoming.map(r=>nr.parse({...r,booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),guest_user_id:Number(r.guest_user_id),host_user_id:Number(r.host_user_id)})):[],past:Array.isArray(e.past)?e.past.map(r=>nr.parse({...r,booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),guest_user_id:Number(r.guest_user_id),host_user_id:Number(r.host_user_id)})):[],cancelled:Array.isArray(e.cancelled)?e.cancelled.map(r=>nr.parse({...r,booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),guest_user_id:Number(r.guest_user_id),host_user_id:Number(r.host_user_id)})):[]}},x6=async t=>{const{data:e}=await H.get(`${Ql}/account/wishlists`,{headers:{Authorization:`Bearer ${t}`}});return e.map(r=>Y5.parse({...r,wishlist_id:Number(r.wishlist_id),villa_ids:Array.isArray(r.villa_ids)?r.villa_ids.map(n=>Number(n)):[]}))},v6=async t=>{const{data:e}=await H.get(`${Ql}/inbox`,{headers:{Authorization:`Bearer ${t}`}});return e.map(r=>G5.parse({...r,thread_id:Number(r.thread_id),participant_user_id:Number(r.participant_user_id),villa_id:r.villa_id!==null&&r.villa_id!==void 0?Number(r.villa_id):null,booking_id:r.booking_id!==null&&r.booking_id!==void 0?Number(r.booking_id):null}))},_6=async t=>{const{data:e}=await H.get(`${Ql}/account/my_reviews`,{headers:{Authorization:`Bearer ${t}`}});return e.map(r=>Np.parse({...r,review_id:Number(r.review_id),booking_id:Number(r.booking_id),villa_id:Number(r.villa_id),host_user_id:Number(r.host_user_id),guest_user_id:Number(r.guest_user_id)}))};class b6 extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){var e;return this.state.hasError?i.jsxs("div",{className:"w-full text-center py-10 text-red-600",children:[i.jsx("div",{className:"mb-2 font-semibold text-lg",children:"An error occurred loading this section."}),i.jsx("div",{className:"mb-4 text-xs text-gray-400",children:String(((e=this.state.error)==null?void 0:e.message)||this.state.error)}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>window.location.reload(),children:"Try again"})]}):this.props.children}}const In=t=>t?new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"-",ff=t=>{switch(t){case"pending":return"Pending";case"confirmed":return"Confirmed";case"requested":return"Requested";case"cancelled":return"Cancelled";case"completed":return"Completed";case"rejected":return"Rejected";case"modified":return"Modified";default:return t.charAt(0).toUpperCase()+t.slice(1)}},Hv=[{id:"my_trips",label:"My Trips"},{id:"wishlists",label:"Wishlists"},{id:"messages",label:"Inbox"},{id:"my_reviews",label:"Review History"}],w6=()=>{const t=et(),e=ae(C=>C.user_session.token),r=ae(C=>C.user_session.is_authenticated),n=ae(C=>C.user_session.display_name),s=ae(C=>C.user_session.profile_photo_url);ae(C=>C.notifications?C.notifications.unread_count:0);const a=ae(C=>C.user_session.unread_message_count),[o,l]=w.useState("my_trips");w.useEffect(()=>{r||t("/guest/login")},[r,t]);const{data:c,isLoading:u,isError:h,refetch:d}=xe(["guest_dashboard","profile"],()=>e?g6(e):Promise.reject("No token")),{data:m,isLoading:v,isError:g,refetch:x}=xe(["guest_dashboard","my_trips"],()=>e?y6(e):Promise.reject("No token")),{data:j,isLoading:p,isError:y,refetch:f}=xe(["guest_dashboard","wishlists"],()=>e?x6(e):Promise.reject("No token")),{data:_,isLoading:k,isError:T,refetch:P}=xe(["guest_dashboard","messages"],()=>e?v6(e):Promise.reject("No token")),{data:F,isLoading:L,isError:z,refetch:I}=xe(["guest_dashboard","my_reviews"],()=>e?_6(e):Promise.reject("No token")),Z=w.useCallback(()=>{switch(o){case"my_trips":t("/search");break;case"wishlists":t("/guest/wishlists");break;case"messages":t("/search");break;case"my_reviews":t("/search");break}},[o,t]),E=w.useCallback(()=>{t("/guest/profile/edit")},[t]),$=C=>{var b;return C==="messages"&&a>0?i.jsxs(i.Fragment,{children:["Inbox"," ",i.jsx("span",{className:"ml-2 inline-block px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full align-middle",children:a})]}):((b=Hv.find(S=>S.id===C))==null?void 0:b.label)||""};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-3xl mx-auto pt-10 pb-6 px-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6 mb-6 flex items-center gap-5",children:[i.jsx("div",{className:"flex-shrink-0",children:u?i.jsx("div",{className:"rounded-full bg-gray-200 w-20 h-20 animate-pulse"}):i.jsx("img",{src:(c==null?void 0:c.profile_photo_url)||s||"https://picsum.photos/seed/unknownuser/80",alt:c!=null&&c.display_name?`${c.display_name}'s avatar`:"Profile",className:"rounded-full w-20 h-20 object-cover border",loading:"lazy"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-2xl font-semibold text-gray-900 truncate",children:u?i.jsx("span",{className:"inline-block bg-gray-200 h-5 w-28 rounded animate-pulse"}):(c==null?void 0:c.display_name)||n||"Guest"}),(c==null?void 0:c.is_superhost)&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-300 rounded text-sm font-semibold text-yellow-900",title:"Superhost",children:" Superhost"})]}),i.jsx("div",{className:"text-gray-600 mt-1 text-sm truncate",children:u?i.jsx("span",{className:"inline-block bg-gray-200 h-4 w-32 rounded animate-pulse"}):(c==null?void 0:c.contact_email)||(c==null?void 0:c.email)||"-"}),(c==null?void 0:c.bio)&&i.jsx("div",{className:"max-w-md mt-2 text-xs text-gray-500 whitespace-pre-line",children:c.bio})]}),i.jsx("div",{children:i.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700","aria-label":"Edit Profile",type:"button",children:"Edit"})})]}),i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"flex border-b border-gray-200",children:Hv.map(C=>i.jsx("button",{className:`relative px-4 py-2 text-md focus:outline-none font-medium
                ${o===C.id?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-blue-600"}
                transition-all duration-150`,onClick:()=>l(C.id),"aria-selected":o===C.id,"aria-controls":`dashboard-tabpanel-${C.id}`,type:"button",children:$(C.id)},C.id))})}),i.jsx(b6,{children:i.jsxs("div",{className:"min-h-[400px]",id:`dashboard-tabpanel-${o}`,children:[o==="my_trips"&&i.jsx(i.Fragment,{children:v?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your trips..."})}):g?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your bookings."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>x(),children:"Try Again"})]}):!m||m.upcoming.length===0&&m.past.length===0&&m.cancelled.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:""}),i.jsx("div",{className:"font-semibold text-lg",children:"No trips yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"Start your journey and book a stay."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Z,children:"Browse Villas"})]}):i.jsxs("div",{className:"flex flex-col gap-8",children:[m.upcoming.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2 text-blue-700",children:"Upcoming Reservations"}),m.upcoming.map(C=>i.jsxs(V,{to:`/reservation/${String(C.booking_id)}`,className:"block border-l-4 border-blue-500 bg-blue-50 hover:bg-blue-100 mb-3 rounded transition flex md:flex-row flex-col items-center justify-between p-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-semibold text-lg text-blue-900 truncate",children:[In(C.checkin_date),"  ",In(C.checkout_date)]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-0.5",children:["Booking for ",C.num_guests," ",C.num_guests>1?"guests":"guest"]}),i.jsxs("div",{className:"text-xs mt-0.5 text-gray-400",children:["Status: ",ff(C.status)]})]}),i.jsx("div",{className:"text-right ml-4",children:i.jsxs("div",{className:"font-semibold text-blue-700",children:["$",C.total_price.toFixed(2)]})})]},String(C.booking_id)))]}),m.past.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2 text-green-700",children:"Past Stays"}),m.past.map(C=>i.jsxs(V,{to:`/reservation/${String(C.booking_id)}`,className:"block border-l-4 border-green-500 bg-green-50 hover:bg-green-100 mb-3 rounded transition flex md:flex-row flex-col items-center justify-between p-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-semibold text-lg text-green-900 truncate",children:[In(C.checkin_date),"  ",In(C.checkout_date)]}),i.jsx("div",{className:"text-sm text-gray-600 mt-0.5",children:C.num_guests>1?`${C.num_guests} guests`:"1 guest"}),i.jsxs("div",{className:"text-xs mt-0.5 text-gray-400",children:["Status: ",ff(C.status)]})]}),i.jsx("div",{className:"text-right ml-4",children:i.jsxs("div",{className:"font-semibold text-green-700",children:["$",C.total_price.toFixed(2)]})})]},String(C.booking_id)))]}),m.cancelled.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-2 text-gray-700",children:"Cancelled Bookings"}),m.cancelled.map(C=>i.jsxs(V,{to:`/reservation/${String(C.booking_id)}`,className:"block border-l-4 border-gray-400 bg-gray-50 hover:bg-gray-100 mb-3 rounded transition flex md:flex-row flex-col items-center justify-between p-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"font-semibold text-lg text-gray-800 truncate",children:[In(C.checkin_date),"  ",In(C.checkout_date)]}),i.jsx("div",{className:"text-sm text-gray-600 mt-0.5",children:C.num_guests>1?`${C.num_guests} guests`:"1 guest"}),i.jsxs("div",{className:"text-xs mt-0.5 text-gray-400",children:["Status: ",ff(C.status)]})]}),i.jsx("div",{className:"text-right ml-4",children:i.jsxs("div",{className:"font-semibold text-gray-600",children:["$",C.total_price.toFixed(2)]})})]},String(C.booking_id)))]})]})}),o==="wishlists"&&i.jsx(i.Fragment,{children:p?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your wishlists..."})}):y?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your wishlists."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>f(),children:"Try Again"})]}):!j||j.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:""}),i.jsx("div",{className:"font-semibold text-lg",children:"No wishlists yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"Save your first dream villa."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Z,children:"Manage Wishlists"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(C=>i.jsxs("div",{className:`relative rounded-lg border ${C.is_deleted?"border-gray-300 bg-gray-50 opacity-70":"border-blue-200 bg-blue-50"} px-5 py-4 flex flex-col`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"font-bold text-blue-900 text-lg truncate",children:C.name}),C.is_deleted&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-400 text-white text-xs rounded",children:"Deleted"})]}),i.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[C.villa_ids.length," villa",C.villa_ids.length===1?"":"s"]}),i.jsx(V,{to:"/guest/wishlists",className:"absolute top-3 right-3 text-blue-600 underline text-xs hover:text-blue-800 focus:underline",children:"Manage "})]},String(C.wishlist_id)))})}),o==="messages"&&i.jsx(i.Fragment,{children:k?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your messages..."})}):T?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your messages."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>P(),children:"Try Again"})]}):!_||_.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:""}),i.jsx("div",{className:"font-semibold text-lg",children:"No messages yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"No conversations with hosts yet."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Z,children:"Start Exploring"})]}):i.jsx("div",{className:"flex flex-col gap-3",children:_.map(C=>i.jsxs(V,{to:`/messaging/thread/${String(C.thread_id)}`,className:"flex items-center bg-blue-50 hover:bg-blue-100 rounded px-4 py-3 border border-blue-200 transition relative",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-blue-800 truncate leading-5",children:C.last_message_preview?C.last_message_preview:"No messages yet."}),i.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:["Last updated: ",In(C.updated_at)]})]}),C.unread_count>0&&i.jsx("span",{className:"ml-3 px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full leading-none",children:C.unread_count})]},String(C.thread_id)))})}),o==="my_reviews"&&i.jsx(i.Fragment,{children:L?i.jsx("div",{className:"w-full flex justify-center py-20",children:i.jsx("span",{className:"text-lg text-gray-400 animate-pulse",children:"Loading your reviews..."})}):z?i.jsxs("div",{className:"py-10 text-red-600 text-center",children:[i.jsx("div",{children:"Failed to load your reviews."}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>I(),children:"Try Again"})]}):!F||F.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 gap-3",children:[i.jsx("span",{className:"text-4xl",children:""}),i.jsx("div",{className:"font-semibold text-lg",children:"No reviews yet!"}),i.jsx("div",{className:"text-sm mb-1",children:"Review your stays to help others."}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-2",onClick:Z,children:"Find a Stay"})]}):i.jsx("div",{className:"flex flex-col gap-4",children:F.map(C=>i.jsxs("div",{className:"border-l-4 border-yellow-500 bg-yellow-50 rounded px-5 py-4 flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-semibold text-yellow-700 mr-2",children:["Rating: ",i.jsxs("span",{className:"font-bold text-lg",children:[C.rating,i.jsx("span",{className:"text-yellow-400 ml-1",children:""})]})]}),i.jsxs("span",{className:"text-xs text-gray-400",children:["Left on ",In(C.created_at)]}),C.is_edited&&i.jsx("span",{className:"ml-1 px-2 py-0.5 bg-gray-300 text-white text-xs rounded",children:"Edited"})]}),i.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:C.text||i.jsx("em",{children:"No comment"})}),(()=>{const b=new Date,S=new Date(C.created_at);return(b.getTime()-S.getTime())/(1e3*60*60)<=48?i.jsx("div",{className:"mt-1",children:i.jsx(V,{to:`/review/edit/${String(C.review_id)}`,className:"text-xs text-blue-600 underline hover:text-blue-800",children:"Edit Review"})}):null})()]},String(C.review_id)))})})]})})]})})},bN="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api";async function j6(t){const{data:e}=await H.get(`${bN}/account/me`,{headers:{Authorization:`Bearer ${t}`}});return Pi.parse(e)}async function N6(t,e){const r={...e};delete r.user_id;const{data:n}=await H.patch(`${bN}/account/me`,r,{headers:{Authorization:`Bearer ${t}`}});return Pi.parse(n)}function k6(t){return t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t):!1}function S6(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=r,n.readAsDataURL(t)})}const C6=()=>{const t=ae(Y=>Y.user_session),e=ae(Y=>Y.set_user_session),r=!!(t!=null&&t.token),n=et(),s=Rt(),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,h]=w.useState(""),[d,m]=w.useState(""),v=w.useRef(null),[g,x]=w.useState(null),[j,p]=w.useState(null),[y,f]=w.useState(!1),[_,k]=w.useState(null),{data:T,isLoading:P,isError:F,error:L,refetch:z}=xe({queryKey:["account","me"],queryFn:()=>{if(!(t!=null&&t.token))throw new Error("Not authenticated");return j6(t.token??"")},enabled:r,refetchOnWindowFocus:!1});w.useEffect(()=>{T&&(o(T.display_name??""),c(T.profile_photo_url??""),h(T.bio??""),m(T.contact_email??""),x(null),k(null),f(!1))},[T]),w.useEffect(()=>{r||n("/guest/login")},[r,n]);const I=qe({mutationFn:Y=>{if(!(t!=null&&t.token))throw new Error("Auth required");return N6(t.token??"",Y)},onSuccess:Y=>{e({...t,display_name:Y.display_name??"",profile_photo_url:Y.profile_photo_url??"",contact_email:Y.contact_email??"",bio:Y.bio??""}),s.invalidateQueries({queryKey:["account","me"]}),f(!1),k(null),p(null)},onError:Y=>{k(Y.message||"Update failed")}}),Z=a.trim(),E=Z.length>0&&Z.length<=255,$=d.trim(),C=$.length>0&&$.length<=255&&k6($),b=E&&C&&!I.isPending&&(y||g);function S(Y){if(Y.preventDefault(),k(null),p(null),!E){k("Display name is required.");return}if(!C){k("Please provide a valid email address.");return}let A=l||null;g&&(A=g),I.mutate({display_name:a.trim(),profile_photo_url:A?A.trim():null,bio:u.trim()||null,contact_email:d.trim()||null})}function R(){T&&(o(T.display_name??""),c(T.profile_photo_url??""),h(T.bio??""),m(T.contact_email??""),k(null),f(!1),x(null),p(null))}async function M(Y){var K;p(null);const A=(K=Y.target.files)==null?void 0:K[0];if(A){if(!A.type.startsWith("image/")){p("Please select a valid image file.");return}if(A.size>2*1024*1024){p("File must be less than 2MB.");return}try{const ee=await S6(A);x(ee),f(!0)}catch{p("Could not preview image.")}}}function q(){const Y=window.prompt("Paste an image URL to use as your profile picture:");if(Y){if(!/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp|bmp|svg)(\?.*)?$/.test(Y.toLowerCase())){p("Please enter a direct link to an image.");return}c(Y.trim()),x(null),f(!0),p(null)}}let W=null;return(F||_)&&(W=i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-800 px-4 py-2 rounded mb-4",children:_||(L==null?void 0:L.message)||"An error occurred while loading profile info."})),P||!r?i.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:i.jsx("div",{className:"text-lg text-gray-500",children:"Loading profile..."})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto px-4 py-10",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Edit Your Profile"}),i.jsx("p",{className:"mb-6 text-gray-500",children:"Update your information below. All fields are required except bio."}),W,i.jsxs("form",{className:"w-full bg-white rounded-lg shadow p-6 border border-gray-100",onSubmit:S,autoComplete:"off",children:[i.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:g||l||`https://picsum.photos/seed/${t.user_id||"default"}/128`,alt:"Profile avatar",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),i.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 hover:bg-blue-700 transition","aria-label":"Upload new avatar",onClick:()=>{var Y;return(Y=v.current)==null?void 0:Y.click()},tabIndex:0,children:i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 20v-6M12 4V2M4.93 4.93l-1.42-1.42M19.07 19.07l1.42 1.42M1 12h2m18 0h2m-4.93-7.07l1.42-1.42M4.93 19.07l-1.42 1.42"}),i.jsx("circle",{cx:"12",cy:"12",r:"5"})]})}),i.jsx("input",{type:"file",ref:v,accept:"image/*",className:"hidden",onChange:M})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border border-gray-200 text-sm font-medium hover:bg-gray-50",onClick:q,children:"Use Image by URL"}),g&&i.jsx("button",{type:"button",className:"text-xs text-red-500 underline",onClick:()=>{x(null),p(null),f(!0)},children:"Remove Unsaved Photo"}),j&&i.jsx("span",{className:"text-red-500 text-xs",children:j})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"display_name",className:"block font-semibold mb-1",children:["Display Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"display_name",value:a,onChange:Y=>{o(Y.target.value),f(!0)},className:`w-full px-3 py-2 border rounded ${E?"border-gray-200":"border-red-400"} focus:outline-none focus:ring-2 focus:ring-blue-200`,maxLength:255,required:!0,placeholder:"Your name",autoComplete:"name"}),!E&&i.jsx("span",{className:"text-xs text-red-500",children:"Display name is required and must be under 255 characters."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"contact_email",className:"block font-semibold mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",id:"contact_email",value:d,onChange:Y=>{m(Y.target.value),f(!0)},className:`w-full px-3 py-2 border rounded ${C?"border-gray-200":"border-red-400"} focus:outline-none focus:ring-2 focus:ring-blue-200`,maxLength:255,required:!0,placeholder:"your@email.com",autoComplete:"email"}),!C&&i.jsx("span",{className:"text-xs text-red-500",children:"Please provide a valid email address (required, under 255 characters)."})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{htmlFor:"bio",className:"block font-semibold mb-1",children:["Short Bio ",i.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),i.jsx("textarea",{id:"bio",value:u,onChange:Y=>{h(Y.target.value),f(!0)},className:"w-full px-3 py-2 border border-gray-200 rounded min-h-[64px] focus:outline-none focus:ring-2 focus:ring-blue-200",maxLength:4096,placeholder:"Tell us about yourself"}),(u==null?void 0:u.length)>4096&&i.jsx("span",{className:"text-xs text-red-500",children:"Bio must be shorter than 4096 characters."})]}),i.jsxs("div",{className:"flex items-center mt-6 gap-3",children:[i.jsx("button",{type:"submit",disabled:!b,className:"bg-blue-600 text-white font-semibold px-5 py-2 rounded shadow transition hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed",children:I.isPending?"Saving...":"Save"}),i.jsx("button",{type:"button",onClick:R,disabled:I.isPending,className:"bg-gray-100 text-gray-700 font-semibold px-5 py-2 rounded shadow hover:bg-gray-200 transition",children:"Cancel"}),i.jsx(V,{to:"/guest/dashboard",className:"ml-auto text-blue-700 font-medium underline hover:text-blue-900 text-sm",children:"Back to Dashboard"})]}),I.isSuccess&&!y&&i.jsxs("div",{className:"mt-3 text-green-600 text-sm flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-500 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Profile updated!"]})]})]})})},E6="/legal/host-terms",Zv="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",P6=()=>{const t=ae(I=>I.user_session),e=ae(I=>I.set_user_session),r=t.is_authenticated,[n,s]=w.useState(t.email||""),[a,o]=w.useState(""),[l,c]=w.useState(t.display_name||""),[u,h]=w.useState(t.profile_photo_url||""),[d,m]=w.useState(""),[v,g]=w.useState(""),[x,j]=w.useState(!1),[p,y]=w.useState(null),[f,_]=w.useState(!1),[k,T]=w.useState(!1),P=et();w.useEffect(()=>{t.is_authenticated&&t.is_host&&P("/host/dashboard")},[t.is_authenticated,t.is_host,P]);const F=qe({mutationFn:async I=>(await H.post(`${Zv}/auth/signup`,{email:I.email.trim(),password:I.password,display_name:I.display_name,is_host:!0},{headers:{"Content-Type":"application/json"}})).data,onSuccess:I=>{e({user_id:typeof I.user_id=="number"?I.user_id:null,is_authenticated:!0,is_host:!!I.is_host,token:I.token||"",display_name:I.display_name||"",profile_photo_url:typeof I.profile_photo_url=="string"&&I.profile_photo_url?I.profile_photo_url:"",superhost_status:typeof I.superhost_status=="boolean"?I.superhost_status:!1,unread_message_count:0,last_active_at:new Date().toISOString(),email:n.trim()}),_(!1),P("/host/onboarding")},onError:I=>{var Z,E;_(!1),H.isAxiosError(I)&&((E=(Z=I.response)==null?void 0:Z.data)!=null&&E.error)?y(I.response.data.error):I instanceof Error?y(I.message):y("Could not complete signup. Please try again.")}}),L=qe({mutationFn:async()=>(await H.patch(`${Zv}/user/upgrade-to-host`,{},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.token}`}})).data,onSuccess:I=>{e({...t,is_host:!0}),_(!1),P("/host/onboarding")},onError:I=>{var Z,E;_(!1),H.isAxiosError(I)&&((E=(Z=I.response)==null?void 0:Z.data)!=null&&E.error)?y(I.response.data.error):I instanceof Error?y(I.message):y("Could not upgrade to host. Please try again.")}}),z=I=>{if(I.preventDefault(),y(null),r){if(!x){y("You must agree to the BeachStay Host Terms of Service to continue.");return}_(!0),L.mutate()}else{if(!n.trim()){y("Email is required.");return}if(!/^[^@]+@[^@]+\.[^@]+$/.test(n.trim())){y("Please enter a valid email address.");return}if(!a||a.length<8){y("Password must be at least 8 characters.");return}if(!l.trim()){y("Display name is required.");return}if(!x){y("You must agree to the BeachStay Host Terms of Service to continue.");return}_(!0),F.mutate({email:n.trim(),password:a,display_name:l.trim(),is_host:!0})}};return i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex w-full min-h-[calc(100vh-8rem)] items-center justify-center bg-gray-50 py-10 px-4",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-md p-8 space-y-7 border border-gray-100",children:[i.jsx("h1",{className:"text-2xl font-bold text-center text-gray-700",children:r?"Upgrade to Host":"Become a BeachStay Host"}),i.jsx("p",{className:"text-center text-gray-500 text-sm mb-4",children:r?i.jsxs(i.Fragment,{children:["Welcome back, ",t.display_name,"! Upgrade your account to start listing your villa rentals and earning."]}):i.jsxs(i.Fragment,{children:["Create your host account to list your villa rentals and start earning. Already have an account?"," ",i.jsx(V,{className:"text-blue-600 underline hover:text-blue-800",to:"/guest/login?returnTo=/host/signup",children:"Log in"}),". Or want to sign up as a guest?"," ",i.jsx(V,{className:"text-blue-600 underline hover:text-blue-800",to:"/guest/signup",children:"Guest Signup"})]})}),null,p?i.jsx("div",{className:"bg-red-100 text-red-700 rounded px-4 py-3 text-center mb-4",children:p}):null,i.jsxs("form",{className:"space-y-5",onSubmit:z,noValidate:!0,children:[!r&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block font-medium text-sm text-gray-700 mb-1",children:["Email",i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{id:"email",type:"email",autoComplete:"email",value:n,onChange:I=>s(I.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:f,required:!0})]}),!r&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"password",className:"block font-medium text-sm text-gray-700 mb-1",children:["Password",i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{id:"password",type:"password",autoComplete:"new-password",minLength:8,value:a,onChange:I=>o(I.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:f,required:!0}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum 8 characters."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"display_name",className:"block font-medium text-sm text-gray-700 mb-1",children:["Host Display Name",i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("input",{id:"display_name",type:"text",value:l,onChange:I=>c(I.target.value),className:`w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100 ${r?"bg-gray-100":""}`,disabled:f||r,required:!0}),r&&i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Your existing display name will be used."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"profile_photo_url",className:"block font-medium text-sm text-gray-700 mb-1",children:["Profile Photo URL"," ",i.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),i.jsx("input",{id:"profile_photo_url",type:"url",value:u,onChange:I=>{h(I.target.value),T(!1)},className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:f,placeholder:"https://example.com/photo.jpg","aria-describedby":"profile_photo_preview"}),i.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[i.jsx("img",{src:k||!u?"https://picsum.photos/seed/beachhostsignup/48":u,alt:"Profile preview",className:"rounded-full border border-gray-200 w-12 h-12 object-cover",onError:()=>!k&&T(!0),id:"profile_photo_preview"}),i.jsx("span",{className:"text-gray-400 text-xs",children:"Preview"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"bio",className:"block font-medium text-sm text-gray-700 mb-1",children:["Your Bio ",i.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),i.jsx("textarea",{id:"bio",value:d,onChange:I=>m(I.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 min-h-[64px] focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:f,maxLength:2048,placeholder:"Tell travelers about yourself!"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_email",className:"block font-medium text-sm text-gray-700 mb-1",children:["Contact Email ",i.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),i.jsx("input",{id:"contact_email",type:"email",value:v,onChange:I=>g(I.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-100",disabled:f,placeholder:"Notification email for your host account"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Used for reservation notifications (leave blank to use above email)."})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx("input",{id:"agree_to_host_tos",type:"checkbox",name:"agree_to_host_tos",checked:x,onChange:I=>j(I.target.checked),required:!0,disabled:f,className:"mt-1 accent-blue-600"}),i.jsxs("label",{htmlFor:"agree_to_host_tos",className:"text-sm text-gray-700",children:["I agree to the"," ",i.jsx(V,{to:E6,className:"text-blue-600 underline hover:text-blue-800",target:"_blank",rel:"noopener noreferrer",children:"BeachStay Host Terms of Service"}),"."]})]}),i.jsx("div",{children:i.jsxs("button",{type:"submit",className:"w-full py-2 px-4 rounded bg-blue-600 hover:bg-blue-700 text-white font-semibold transition disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:f||!r&&(!n||!a||!l)||!x,children:[f?i.jsx("span",{className:"animate-spin inline-block mr-2 align-middle",children:i.jsxs("svg",{className:"w-5 h-5 text-white inline",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]})}):null,f?r?"Upgrading to Host...":"Creating Host Account...":r?"Upgrade to Host":"Sign Up as Host"]})})]})]})})})},Is="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api";function So(t){return typeof t=="number"?t.toLocaleString("en-US",{style:"currency",currency:"USD"}):"$0"}function Ms(t){if(!t)return"-";const e=new Date(t);return isNaN(e.valueOf())?"-":e.toLocaleDateString()}function O6(t){switch(t){case"confirmed":return i.jsx("span",{className:"text-green-700 font-semibold",children:"Confirmed"});case"pending":return i.jsx("span",{className:"text-yellow-600 font-semibold",children:"Pending"});case"requested":return i.jsx("span",{className:"text-yellow-500 font-semibold",children:"Requested"});case"cancelled":return i.jsx("span",{className:"text-gray-400 font-semibold",children:"Cancelled"});case"rejected":return i.jsx("span",{className:"text-red-600 font-semibold",children:"Rejected"});case"completed":return i.jsx("span",{className:"text-blue-700 font-semibold",children:"Completed"});default:return i.jsx("span",{children:t})}}const R6=()=>{var b,S,R,M,q,W,Y;const t=ae(A=>A.user_session),e=ae(A=>A.set_host_dashboard_state),r=ae(A=>A.host_dashboard_state),[n,s]=w.useState("my_villas"),[a,o]=w.useState(null),l=et(),c=t.token;Rt();const u=xe({queryKey:["host_villas"],queryFn:async()=>{const A=await H.get(`${Is}/host/villas`,{headers:{Authorization:`Bearer ${c}`}});return(Array.isArray(A.data)?A.data:Array.isArray(A.data.results)?A.data.results:[]).map(ee=>({...ee,villa_id:ee.villa_id.toString(),main_photo_url:ee.main_photo_url||""}))},enabled:!!c,staleTime:1e3*60*2}),h=xe({queryKey:["host_reservations"],queryFn:async()=>{const A=await H.get(`${Is}/host/reservations`,{headers:{Authorization:`Bearer ${c}`}});return(Array.isArray(A.data)?A.data:Array.isArray(A.data.results)?A.data.results:[]).map(ee=>({...ee,booking_id:ee.booking_id.toString(),villa_id:ee.villa_id.toString()}))},enabled:!!c,staleTime:1e3*60*2}),d=xe({queryKey:["inbox_threads"],queryFn:async()=>{const A=await H.get(`${Is}/inbox`,{headers:{Authorization:`Bearer ${c}`}});return(Array.isArray(A.data)?A.data:Array.isArray(A.data.results)?A.data.results:[]).map(ee=>{var D;return{...ee,thread_id:ee.thread_id.toString(),participant_user_id:(D=ee.participant_user_id)==null?void 0:D.toString(),villa_id:ee.villa_id?ee.villa_id.toString():null,booking_id:ee.booking_id?ee.booking_id.toString():null}})},enabled:!!c&&n==="inbox",staleTime:1e3*30}),m=Om({queries:(u.data||[]).map(A=>({queryKey:["villa_reviews",A.villa_id],queryFn:async()=>{try{const K=await H.get(`${Is}/villas/${A.villa_id}/reviews?page=1`,{headers:{Authorization:`Bearer ${c}`}});return K.data&&Array.isArray(K.data.reviews)?K.data.reviews:[]}catch{return[]}},enabled:!!c&&n==="reviews",staleTime:1e3*60}))}),v=Om({queries:(u.data||[]).map(A=>({queryKey:["villa_guest_reviews",A.villa_id],queryFn:async()=>{try{const K=await H.get(`${Is}/host/villas/${A.villa_id}/guest-reviews`,{headers:{Authorization:`Bearer ${c}`}});return Array.isArray(K.data)?K.data:[]}catch{return[]}},enabled:!!c&&n==="reviews",staleTime:1e3*60}))}),g=xe({queryKey:["superhost_status"],queryFn:async()=>(await H.get(`${Is}/account/superhost`,{headers:{Authorization:`Bearer ${c}`}})).data,enabled:!!c,staleTime:1e3*60*5}),[x,j]=w.useState({}),[p,y]=w.useState({}),[f,_]=w.useState({}),k=w.useCallback(async A=>{y(K=>({...K,[A]:!0})),_(K=>({...K,[A]:""}));try{const K=await H.get(`${Is}/villa/${A}/calendar`,{headers:{Authorization:`Bearer ${c}`}});j(ee=>({...ee,[A]:Array.isArray(K.data)?K.data:[]})),y(ee=>({...ee,[A]:!1}))}catch(K){y(ee=>({...ee,[A]:!1})),_(ee=>{var D,ie;return{...ee,[A]:((ie=(D=K==null?void 0:K.response)==null?void 0:D.data)==null?void 0:ie.error)||(K==null?void 0:K.message)||"Failed to fetch calendar."}})}},[c]),T=A=>{if(!A)return{total:0,upcoming:0};let K=0,ee=0;const D=new Date;return A.forEach(ie=>{["confirmed","completed"].includes(ie.status)&&(K+=ie.total_price,new Date(ie.checkin_date)>=D&&(ee+=ie.total_price))}),{total:K,upcoming:ee}};w.useEffect(()=>{u.data?e({villas:u.data.map(A=>({villa_id:A.villa_id,title:A.title,published_at:A.published_at||null,is_active:A.is_active,main_photo_url:A.main_photo_url||"",pending_reservations:0,upcoming_reservations:0}))}):e({villas:[]})},[u.data,e]),w.useEffect(()=>{if(h.data&&Array.isArray(r.villas)&&r.villas.length>0){const A=r.villas.map(K=>({...K,pending_reservations:h.data.filter(ee=>ee.villa_id===K.villa_id&&["pending","requested"].includes(ee.status)).length,upcoming_reservations:h.data.filter(ee=>ee.villa_id===K.villa_id&&["confirmed"].includes(ee.status)&&new Date(ee.checkin_date)>=new Date).length}));e({villas:A,reservations:h.data,revenue_summary:T(h.data)})}else h.data||e({reservations:[],revenue_summary:{total:0,upcoming:0}})},[h.data,e,r.villas]);const[P,F]=w.useState([]),[L,z]=w.useState([]);w.useEffect(()=>{if(n==="reviews"){const A=[];m.forEach(ee=>{Array.isArray(ee.data)&&A.push(...ee.data)}),F(A);const K=[];v.forEach(ee=>{Array.isArray(ee.data)&&K.push(...ee.data)}),z(K)}},[m,v,n]);const I=typeof((b=g.data)==null?void 0:b.is_superhost)<"u"?g.data.is_superhost:t.is_superhost;w.useEffect(()=>{(!t.is_authenticated||!t.is_host||!c)&&l("/guest/login",{replace:!0})},[t,c,l]);const Z=u.isLoading||h.isLoading||n==="reviews"&&(m.some(A=>A.isLoading)||v.some(A=>A.isLoading))||n==="inbox"&&d.isLoading||g.isLoading,E=u.error||h.error||n==="reviews"&&((S=m.find(A=>A.error)||v.find(A=>A.error))==null?void 0:S.error)||n==="inbox"&&d.error||g.error,$=(((R=u.data)==null?void 0:R.length)||0)>0,C=[{id:"my_villas",label:"My Villas"},{id:"reservations",label:"Reservations"},{id:"calendar",label:"Calendar Management"},{id:"inbox",label:"Inbox"},{id:"reviews",label:"Reviews"},{id:"earnings",label:"Earnings"},{id:"profile",label:"Profile Edit"}];return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8 flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:t.profile_photo_url||"https://picsum.photos/seed/profile/64",alt:"Profile",className:"w-16 h-16 rounded-full object-cover border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",t.display_name||"Host"]}),I&&i.jsxs("span",{title:"Superhost",className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-200 border border-yellow-400 text-yellow-800 rounded text-xs font-bold",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-4 h-4 text-yellow-500",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 16.7l-6.16 3.84 1.66-7.14L2 8.76l7.19-.61L12 1.75l2.81 6.4 7.19.61-5.5 4.64 1.66 7.14z"})}),"Superhost"]})]}),i.jsx("p",{className:"text-gray-500",children:"Manage your properties, bookings, and messages"})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Total Earnings"}),i.jsx("div",{className:"text-xl font-bold",children:So(((M=r.revenue_summary)==null?void 0:M.total)||0)}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Upcoming:"," ",So(((q=r.revenue_summary)==null?void 0:q.upcoming)||0)]})]})]}),i.jsx("div",{className:"border-b border-gray-200 mb-6 flex gap-4 flex-wrap",children:C.map(A=>i.jsx("button",{onClick:()=>s(A.id),className:`px-4 py-2 text-sm font-medium ${n===A.id?"border-b-2 border-blue-600 text-blue-700":"text-gray-600 hover:text-blue-600"} bg-transparent focus:outline-none transition`,children:A.label},A.id))}),Z&&i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("span",{className:"text-gray-500 animate-pulse",children:"Loading..."})}),!Z&&E&&i.jsxs("div",{className:"bg-red-100 text-red-800 border border-red-300 px-4 py-3 rounded mb-4",children:["Error loading dashboard data. Please try refreshing.",i.jsx("br",{}),i.jsx("span",{className:"text-xs break-all",children:(E==null?void 0:E.message)||String(E)})]}),!Z&&!$&&n==="my_villas"&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-blue-50 rounded-lg border border-blue-100",children:[i.jsx("img",{src:"https://picsum.photos/seed/hostonboarding/160/80",className:"rounded shadow mb-4",alt:"List your villa",width:160,height:80}),i.jsx("div",{className:"text-2xl font-semibold text-blue-800 mb-2",children:"You have no villas listed."}),i.jsx("div",{className:"text-gray-500 mb-6",children:"Get started by listing your first villa and start earning."}),i.jsx(V,{to:"/host/onboarding",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded px-6 py-2 transition",children:"List Your Villa"})]}),!Z&&$&&i.jsxs(i.Fragment,{children:[n==="my_villas"&&i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-end mb-6",children:i.jsx(V,{to:"/host/onboarding",className:"bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2 font-medium",children:"+ Add Villa"})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r.villas||[]).map(A=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-5 flex flex-col",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("img",{src:A.main_photo_url||`https://picsum.photos/seed/villa${A.villa_id}/400/220`,alt:A.title,className:"w-full h-40 object-cover rounded mb-2"}),!A.is_active&&i.jsx("span",{className:"absolute top-2 left-2 bg-yellow-200 text-yellow-800 px-2 py-1 text-xs rounded font-bold z-10",children:"Inactive"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-lg mb-1",children:A.title}),i.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Listed:"," ",A.published_at?Ms(A.published_at):i.jsx("span",{className:"text-red-500",children:"Unpublished"})]}),i.jsxs("div",{className:"flex justify-between mb-2 text-xs text-gray-600",children:[i.jsxs("span",{children:["Pending:"," ",i.jsx("strong",{children:A.pending_reservations})]}),i.jsxs("span",{children:["Upcoming:"," ",i.jsx("strong",{children:A.upcoming_reservations})]})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx(V,{to:`/host/villa/${A.villa_id}`,className:"flex-1 text-center bg-gray-100 hover:bg-gray-200 rounded px-3 py-2 font-medium text-gray-700 border border-gray-200",title:"View/Manage Villa",children:"Manage"}),i.jsx(V,{to:`/host/villa/${A.villa_id}/edit`,className:"flex-1 text-center bg-blue-50 hover:bg-blue-100 rounded px-3 py-2 font-medium text-blue-700 border border-blue-200",title:"Edit Villa",children:"Edit"}),i.jsx("button",{className:"flex-1 text-center bg-yellow-50 hover:bg-yellow-100 rounded px-3 py-2 font-medium text-yellow-800 border border-yellow-200",title:"(Not implemented) Remove/Unlist",disabled:!0,children:"Unlist"})]})]},A.villa_id))})]}),n==="reservations"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Reservations"}),Array.isArray(r.reservations)&&r.reservations.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto border border-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"px-4 py-2 text-left",children:"Villa"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Guest"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Check-In"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Check-Out"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Total"}),i.jsx("th",{})]})}),i.jsx("tbody",{children:r.reservations.map(A=>{const K=r.villas.find(ee=>ee.villa_id===A.villa_id);return i.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2",children:(K==null?void 0:K.title)||"Villa #"+A.villa_id}),i.jsx("td",{className:"px-4 py-2",children:i.jsxs("span",{className:"text-gray-600",children:["ID: ",A.guest_user_id]})}),i.jsx("td",{className:"px-4 py-2",children:Ms(A.checkin_date)}),i.jsx("td",{className:"px-4 py-2",children:Ms(A.checkout_date)}),i.jsx("td",{className:"px-4 py-2",children:O6(A.status)}),i.jsx("td",{className:"px-4 py-2",children:So(A.total_price)}),i.jsx("td",{className:"px-4 py-2",children:i.jsx(V,{to:`/host/reservation/${A.booking_id}`,className:"text-blue-600 hover:underline text-sm",children:"Details"})})]},A.booking_id)})})]})}):i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-8 text-center text-gray-500",children:"No reservations yet. Once you receive bookings, they'll show up here."})]}),n==="calendar"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Calendar Management"}),i.jsx("div",{className:"flex flex-wrap gap-3 mb-5",children:(r.villas||[]).map(A=>i.jsx("button",{onClick:()=>{o(A.villa_id),!x[A.villa_id]&&!p[A.villa_id]&&k(A.villa_id)},className:`px-3 py-1 rounded border ${a===A.villa_id?"bg-blue-100 border-blue-400 text-blue-900 font-semibold":"bg-gray-100 border-gray-200 text-gray-700"}`,children:A.title},A.villa_id))}),a&&i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium text-lg mb-2",children:["Calendar for ",(W=r.villas.find(A=>A.villa_id===a))==null?void 0:W.title]}),p[a]&&i.jsx("div",{className:"text-gray-400 py-6",children:"Loading calendar..."}),f[a]&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded mb-2",children:f[a]}),!p[a]&&!f[a]&&(x[a]?i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white max-w-2xl",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:x[a]&&x[a].length>0?x[a].map(A=>i.jsxs("div",{className:`px-2 py-3 border rounded text-center
                                ${A.is_available?"bg-green-50 border-green-200 text-green-700":"bg-gray-100 border-gray-200 text-gray-400 line-through"}`,children:[i.jsx("div",{className:"font-mono",children:Ms(A.date)}),A.is_available?"Available":"Blocked",A.reason&&i.jsx("div",{className:"text-gray-400 text-xs mt-1",children:A.reason})]},A.date)):i.jsx("div",{className:"col-span-4 text-center text-gray-400 py-6",children:"No calendar data available."})}),i.jsx("div",{className:"mt-2 text-xs text-gray-500 text-right",children:"(Calendar editing coming soon)"})]}):i.jsx("div",{className:"text-gray-400 py-6",children:"No calendar data available."}))]}),!a&&i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-8 text-center text-gray-500",children:"Select a villa to manage its availability calendar."})]}),n==="inbox"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Messaging Inbox"}),Array.isArray(d.data)&&d.data.length>0?i.jsx("div",{className:"divide-y border rounded bg-white overflow-hidden",children:d.data.map(A=>{var K;return i.jsx(V,{to:`/messaging/thread/${A.thread_id}`,className:"block hover:bg-blue-50 p-4 transition",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold mb-1",children:["Thread #",A.thread_id]}),i.jsxs("div",{className:"text-gray-600 text-sm",children:["Villa:"," ",((K=r.villas.find(ee=>ee.villa_id===A.villa_id))==null?void 0:K.title)||(A.villa_id?`#${A.villa_id}`:"-"),A.booking_id&&i.jsxs("span",{children:[" ","(Booking #",A.booking_id,")"]})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Updated: ",Ms(A.updated_at)]}),i.jsx("div",{className:"text-gray-700 mt-1 truncate",children:A.last_message_preview||"(No messages)"})]}),i.jsx("div",{className:"flex flex-col items-center",children:A.unread_count>0&&i.jsxs("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5 font-semibold",children:[A.unread_count," new"]})})]})},A.thread_id)})}):i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-8 text-center text-gray-500",children:"No messages yet. New guest inquiries will appear here."})]}),n==="reviews"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reviews"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-700 mb-2",children:[i.jsx("span",{className:"mr-1",children:"Reviews Received"}),i.jsx("span",{className:"bg-gray-200 text-xs px-2 py-0.5 rounded-full",children:P.length})]}),i.jsx("div",{className:"space-y-4",children:P.length===0?i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-6 text-center text-gray-400",children:"No reviews received."}):P.map(A=>{const K=r.villas.find(ee=>ee.villa_id===A.villa_id);return i.jsxs("div",{className:"border rounded p-3 bg-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-yellow-400 text-lg font-bold",children:[Array(A.rating).fill("").join(""),i.jsx("span",{className:"text-gray-300",children:Array(5-A.rating).fill("").join("")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold",children:(K==null?void 0:K.title)||"Villa #"+A.villa_id}),i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:Ms(A.created_at)})]})]}),i.jsx("div",{className:"mt-2",children:A.text||i.jsx("em",{className:"text-gray-400",children:"No comment left"})})]},A.review_id)})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-semibold text-gray-700 mb-2",children:[i.jsx("span",{className:"mr-1",children:"Reviews Given"}),i.jsx("span",{className:"bg-gray-200 text-xs px-2 py-0.5 rounded-full",children:L.length})]}),i.jsx("div",{className:"space-y-4",children:L.length===0?i.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded p-6 text-center text-gray-400",children:"No reviews given."}):L.map(A=>i.jsxs("div",{className:"border rounded p-3 bg-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-yellow-400 text-lg font-bold",children:[Array(A.rating).fill("").join(""),i.jsx("span",{className:"text-gray-300",children:Array(5-A.rating).fill("").join("")})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"font-bold",children:["Guest #",A.guest_user_id]}),i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:Ms(A.created_at)})]})]}),i.jsx("div",{className:"mt-2",children:A.text||i.jsx("em",{className:"text-gray-400",children:"No comment left"})})]},A.guest_review_id))})]})]})]}),n==="earnings"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Earnings Summary"}),i.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:(r.villas||[]).map(A=>{const K=(r.reservations||[]).filter(ee=>ee.villa_id===A.villa_id&&["confirmed","completed"].includes(ee.status)).reduce((ee,D)=>ee+D.total_price,0);return i.jsxs("div",{className:"p-5 bg-white rounded-lg border border-gray-100 shadow flex-1 min-w-[220px]",children:[i.jsx("div",{className:"text-gray-600 text-sm mb-1",children:A.title}),i.jsx("div",{className:"text-2xl font-bold",children:So(K)}),i.jsx("div",{className:"text-xs text-gray-400",children:"All time"})]},A.villa_id)})}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-gray-500 mb-2",children:[i.jsx("strong",{children:"Total earnings:"})," ",So(((Y=r.revenue_summary)==null?void 0:Y.total)||0)]}),i.jsxs("div",{className:"text-gray-400 text-xs",children:["Based on confirmed and completed reservations. ",i.jsx("span",{className:"italic",children:"(Simulated payout)"})]})]})]}),n==="profile"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Profile"}),i.jsxs("div",{className:"p-6 bg-white border border-gray-100 rounded-lg shadow max-w-md",children:[i.jsxs("div",{className:"mb-4 flex gap-3 items-center",children:[i.jsx("img",{src:t.profile_photo_url||"https://picsum.photos/seed/profile/56",className:"w-14 h-14 rounded-full object-cover border",alt:"Profile"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-lg font-bold mb-0.5",children:[t.display_name,I&&i.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded bg-yellow-100 border border-yellow-200 text-yellow-700 font-semibold",children:"Superhost"})]}),i.jsxs("div",{className:"text-gray-500 text-sm",children:["User #",t.user_id]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("div",{className:"text-gray-700",children:"Display Name"}),i.jsx("div",{className:"text-gray-900 font-medium",children:t.display_name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("div",{className:"text-gray-700",children:"Email"}),i.jsx("div",{className:"text-gray-900 font-medium",children:"******"})]})]}),i.jsx(V,{to:"/host/profile/edit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",children:"Edit Profile"})]})]})]})]})})},Qv="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",T6=({error:t})=>i.jsxs("div",{className:"w-full max-w-lg mx-auto bg-red-50 border border-red-200 rounded px-6 py-4 text-red-600 my-8",children:[i.jsx("h2",{className:"font-bold text-lg mb-2",children:"Something went wrong with your profile"}),i.jsx("div",{className:"mb-1",children:t.message}),i.jsx(V,{to:"/host/dashboard",className:"text-blue-700 hover:underline",children:"Go to Host Dashboard"})]});class A6 extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e){}render(){return this.state.hasError&&this.state.error?i.jsx(T6,{error:this.state.error}):this.props.children}}const $6=()=>{const t=ae(C=>C.user_session.token);ae(C=>C.user_session.display_name),ae(C=>C.user_session.profile_photo_url),ae(C=>C.user_session.superhost_status);const e=ae(C=>C.set_user_session);et();const r=Rt(),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,h]=w.useState(""),[d,m]=w.useState(!1),[v,g]=w.useState(!1),[x,j]=w.useState(null),[p,y]=w.useState(!1),{data:f,error:_,isLoading:k,refetch:T}=xe({queryKey:["host-profile-me"],enabled:!!t,queryFn:async()=>{const C=await H.get(`${Qv}/account/me`,{headers:{Authorization:`Bearer ${t}`}}),b=Pi.safeParse(C.data);if(b.success)return b.data;throw new Error("Failed to validate profile data.")},staleTime:1e3*60,retry:1});w.useEffect(()=>{f&&!v&&(s(f.display_name||""),o(f.profile_photo_url||""),c(f.bio||""),h(f.contact_email||""),m(f.is_superhost),g(!0),j(null))},[f,v]);const{mutate:P,isPending:F}=qe({mutationFn:async C=>{const b={};C.display_name!==void 0&&(b.display_name=C.display_name),C.profile_photo_url!==void 0&&(b.profile_photo_url=C.profile_photo_url),C.bio!==void 0&&(b.bio=C.bio),C.contact_email!==void 0&&(b.contact_email=C.contact_email);const S=await H.patch(`${Qv}/account/me`,b,{headers:{Authorization:`Bearer ${t}`}}),R=Pi.safeParse(S.data);if(R.success)return R.data;throw new Error("Failed to validate updated user")},onSuccess:C=>{j(null),y(!0),s(C.display_name||""),o(C.profile_photo_url||""),c(C.bio||""),h(C.contact_email||""),m(C.is_superhost),e({display_name:C.display_name||"",profile_photo_url:C.profile_photo_url||"",superhost_status:C.is_superhost}),r.invalidateQueries({queryKey:["host-profile-me"]}),setTimeout(()=>y(!1),2e3)},onError:C=>{j(C.message||"Failed to update profile")}}),L=f||{display_name:"",profile_photo_url:"",bio:"",contact_email:""},z=v&&(n!==(L.display_name||"")||a!==(L.profile_photo_url||"")||l!==(L.bio||"")||u!==(L.contact_email||"")),I=v&&n.trim().length>0&&u.trim().length>0&&!F&&z,Z=w.useCallback(()=>{s(L.display_name||""),o(L.profile_photo_url||""),c(L.bio||""),h(L.contact_email||""),j(null)},[L.display_name,L.profile_photo_url,L.bio,L.contact_email]),E=C=>{if(C.preventDefault(),j(null),n.trim().length===0||u.trim().length===0){j("Display name and contact email are required.");return}const b={};n!==(L.display_name||"")&&(b.display_name=n.trim()),a!==(L.profile_photo_url||"")&&(b.profile_photo_url=a.trim()),l!==(L.bio||"")&&(b.bio=l.trim()),u!==(L.contact_email||"")&&(b.contact_email=u.trim()),P(b)},$=i.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-160px)] py-10 bg-gray-50",children:i.jsxs("div",{className:"w-full max-w-lg bg-white border border-gray-200 rounded-lg shadow px-8 py-8 relative",children:[i.jsxs("h1",{className:"text-2xl font-extrabold mb-2 text-gray-900 flex items-center gap-2",children:["Edit Host Profile",d&&i.jsxs("span",{title:"Superhost: Consistently rated 4.7+, completed 10+ stays in the past year, maintains high response rate and 0 cancellations.",className:"bg-yellow-300 text-gray-800 rounded px-2 py-0.5 ml-2 text-xs font-semibold flex items-center whitespace-nowrap","data-testid":"superhost-badge",children:[i.jsx("svg",{className:"w-4 h-4 mr-1 text-yellow-600 inline-block",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 15.27L16.18 19l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 4.73L3.82 19z"})}),"Superhost",i.jsx("span",{className:"ml-1 text-gray-600 cursor-help",title:"What is Superhost?",children:""})]})]}),i.jsx("div",{className:"text-gray-600 mb-6",children:"Keep your info up to date so guests trust your brand as a beach villa host."}),k&&i.jsxs("div",{className:"flex justify-center items-center my-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400"}),i.jsx("span",{className:"ml-2 text-gray-400",children:"Loading profile..."})]}),_&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-4 py-2 text-red-700 mb-4",children:_.message}),x&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-4 py-2 text-red-700 mb-4",children:x}),p&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded px-4 py-2 text-green-700 mb-4",children:"Profile saved successfully!"}),i.jsxs("form",{className:"space-y-6",onSubmit:E,autoComplete:"off",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold text-gray-700 mb-2",children:"Profile Photo"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:a||"https://picsum.photos/seed/profilehost/100",alt:"Profile",className:"w-20 h-20 rounded-full object-cover border border-gray-200",referrerPolicy:"no-referrer"}),i.jsx("input",{type:"url",className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",value:a,onChange:C=>o(C.target.value),autoComplete:"off",spellCheck:!1,placeholder:"Photo image URL...",disabled:F})]}),i.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Paste a photo URL (public JPG/PNG). Change will appear after save."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block font-semibold text-gray-700 mb-2",children:["Display Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",value:n,onChange:C=>s(C.target.value),maxLength:255,required:!0,autoComplete:"off",disabled:F})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block font-semibold text-gray-700 mb-2",children:["Contact Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",value:u,onChange:C=>h(C.target.value),maxLength:255,required:!0,autoComplete:"off",disabled:F})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold text-gray-700 mb-2",children:"Bio"}),i.jsx("textarea",{value:l,onChange:C=>c(C.target.value),className:"block w-full border border-gray-300 rounded px-3 py-2 focus:border-primary-500 focus:ring-primary-500",rows:3,maxLength:4096,placeholder:"Tell guests about yourself and your hosting style",disabled:F})]}),i.jsx("div",{className:"block mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"block font-semibold text-gray-700 mb-0",children:"Superhost status:"}),i.jsx("span",{className:`inline-block text-xs font-bold rounded px-2 py-0.5 ${d?"bg-yellow-200 text-yellow-900":"bg-gray-100 text-gray-500"}`,title:d?"You're a Superhost! Guests see this badge on your listings.":"Requirements: 10+ stays, avg 4.7+ rating, high response, no cancellations.",children:d?"Yes":"No"}),i.jsx("span",{title:"About Superhost status",className:"ml-1 cursor-pointer text-gray-400",children:""})]})}),i.jsxs("div",{className:"flex gap-2 mt-8 items-center",children:[i.jsx("button",{type:"submit",className:`bg-primary-600 hover:bg-primary-700 text-white font-bold px-6 py-2 rounded transition
                ${I?"":"opacity-60 cursor-not-allowed"}`,disabled:!I,"data-testid":"save-btn",children:F?i.jsxs("span",{className:"inline-flex items-center",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Saving..."]}):"Save"}),i.jsx("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold px-6 py-2 rounded transition",onClick:Z,disabled:F||!z,"data-testid":"cancel-btn",children:"Cancel"}),i.jsx(V,{to:"/host/dashboard",className:"ml-auto text-primary-700 hover:underline text-sm",children:" Back to Host Dashboard"})]})]})]})});return i.jsx(A6,{children:$})},wc=7,L6=["Property Info","Photos","Amenities","House Rules & Cancellation","Pricing","Availability Calendar","Preview & Publish"],Rr="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api";console.log("HostOnboardingWizard: API_BASE configured as:",Rr);const F6=(t=Math.floor(Math.random()*1e4))=>`https://picsum.photos/seed/beachstay_${t}/800/600`,I6=()=>{const t=et(),{villaId:e}=cn(),r=!!e,n=e&&!isNaN(Number(e))?parseInt(e,10):null,s=ae(b=>b.user_session),a=n,o=s.user_id!==null&&!isNaN(Number(s.user_id))?Number(s.user_id):null,[l,c]=w.useState({step_index:0,villa_id:a,title:"",description_short:"",description_long:"",address_street:"",address_city:"",address_area:"",address_postal_code:"",address_country:"",latitude:0,longitude:0,photos:[],main_photo_url:"",amenity_ids:[],amenities_options:[],rules:[],cancellation_policy:"",house_rules:"",price_per_night:0,cleaning_fee:0,service_fee:0,taxes:0,min_nights:1,max_nights:14,bedrooms:1,beds:1,bathrooms:1,max_guests:1,is_active:!0,is_beachfront:!1,is_pet_friendly:!1,is_instant_book:!1,calendar_data:[],loading:!1,error:null}),{data:u,isFetching:h,error:d}=xe({queryKey:["amenities_global"],queryFn:async()=>{try{console.log("HostOnboardingWizard: Fetching amenities from:",`${Rr}/villas/amenities`);const b=await H.get(`${Rr}/villas/amenities`,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"application/json"}});return console.log("HostOnboardingWizard: Amenities response:",b.data),Ws(qv).parse(b.data)}catch(b){throw console.error("HostOnboardingWizard: Error fetching amenities:",b),b}},retry:3,retryDelay:1e3}),m=w.useRef(!1);w.useEffect(()=>{!r||!n||m.current||(async()=>{var b,S,R,M;c(q=>({...q,loading:!0,error:null}));try{console.log("HostOnboardingWizard: Loading villa data for edit mode, villa ID:",n);const q=await H.get(`${Rr}/villa/${n}`,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"application/json"}});console.log("HostOnboardingWizard: Villa data response:",q.data);const W=ma.parse(q.data),Y=await H.get(`${Rr}/villa/${n}/photos`),K=Ws(Q5).parse(Y.data).map((ht,Cr)=>({villa_photo_id:String(ht.villa_photo_id),photo_url:ht.photo_url,ordering:Number(ht.ordering),is_main:ht.is_main})),ee=await H.get(`${Rr}/villa/${n}/amenities`),ie=Ws(qv).parse(ee.data).map(ht=>Number(ht.amenity_id)),Se=await H.get(`${Rr}/villa/${n}/rules`),Ve=Ws(K5).parse(Se.data).map(ht=>({rule_type:ht.rule_type,allowed:ht.allowed,notes:ht.notes})),kt=await H.get(`${Rr}/villa/${n}/calendar`),it=Ws(Wv).parse(kt.data);c(ht=>{var Cr;return{...ht,villa_id:Number(W.villa_id),title:W.title,description_short:W.description_short||"",description_long:W.description_long||"",address_street:W.address_street||"",address_city:W.address_city,address_area:W.address_area||"",address_postal_code:W.address_postal_code||"",address_country:W.address_country,latitude:W.latitude,longitude:W.longitude,main_photo_url:W.main_photo_url||(((Cr=K.find(ne=>ne.is_main))==null?void 0:Cr.photo_url)??""),photos:K,amenity_ids:ie,rules:Ve,cancellation_policy:W.cancellation_policy,house_rules:W.house_rules||"",price_per_night:W.price_per_night,cleaning_fee:W.cleaning_fee,service_fee:W.service_fee,taxes:W.taxes,min_nights:W.min_nights,max_nights:W.max_nights,bedrooms:W.bedrooms,beds:W.beds,bathrooms:W.bathrooms,max_guests:W.max_guests,is_active:W.is_active,is_beachfront:W.is_beachfront,is_pet_friendly:W.is_pet_friendly,is_instant_book:W.is_instant_book,calendar_data:it.map(ne=>({date:ne.date,is_available:ne.is_available,reason:ne.reason})),loading:!1,error:null}}),m.current=!0}catch(q){console.error("HostOnboardingWizard: Error loading villa data:",q);const W=((S=(b=q==null?void 0:q.response)==null?void 0:b.data)==null?void 0:S.error)||((M=(R=q==null?void 0:q.response)==null?void 0:R.data)==null?void 0:M.message)||(q==null?void 0:q.message)||"Failed to load villa data. Please check your connection and try again.";c(Y=>({...Y,loading:!1,error:W}))}})()},[r,n]),w.useEffect(()=>{u&&u.length>0&&c(b=>({...b,amenities_options:u}))},[u==null?void 0:u.length]);function v(b,S){switch(b){case 0:return S.title.trim().length>3&&S.address_city.trim().length>1&&S.address_country.trim().length>1;case 1:return S.photos.length>=5&&S.photos.length<=20&&S.photos.some(R=>R.is_main);case 2:return S.amenity_ids.length>0;case 3:return["flexible","moderate","strict"].includes(S.cancellation_policy)&&S.rules.length>0;case 4:return S.price_per_night>0&&S.cleaning_fee>=0&&S.service_fee>=0&&S.taxes>=0&&S.min_nights>0&&S.max_nights>=S.min_nights&&S.bedrooms>0&&S.beds>0&&S.bathrooms>0&&S.max_guests>0;case 5:return S.calendar_data.length>0;case 6:return!0;default:return!1}}function g(){c(b=>({...b,step_index:Math.min(wc-1,b.step_index+1),error:null}))}function x(){c(b=>({...b,step_index:Math.max(0,b.step_index-1),error:null}))}const j=Rt(),p=qe({mutationFn:async b=>{try{console.log("HostOnboardingWizard: Creating villa with payload:",b);const S=await H.post(`${Rr}/host/villas`,b,{headers:{Authorization:`Bearer ${s.token||""}`,Accept:"application/json","Content-Type":"application/json"},timeout:3e4});return console.log("HostOnboardingWizard: Villa creation response:",S.data),ma.parse(S.data)}catch(S){throw console.error("HostOnboardingWizard: Error creating villa:",S),S}},onSuccess:b=>{console.log("HostOnboardingWizard: Villa created successfully:",b),j.invalidateQueries({queryKey:["host_villas"]}),c(S=>({...S,villa_id:Number(b.villa_id),loading:!1})),t(`/host/villa/${b.villa_id}`)},onError:b=>{var R,M,q,W;console.error("HostOnboardingWizard: Villa creation failed:",b);const S=((M=(R=b==null?void 0:b.response)==null?void 0:R.data)==null?void 0:M.error)||((W=(q=b==null?void 0:b.response)==null?void 0:q.data)==null?void 0:W.message)||(b==null?void 0:b.message)||"Failed to create listing. Please check your connection and try again.";c(Y=>({...Y,loading:!1,error:S}))}}),y=qe({mutationFn:async b=>{if(!l.villa_id)throw new Error("Missing villa id for edit");const S={villa_id:l.villa_id,owner_user_id:o,title:l.title,description_short:l.description_short,description_long:l.description_long,address_street:l.address_street,address_city:l.address_city,address_area:l.address_area,address_postal_code:l.address_postal_code,address_country:l.address_country,latitude:l.latitude,longitude:l.longitude,main_photo_url:l.main_photo_url,cancellation_policy:l.cancellation_policy,house_rules:l.house_rules,min_nights:l.min_nights,max_nights:l.max_nights,bedrooms:l.bedrooms,beds:l.beds,bathrooms:l.bathrooms,max_guests:l.max_guests,price_per_night:l.price_per_night,cleaning_fee:l.cleaning_fee,service_fee:l.service_fee,taxes:l.taxes,is_active:l.is_active,is_beachfront:l.is_beachfront,is_pet_friendly:l.is_pet_friendly,is_instant_book:l.is_instant_book,published_at:null,created_at:"",updated_at:""},R=await H.patch(`${Rr}/villa/${l.villa_id}`,S,{headers:{Authorization:`Bearer ${s.token||""}`}});return ma.parse(R.data)},onSuccess:()=>{j.invalidateQueries({queryKey:["host_villas"]}),c(b=>({...b,loading:!1})),t(`/host/villa/${l.villa_id}`)},onError:b=>{c(S=>{var R,M;return{...S,loading:!1,error:((M=(R=b==null?void 0:b.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to save changes."}})}}),f=qe({mutationFn:async b=>{if(!l.villa_id)throw new Error("Missing id");const S=await H.patch(`${Rr}/villa/${l.villa_id}/calendar`,b,{headers:{Authorization:`Bearer ${s.token||""}`,"Content-Type":"application/json"}});return Ws(Wv).parse(S.data)},onSuccess:()=>{c(b=>({...b,loading:!1}))},onError:b=>{c(S=>{var R,M;return{...S,loading:!1,error:((M=(R=b==null?void 0:b.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to update calendar."}})}});function _(b,S){c(R=>({...R,[b]:S,error:null}))}function k(b){r||c(S=>{if(S.photos.length>=20)return S;const R={villa_photo_id:`local_${Math.random().toString(36).substr(2,10)}`,photo_url:b,ordering:S.photos.length+1,is_main:S.photos.length===0};return{...S,photos:[...S.photos,R],main_photo_url:S.main_photo_url||(S.photos.length===0?b:S.main_photo_url),error:null}})}function T(b){r||c(S=>{var q;let R=S.photos.slice();return R.splice(b,1),!R.some(W=>W.is_main)&&R.length>0&&(R[0].is_main=!0),{...S,photos:R.map((W,Y)=>({...W,ordering:Y+1})),main_photo_url:((q=R.find(W=>W.is_main))==null?void 0:q.photo_url)??""}})}function P(b){r||c(S=>{var M;const R=S.photos.map((q,W)=>({...q,is_main:W===b}));return{...S,photos:R,main_photo_url:(M=R[b])==null?void 0:M.photo_url}})}function F(b,S){r||c(R=>{let M=R.photos.slice();return b+S<0||b+S>=M.length?R:([M[b],M[b+S]]=[M[b+S],M[b]],M=M.map((q,W)=>({...q,ordering:W+1})),{...R,photos:M})})}function L(b){r||c(S=>{let R=new Set(S.amenity_ids);return R.has(b)?R.delete(b):R.add(b),{...S,amenity_ids:Array.from(R)}})}const z=[{rule_type:"no_smoking",allowed:!1,notes:""},{rule_type:"pets_allowed",allowed:!1,notes:""},{rule_type:"parties_allowed",allowed:!1,notes:""},{rule_type:"quiet_hours",allowed:!0,notes:""},{rule_type:"children_welcome",allowed:!0,notes:""}];w.useEffect(()=>{l.step_index===3&&l.rules.length===0&&!r&&c(b=>({...b,rules:z}))},[l.step_index,r]);function I(b,S,R){r||c(M=>{let q=M.rules.slice();return q[b]={...q[b],[S]:R},{...M,rules:q}})}function Z(){r||c(b=>({...b,rules:[...b.rules,{rule_type:`custom_${b.rules.length}`,allowed:!0,notes:""}]}))}function E(b){r||c(S=>{let R=S.rules.slice();return R.splice(b,1),{...S,rules:R}})}w.useEffect(()=>{if(l.step_index===5&&!r&&l.calendar_data.length===0){const b=[],S=new Date;for(let R=0;R<60;R++){const q=new Date(S.getTime()+R*864e5).toISOString().slice(0,10);b.push({date:q,is_available:!0,reason:null})}c(R=>({...R,calendar_data:b}))}},[l.step_index,r,l.calendar_data.length]);function $(b){c(S=>{let R=S.calendar_data.slice();return R[b]={...R[b],is_available:!R[b].is_available,reason:R[b].is_available?"Host blocked":null},{...S,calendar_data:R}})}function C(){if(c(b=>({...b,loading:!0,error:null})),r)y.mutate({}),f.mutate(l.calendar_data);else{for(let b=0;b<=5;b++)if(!v(b,l)){c(S=>({...S,loading:!1,error:"Some steps are incomplete or have invalid data."}));return}p.mutate({owner_user_id:o,title:l.title,description_short:l.description_short,description_long:l.description_long,address_street:l.address_street,address_city:l.address_city,address_area:l.address_area,address_postal_code:l.address_postal_code,address_country:l.address_country,latitude:l.latitude,longitude:l.longitude,main_photo_url:l.main_photo_url,cancellation_policy:l.cancellation_policy,min_nights:l.min_nights,max_nights:l.max_nights,bedrooms:l.bedrooms,beds:l.beds,bathrooms:l.bathrooms,max_guests:l.max_guests,price_per_night:l.price_per_night,cleaning_fee:l.cleaning_fee,service_fee:l.service_fee,taxes:l.taxes,is_active:l.is_active,is_beachfront:l.is_beachfront,is_pet_friendly:l.is_pet_friendly,is_instant_book:l.is_instant_book,house_rules:l.house_rules,photos:l.photos,amenity_ids:l.amenity_ids,rules:l.rules,calendar_data:l.calendar_data})}}if(w.useEffect(()=>{const b=setTimeout(()=>{s.is_authenticated?s.is_authenticated&&!s.is_host?(console.log("HostOnboardingWizard: User not a host, redirecting to host signup"),t("/host/signup")):console.log("HostOnboardingWizard: User authenticated and is host, allowing access"):(console.log("HostOnboardingWizard: User not authenticated, redirecting to login"),t("/guest/login?returnTo="+encodeURIComponent("/host/onboarding")))},100);return()=>clearTimeout(b)},[s.is_authenticated,s.is_host,t]),!s.is_authenticated)return i.jsx("div",{className:"max-w-3xl mx-auto py-8 px-4",children:i.jsx("div",{className:"flex justify-center items-center h-64 text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full border-4 border-blue-300 border-t-blue-600 w-12 h-12 mx-auto mb-4"}),i.jsx("p",{children:"Checking authentication..."})]})})});if(s.is_authenticated&&!s.is_host)return i.jsx("div",{className:"max-w-3xl mx-auto py-8 px-4",children:i.jsx("div",{className:"flex justify-center items-center h-64 text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full border-4 border-blue-300 border-t-blue-600 w-12 h-12 mx-auto mb-4"}),i.jsx("p",{children:"Redirecting to host signup..."})]})})});try{return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"flex items-center justify-between text-xs font-semibold text-gray-700",children:L6.map((b,S)=>i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"rounded-full border-2 w-8 h-8 flex items-center justify-center mr-2 "+(S===l.step_index?"border-blue-600 text-blue-700 bg-blue-100":S<l.step_index?"border-green-500 text-green-600 bg-green-100":"border-gray-200 text-gray-400 bg-gray-100"),"aria-label":`Step ${S+1}: ${b}`,children:S+1}),i.jsx("span",{className:(S===l.step_index?"text-blue-700":"text-gray-500")+" whitespace-nowrap",children:b})]}),S<wc-1&&i.jsx("div",{className:"h-1 bg-gray-200 my-1 mx-4 rounded-full"})]},b))})}),l.error&&i.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 text-red-700 font-semibold border border-red-300",children:l.error}),(l.loading||h)&&i.jsx("div",{className:"absolute left-0 top-0 w-full h-full bg-white/60 z-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full border-4 border-blue-300 border-t-blue-600 w-12 h-12"})}),i.jsxs("div",{className:"mt-2 mb-8",children:[l.step_index===0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Property Info"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_title",children:"Title*"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_title",value:l.title,maxLength:255,onChange:b=>_("title",b.target.value),placeholder:"e.g. Beachfront Oasis"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_desc_short",children:"Short Description*"}),i.jsx("textarea",{className:"input input-bordered w-full mt-1",id:"wizard_desc_short",value:l.description_short,maxLength:500,onChange:b=>_("description_short",b.target.value),placeholder:"A quick teaser about your villa."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_desc_long",children:"Detailed Description*"}),i.jsx("textarea",{className:"input input-bordered w-full mt-1",id:"wizard_desc_long",value:l.description_long,maxLength:4096,onChange:b=>_("description_long",b.target.value),rows:5,placeholder:"Describe your villa in detail..."})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_street",children:"Street"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_street",value:l.address_street,maxLength:255,onChange:b=>_("address_street",b.target.value),placeholder:"123 Beach Ave"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_city",children:"City*"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_city",value:l.address_city,maxLength:255,onChange:b=>_("address_city",b.target.value),placeholder:"Miami"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_area",children:"Area/Neighborhood"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_area",value:l.address_area,maxLength:255,onChange:b=>_("address_area",b.target.value),placeholder:"South Beach"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_postal",children:"Postal"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_postal",value:l.address_postal_code,maxLength:16,onChange:b=>_("address_postal_code",b.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_country",children:"Country*"}),i.jsx("input",{className:"input input-bordered w-full mt-1",id:"wizard_country",value:l.address_country,maxLength:64,onChange:b=>_("address_country",b.target.value),placeholder:"USA"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_lat",children:"Latitude"}),i.jsx("input",{className:"input input-bordered w-full mt-1",type:"number",id:"wizard_lat",value:l.latitude,onChange:b=>_("latitude",Number(b.target.value)),step:1e-6,placeholder:"25.790654"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"wizard_lng",children:"Longitude"}),i.jsx("input",{className:"input input-bordered w-full mt-1",type:"number",id:"wizard_lng",value:l.longitude,onChange:b=>_("longitude",Number(b.target.value)),step:1e-6,placeholder:"-80.1300455"})]})]})]})]}),l.step_index===1&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Photos"}),i.jsxs("div",{className:"mb-3",children:[i.jsx("span",{className:"font-semibold",children:"Add photo URLs (min 5, max 20)"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-2",children:[i.jsx("input",{type:"url",className:"input input-bordered grow",placeholder:"Paste an image URL here","aria-label":"Photo URL input",disabled:r,onKeyDown:b=>{b.key==="Enter"&&b.currentTarget.value.trim()&&!r&&(k(b.currentTarget.value.trim()),b.currentTarget.value="")}}),i.jsx("button",{className:"btn btn-secondary",disabled:r,"aria-disabled":r,onClick:()=>{r||k(F6())},children:"Add Random Image"})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"flex flex-wrap gap-4",children:l.photos.map((b,S)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:b.photo_url,alt:"Villa",className:`w-40 h-28 object-cover rounded border-2 ${b.is_main?"border-blue-500":"border-gray-300"}`}),i.jsx("button",{className:"absolute top-1 right-1 text-xs bg-white px-2 py-1 rounded shadow hover:bg-red-500 hover:text-white","aria-label":`Remove photo ${S+1}`,onClick:()=>T(S),disabled:r,"aria-disabled":r,children:""}),i.jsx("button",{className:`absolute bottom-1 left-1 text-xs px-2 py-1 rounded-md ${b.is_main?"bg-blue-600 text-white":"bg-gray-200"} `,"aria-label":"Set as main photo",disabled:r,"aria-disabled":r,onClick:()=>P(S),children:"Main"}),i.jsxs("div",{className:"absolute bottom-1 right-1 flex gap-1",children:[i.jsx("button",{onClick:()=>F(S,-1),disabled:S===0||r,"aria-disabled":S===0||r,className:"bg-white rounded px-2 py-1 text-xs shadow disabled:opacity-40",children:""}),i.jsx("button",{onClick:()=>F(S,1),disabled:S===l.photos.length-1||r,"aria-disabled":S===l.photos.length-1||r,className:"bg-white rounded px-2 py-1 text-xs shadow disabled:opacity-40",children:""})]})]},b.villa_photo_id))}),l.photos.length<5&&i.jsx("div",{className:"mt-2 text-sm text-red-600",children:"Add at least 5 photos (URLs)"})]}),r&&i.jsxs("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:[i.jsx("b",{children:"Note:"})," You may only change the photo order/main photo on new listings. Photo management for existing villas is not supported in this MVP."]})]}),l.step_index===2&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Amenities"}),d&&i.jsx("div",{className:"text-red-700 mb-2",children:String(d)}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.amenities_options.map(b=>{const S=`amenity_id_checkbox_${b.amenity_id}`;return i.jsxs("label",{htmlFor:S,className:"inline-flex items-center border rounded px-3 py-2 cursor-pointer "+(l.amenity_ids.includes(b.amenity_id)?"bg-blue-100 border-blue-400":"border-gray-300")+(r?" opacity-50 pointer-events-none":""),children:[i.jsx("input",{type:"checkbox",id:S,className:"mr-2",checked:l.amenity_ids.includes(b.amenity_id),onChange:()=>L(b.amenity_id),disabled:r,"aria-disabled":r,"aria-label":b.label}),b.icon_url&&i.jsx("img",{src:b.icon_url,alt:"",className:"w-5 h-5 mr-1"}),b.label]},b.amenity_id)})}),r&&i.jsxs("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:[i.jsx("b",{children:"Note:"})," You may only set amenities on new listings. Updating amenities is not supported for existing villas in this MVP."]})]}),l.step_index===3&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"House Rules & Cancellation"}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"cancellation_policy",children:"Cancellation Policy*"}),i.jsxs("select",{className:"input input-bordered w-full mt-1",id:"cancellation_policy",value:l.cancellation_policy,onChange:b=>_("cancellation_policy",b.target.value),disabled:r,"aria-disabled":r,children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"flexible",children:"Flexible"}),i.jsx("option",{value:"moderate",children:"Moderate"}),i.jsx("option",{value:"strict",children:"Strict"})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:"font-semibold",children:"Rules checklist"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.rules.map((b,S)=>{const R=`rule_allowed_${b.rule_type}_${S}`,M=`rule_note_${b.rule_type}_${S}`;return i.jsxs("div",{className:"flex items-center justify-between border rounded px-2 py-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"capitalize font-medium",children:b.rule_type.replace(/_/g," ")}),i.jsx("input",{type:"checkbox",id:R,className:"ml-2",checked:!!b.allowed,onChange:()=>I(S,"allowed",!b.allowed),disabled:r,"aria-disabled":r})]}),i.jsx("input",{type:"text",className:"input input-bordered ml-3",id:M,value:b.notes||"",placeholder:"Notes",onChange:q=>I(S,"notes",q.target.value),style:{width:"150px"},disabled:r,"aria-disabled":r}),i.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>E(S),"aria-label":"Remove rule",type:"button",disabled:r,"aria-disabled":r,children:""})]},b.rule_type+S)})}),i.jsx("button",{className:"btn btn-secondary mt-2",onClick:Z,type:"button",disabled:r,"aria-disabled":r,children:"Add Custom Rule"})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("label",{className:"font-semibold",htmlFor:"additional_house_rules",children:"Additional House Rules"}),i.jsx("textarea",{className:"input input-bordered w-full",id:"additional_house_rules",value:l.house_rules,maxLength:2048,onChange:b=>_("house_rules",b.target.value),rows:2,disabled:r,"aria-disabled":r,placeholder:"Summarize any other special rules (e.g. late check-in policy)."})]}),r&&i.jsxs("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:[i.jsx("b",{children:"Note:"})," You may only set rules on new listings. Updating rules is not supported for existing villas in this MVP."]})]}),l.step_index===4&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Pricing & Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_nightly_rate",children:"Nightly Rate*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_nightly_rate",value:l.price_per_night,onChange:b=>_("price_per_night",Number(b.target.value)),placeholder:"e.g. 320"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_cleaning_fee",children:"Cleaning Fee*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_cleaning_fee",value:l.cleaning_fee,onChange:b=>_("cleaning_fee",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_service_fee",children:"Service Fee*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_service_fee",value:l.service_fee,onChange:b=>_("service_fee",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_taxes",children:"Taxes*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:0,id:"field_taxes",value:l.taxes,onChange:b=>_("taxes",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_min_nights",children:"Min Nights*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:30,id:"field_min_nights",value:l.min_nights,onChange:b=>_("min_nights",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_max_nights",children:"Max Nights*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:l.min_nights,max:60,id:"field_max_nights",value:l.max_nights,onChange:b=>_("max_nights",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_bedrooms",children:"Bedrooms*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:100,id:"field_bedrooms",value:l.bedrooms,onChange:b=>_("bedrooms",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_beds",children:"Beds*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:200,id:"field_beds",value:l.beds,onChange:b=>_("beds",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_bathrooms",children:"Bathrooms*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:100,id:"field_bathrooms",value:l.bathrooms,onChange:b=>_("bathrooms",Number(b.target.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_max_guests",children:"Max Guests*"}),i.jsx("input",{className:"input input-bordered w-full",type:"number",min:1,max:50,id:"field_max_guests",value:l.max_guests,onChange:b=>_("max_guests",Number(b.target.value))})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_active",children:"Listing Active?"}),i.jsx("input",{type:"checkbox",id:"field_active",className:"mr-2",checked:l.is_active,onChange:()=>_("is_active",!l.is_active)})," ",i.jsx("span",{className:"ml-1",children:"Is Active"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_beachfront",children:"Beachfront?"}),i.jsx("input",{type:"checkbox",id:"field_beachfront",className:"mr-2",checked:l.is_beachfront,onChange:()=>_("is_beachfront",!l.is_beachfront)})," ",i.jsx("span",{className:"ml-1",children:"Beachfront"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_pet",children:"Pet Friendly?"}),i.jsx("input",{type:"checkbox",id:"field_pet",className:"mr-2",checked:l.is_pet_friendly,onChange:()=>_("is_pet_friendly",!l.is_pet_friendly)})," ",i.jsx("span",{className:"ml-1",children:"Pet Friendly"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"font-semibold",htmlFor:"field_instant",children:"Instant Book?"}),i.jsx("input",{type:"checkbox",id:"field_instant",className:"mr-2",checked:l.is_instant_book,onChange:()=>_("is_instant_book",!l.is_instant_book)})," ",i.jsx("span",{className:"ml-1",children:"Instant Book"})]})]})]}),l.step_index===5&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Availability Calendar"}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("span",{children:"Toggle days to block (unavailable for guests). Add notes for special restrictions."}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-2 bg-gray-50 p-3 max-h-[320px] overflow-auto rounded",children:l.calendar_data.map((b,S)=>{const R=`calendar_available_${b.date}`,M=`calendar_note_${b.date}`;return i.jsxs("div",{className:`rounded border p-2 flex flex-col bg-white ${b.is_available?"border-green-600":"border-red-400 opacity-70"}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-xs",htmlFor:R,children:b.date}),i.jsx("input",{type:"checkbox",id:R,checked:b.is_available,onChange:()=>$(S),className:"ml-2","aria-label":b.is_available?"Available":"Blocked"}),i.jsx("span",{className:"text-xs ml-1",children:b.is_available?"Open":"Blocked"})]}),!b.is_available&&i.jsx("input",{type:"text",id:M,className:"input input-bordered w-full mt-1",value:b.reason||"",placeholder:"Block reason",onChange:q=>{let W=l.calendar_data.slice();W[S].reason=q.target.value,c(Y=>({...Y,calendar_data:W}))}})]},b.date)})})]})]}),l.step_index===6&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Preview & Publish"}),i.jsxs("div",{className:"rounded shadow border bg-gray-50 p-4",children:[i.jsx("h3",{className:"font-semibold text-lg mb-2",children:l.title}),i.jsxs("div",{className:"flex gap-4 items-start",children:[i.jsx("div",{children:l.main_photo_url?i.jsx("img",{src:l.main_photo_url,className:"rounded-md w-60 h-40 object-cover shadow",alt:"Main photo"}):i.jsx("div",{className:"w-60 h-40 bg-gray-200 rounded flex items-center justify-center text-gray-400",children:"No main photo"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"mb-1",children:i.jsxs("b",{children:[l.address_street&&i.jsxs(i.Fragment,{children:[l.address_street,", "]}),l.address_city,", ",l.address_country]})}),i.jsxs("div",{className:"mb-1 text-sm",children:["Price/Night: ",i.jsxs("b",{children:["$",l.price_per_night]})]}),i.jsxs("div",{className:"mb-1 text-sm",children:["Beds: ",l.beds,"  Baths: ",l.bathrooms,"  Max guests: ",l.max_guests]}),i.jsxs("div",{className:"mb-1 text-sm",children:["Cancellation:"," ",i.jsx("span",{className:"capitalize",children:l.cancellation_policy})]}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:l.amenities_options.filter(b=>l.amenity_ids.includes(b.amenity_id)).map(b=>i.jsx("span",{className:"text-xs bg-blue-100 px-2 py-1 rounded",children:b.label},b.amenity_id))})]})]}),i.jsx("div",{className:"mt-3 text-base",children:l.description_short}),i.jsx("div",{className:"mt-1 text-sm text-gray-600",children:l.description_long}),i.jsxs("div",{className:"mt-3 text-xs text-gray-700",children:["Rules:"," ",l.rules.map(b=>i.jsxs("span",{className:"mr-1",children:[b.rule_type.replace(/_/g," "),":"," ",b.allowed?"Allowed":"Not allowed"]},b.rule_type))]}),i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("b",{children:"Availability (next 2 weeks): "}),l.calendar_data.slice(0,14).map(b=>i.jsxs("span",{className:`inline-block rounded px-1 ${b.is_available?"bg-green-200":"bg-red-200"}`,children:[b.date.slice(5)," ",b.is_available?"":""]},b.date))]})]}),r&&i.jsx("div",{className:"mt-4 text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 text-sm",children:i.jsxs("div",{children:[i.jsx("b",{children:"LIMITATION (MVP):"})," You can only edit general info, NOT photos, amenities, or rules for an existing villa. To update those, please contact support."]})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("button",{className:`btn btn-primary px-6 text-lg ${l.loading?"opacity-60 pointer-events-none":""}`,onClick:C,disabled:l.loading,"aria-disabled":l.loading,children:r?"Save changes":"Publish villa"}),i.jsx("span",{className:"ml-3",children:i.jsx(V,{to:"/host/dashboard",className:"underline text-gray-500 hover:text-blue-700",children:"Cancel, return to dashboard"})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[i.jsx("button",{className:`btn px-4 ${l.step_index===0?"btn-disabled opacity-50":"btn-secondary"}`,onClick:x,disabled:l.step_index===0,children:"Back"}),i.jsxs("span",{children:["Step ",l.step_index+1," of ",wc]}),l.step_index<wc-1&&i.jsx("button",{className:`btn px-4 ${v(l.step_index,l)?"btn-primary":"btn-disabled opacity-50"}`,onClick:g,disabled:!v(l.step_index,l),"aria-disabled":!v(l.step_index,l),children:"Next"})]}),i.jsxs("div",{className:"mt-7 text-xs text-gray-500 border-t pt-4",children:["Fields marked * are required.",i.jsx("br",{}),r?i.jsxs(i.Fragment,{children:["Listing edit is limited (MVP): ",i.jsx("b",{children:"photos, amenities and rules"})," cannot be updated here. Contact support for advanced editing."]}):i.jsxs(i.Fragment,{children:["Your listing will be published and appear to guests after completing all steps and publishing.",i.jsx("br",{}),i.jsx("span",{className:"text-blue-600 underline",children:i.jsx(V,{to:"/host/dashboard",children:"Back to Host Dashboard"})})]})]})]})})}catch(b){return console.error("HostOnboardingWizard: Render error:",b),i.jsx("div",{className:"max-w-3xl mx-auto py-8 px-4",children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[i.jsx("h2",{className:"font-bold",children:"Something went wrong"}),i.jsx("p",{children:"There was an error loading the villa onboarding wizard. Please refresh the page and try again."}),i.jsxs("p",{className:"text-sm mt-2",children:["Error: ",b instanceof Error?b.message:"Unknown error"]})]})})}},Mn="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api";function Co(t){return t?(typeof t=="string"?new Date(t):t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}const M6={confirmed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",requested:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700",rejected:"bg-red-100 text-red-700",completed:"bg-gray-100 text-gray-700",modified:"bg-blue-100 text-blue-700"},D6=()=>{var $s,Li,Fi;const t=cn(),e=t.villaId?parseInt(t.villaId,10):void 0,r=et(),n=Rt(),s=ae(se=>se.user_session.user_id);ae(se=>se.user_session.is_host);const a=ae(se=>se.user_session.token),{data:o,isLoading:l,error:c}=xe({queryKey:["villaDetail",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:se}=await H.get(`${Mn}/villa/${e}`,{headers:{Authorization:`Bearer ${a}`}});return se}});ge.useEffect(()=>{!l&&o&&typeof s=="number"&&o.owner_user_id!==s&&r("/error",{state:{message:"Not authorized to view this villa."},replace:!0})},[l,o,s,r]);const{data:u=[],isLoading:h,error:d}=xe({queryKey:["villaPhotos",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:se}=await H.get(`${Mn}/villa/${e}/photos`,{headers:{Authorization:`Bearer ${a}`}});return se}}),{data:m=[],isLoading:v,error:g,refetch:x}=xe({queryKey:["villaCalendar",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:se}=await H.get(`${Mn}/villa/${e}/calendar`,{headers:{Authorization:`Bearer ${a}`}});return se}}),{data:j=[],isLoading:p,error:y,refetch:f}=xe({queryKey:["villaPricingOverrides",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:se}=await H.get(`${Mn}/villa/${e}/pricing-overrides`,{headers:{Authorization:`Bearer ${a}`}});return se}}),{data:_=[],isLoading:k,error:T,refetch:P}=xe({queryKey:["hostReservations",e],enabled:!!a,queryFn:async()=>{const{data:se}=await H.get(`${Mn}/host/reservations`,{headers:{Authorization:`Bearer ${a}`}});return se}}),F=(_==null?void 0:_.filter(se=>se.villa_id===e))||[],{data:L,isLoading:z,error:I,refetch:Z}=xe({queryKey:["villaReviews",e],enabled:!!e&&!!a,queryFn:async()=>{const{data:se}=await H.get(`${Mn}/villas/${e}/reviews`,{headers:{Authorization:`Bearer ${a}`}});return se}}),E=(L==null?void 0:L.reviews)||[],$=(L==null?void 0:L.avg_rating)??0,C=(L==null?void 0:L.total_reviews)??0,[b,S]=ge.useState([]),[R,M]=ge.useState(null),[q,W]=ge.useState(!1),Y=qe({mutationFn:async se=>{W(!0),M(null);const{data:ft}=await H.patch(`${Mn}/villa/${e}/calendar`,se,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return ft},onSuccess:se=>{n.setQueryData(["villaCalendar",e],se),S([]),x(),W(!1)},onError:se=>{M(se.message||"Calendar update failed."),W(!1)}}),[A,K]=ge.useState([]),[ee,D]=ge.useState(null),[ie,Se]=ge.useState(!1),Te=qe({mutationFn:async se=>{Se(!0),D(null);const{data:ft}=await H.patch(`${Mn}/villa/${e}/pricing-overrides`,se,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return ft},onSuccess:se=>{n.setQueryData(["villaPricingOverrides",e],se),K([]),f(),Se(!1)},onError:se=>{D(se.message||"Pricing update failed."),Se(!1)}});ge.useEffect(()=>{m.length>0&&S(m.map(se=>({...se})))},[m]),ge.useEffect(()=>{j.length>0&&K(j.map(se=>({...se})))},[j]);const Ve=l||h||v||p||k||z,kt=c||d||g||y||T||I,[it,ht]=ge.useState(0),Cr=u.findIndex(se=>se.is_main);ge.useEffect(()=>{Cr!==-1&&ht(Cr)},[Cr]);function ne(se,ft,tt){S(Ii=>Ii.map((Tn,Mi)=>Mi===se?{...Tn,[ft]:tt}:Tn))}function Ae(se){se.preventDefault(),Y.mutate(b)}function St(se,ft,tt){K(Ii=>Ii.map((Tn,Mi)=>Mi===se?{...Tn,[ft]:tt}:Tn))}function un(se){se.preventDefault(),Te.mutate(A)}const $i=new Date;return F.filter(se=>new Date(se.checkin_date)>=$i&&["confirmed","pending","requested"].includes(se.status)),i.jsxs(i.Fragment,{children:[Ve&&i.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-30 bg-white/80 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-400 border-solid"})}),kt&&i.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-850 p-4 rounded mt-6 max-w-2xl mx-auto",children:[i.jsx("div",{className:"text-lg font-semibold mb-1",children:"Error loading villa detail"}),i.jsx("div",{className:"break-all",children:String(kt.message)})]}),!Ve&&!kt&&o&&i.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-10",children:[i.jsx("div",{className:"w-full md:w-2/5",children:u.length>0?i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"rounded-xl w-full h-72 object-cover",src:($s=u[it])==null?void 0:$s.photo_url,alt:`Villa photo #${it+1}`}),i.jsx("button",{className:"absolute left-1 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full px-2 py-1 shadow-lg hover:bg-white",onClick:()=>ht(it===0?u.length-1:it-1),"aria-label":"Previous Photo",children:""}),i.jsx("button",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full px-2 py-1 shadow-lg hover:bg-white",onClick:()=>ht(it===u.length-1?0:it+1),"aria-label":"Next Photo",children:""}),i.jsx("div",{className:"flex justify-center mt-2 gap-2",children:u.map((se,ft)=>i.jsx("img",{className:`w-10 h-10 object-cover rounded cursor-pointer border ${ft===it?"border-blue-400":"border-transparent"}`,src:se.photo_url,alt:`thumb-${ft+1}`,onClick:()=>ht(ft)},se.villa_photo_id))})]}):i.jsx("div",{className:"w-full h-72 rounded-xl bg-gray-100 flex items-center justify-center text-gray-400",children:"No photos uploaded"})}),i.jsxs("div",{className:"w-full md:w-3/5 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-row justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:o.title}),i.jsxs("div",{className:"text-gray-600",children:[o.address_city,", ",o.address_country]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",o.villa_id]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-yellow-500 text-xl",children:""}),i.jsx("span",{className:"text-lg font-semibold",children:($||0).toFixed(2)}),i.jsxs("span",{className:"text-gray-500 text-sm",children:["/ 5  ",C," review",C===1?"":"s"]})]}),o.is_active?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-100 text-green-700 text-xs font-medium mt-1",children:"Active Listing"}):i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-200 text-gray-600 text-xs font-medium mt-1",children:"Inactive"}),o.is_instant_book&&i.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded bg-blue-100 text-blue-800 text-xs font-medium",children:"Instant Book"})]}),i.jsx("div",{children:i.jsx(V,{to:`/host/villa/${o.villa_id}/edit`,className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg shadow font-semibold hover:bg-blue-700 transition",children:"Edit Listing"})})]}),o.description_short&&i.jsx("div",{className:"text-md mt-1 text-gray-700",children:o.description_short}),o.house_rules&&i.jsxs("div",{className:"text-sm mt-1 text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:"House Rules:"})," ",o.house_rules]}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Bedrooms:"})," ",o.bedrooms]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Beds:"})," ",o.beds]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Bathrooms:"})," ",o.bathrooms]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Max Guests:"})," ",o.max_guests]})]}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Nightly base price:"}),i.jsxs("span",{className:"ml-1",children:["$",((Li=o==null?void 0:o.price_per_night)==null?void 0:Li.toFixed(2))||"0.00"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Cleaning fee:"}),i.jsxs("span",{className:"ml-1",children:["$",((Fi=o==null?void 0:o.cleaning_fee)==null?void 0:Fi.toFixed(2))||"0.00"]})]})]}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsx(V,{to:`/messaging?villa=${o.villa_id}`,className:"inline-flex items-center px-3 py-1.5 bg-gray-200 text-blue-800 rounded hover:bg-blue-50",children:"Messages"}),i.jsx("a",{href:"#upcoming-reservations",className:"inline-flex items-center px-3 py-1.5 bg-gray-200 text-blue-800 rounded hover:bg-blue-50",children:"Upcoming Bookings"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-10 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Availability Calendar Management"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Mark days as available/unavailable and adjust per-date prices."}),R&&i.jsx("div",{className:"mb-3 bg-red-100 text-red-700 border px-3 py-2 rounded text-sm",children:R}),i.jsxs("form",{onSubmit:Ae,children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1",children:"Date"}),i.jsx("th",{className:"px-2 py-1",children:"Available?"}),i.jsx("th",{className:"px-2 py-1",children:"Reason (if blocked)"})]})}),i.jsx("tbody",{children:b.map((se,ft)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 py-1",children:Co(se.date)}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{type:"checkbox",checked:se.is_available,onChange:tt=>ne(ft,"is_available",tt.target.checked),disabled:q,className:"scale-125"})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{type:"text",value:se.reason||"",onChange:tt=>ne(ft,"reason",tt.target.value),disabled:q||se.is_available,className:`border px-1 rounded w-full ${se.is_available?"bg-gray-100":""}`,placeholder:"Reason for blocking date"})})]},se.date))})]})}),i.jsx("button",{type:"submit",className:`mt-3 px-4 py-2 rounded bg-blue-700 text-white font-semibold shadow hover:bg-blue-800 transition ${q?"opacity-70 pointer-events-none":""}`,disabled:q,children:q?"Saving Calendar...":"Save Calendar Changes"})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-10 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Per-Date Price Overrides"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Adjust nightly prices, min/max stay per date (leave blank for default)."}),ee&&i.jsx("div",{className:"mb-3 bg-red-100 text-red-700 border px-3 py-2 rounded text-sm",children:ee}),i.jsxs("form",{onSubmit:un,children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1",children:"Date"}),i.jsx("th",{className:"px-2 py-1",children:"Nightly Price ($)"}),i.jsx("th",{className:"px-2 py-1",children:"Min Nights"}),i.jsx("th",{className:"px-2 py-1",children:"Max Nights"})]})}),i.jsx("tbody",{children:A.map((se,ft)=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 py-1",children:Co(se.date)}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{className:"border px-1 rounded w-24",type:"number",min:1,value:se.nightly_price,onChange:tt=>St(ft,"nightly_price",Number(tt.target.value)),disabled:ie})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{className:"border px-1 rounded w-12",type:"number",min:1,value:se.min_nights??"",onChange:tt=>St(ft,"min_nights",tt.target.value===""?null:Number(tt.target.value)),disabled:ie})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("input",{className:"border px-1 rounded w-12",type:"number",min:1,value:se.max_nights??"",onChange:tt=>St(ft,"max_nights",tt.target.value===""?null:Number(tt.target.value)),disabled:ie})})]},se.date))})]})}),i.jsx("button",{type:"submit",className:`mt-3 px-4 py-2 rounded bg-blue-700 text-white font-semibold shadow hover:bg-blue-800 transition ${ie?"opacity-70 pointer-events-none":""}`,disabled:ie,children:ie?"Saving Prices...":"Save Pricing Changes"})]})]}),i.jsxs("div",{id:"upcoming-reservations",className:"mb-10",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Reservations & Booking History"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full table-auto text-sm border mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-1",children:"Guest UID"}),i.jsx("th",{className:"px-2 py-1",children:"Check-in"}),i.jsx("th",{className:"px-2 py-1",children:"Check-out"}),i.jsx("th",{className:"px-2 py-1",children:"Status"}),i.jsx("th",{className:"px-2 py-1",children:"Price Paid"}),i.jsx("th",{className:"px-2 py-1",children:"Booking"}),i.jsx("th",{className:"px-2 py-1",children:"Message"})]})}),i.jsx("tbody",{children:F.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"py-6 text-center text-gray-500",children:"No reservations to display yet."})}):F.map(se=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-2 py-1 font-mono",children:se.guest_user_id}),i.jsx("td",{className:"px-2 py-1",children:Co(se.checkin_date)}),i.jsx("td",{className:"px-2 py-1",children:Co(se.checkout_date)}),i.jsx("td",{className:"px-2 py-1",children:i.jsx("span",{className:`inline-block rounded px-2 py-0.5 text-xs font-bold ${M6[se.status]||"bg-gray-200 text-gray-900"}`,children:se.status})}),i.jsxs("td",{className:"px-2 py-1",children:["$",se.total_price.toFixed(2)]}),i.jsx("td",{className:"px-2 py-1",children:i.jsx(V,{to:`/reservation/${se.booking_id}`,className:"text-blue-600 underline hover:text-blue-900",children:"Details"})}),i.jsx("td",{className:"px-2 py-1",children:i.jsx(V,{to:`/messaging?booking=${se.booking_id}`,className:"text-blue-800 hover:underline",children:"Message"})})]},se.booking_id))})]})}),i.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Tip: You can message guests directly from this table."})]}),i.jsxs("div",{className:"mb-10",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Guest Reviews"}),E.length===0?i.jsx("div",{className:"text-gray-500 mb-2",children:"No reviews yet for this villa."}):i.jsx("div",{className:"flex flex-col gap-4",children:E.map(se=>i.jsxs("div",{className:"bg-white rounded-md border p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("span",{className:"text-yellow-500",children:""}),i.jsx("span",{className:"text-lg font-semibold",children:se.rating}),i.jsx("span",{className:"ml-2 text-xs text-gray-400",children:Co(se.created_at)}),se.is_edited&&i.jsx("span",{className:"ml-1 text-xs italic text-gray-400",children:"(edited)"})]}),i.jsx("div",{className:"ml-1 text-gray-700 text-sm mt-1",children:se.text})]},se.review_id))})]})]})]})},B6=["inbox_threads"],U6=async t=>{const{data:e}=await H.get("https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/inbox",{headers:{Authorization:`Bearer ${t}`}});return Array.isArray(e)?e.map(r=>({...r,thread_id:String(r.thread_id),participant_user_id:String(r.participant_user_id),villa_id:r.villa_id!==null&&r.villa_id!==void 0?String(r.villa_id):null,booking_id:r.booking_id!==null&&r.booking_id!==void 0?String(r.booking_id):null,last_message_preview:r.last_message_preview??null})):[]};class z6 extends ge.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){}render(){return this.state.hasError?this.props.fallback:this.props.children}}const q6=()=>{const t=ae(g=>g.user_session.token);ae(g=>g.user_session.user_id);const e=ae(g=>g.messaging_threads.threads),r=ae(g=>g.set_messaging_threads),[n,s]=w.useState(""),{isLoading:a,isError:o,error:l,data:c,refetch:u}=xe({queryKey:B6,queryFn:()=>{if(!t)throw new Error("Not authenticated");return U6(t)},enabled:!!t,staleTime:30*1e3,refetchOnWindowFocus:!0,onSuccess:g=>{r({threads:g})}}),h=w.useMemo(()=>e&&Array.isArray(e)?e:[],[e]),d=w.useMemo(()=>{if(!n.trim())return h;const g=n.trim().toLowerCase();return h.filter(x=>{const j=`user ${x.participant_user_id}`.toLowerCase(),p=x.villa_id!==null?`villa ${x.villa_id}`.toLowerCase():"",y=x.booking_id!==null?`booking ${x.booking_id}`.toLowerCase():"";return j.includes(g)||String(x.participant_user_id).toLowerCase().includes(g)||p.includes(g)||String(x.villa_id||"").toLowerCase().includes(g)||y.includes(g)||String(x.booking_id||"").toLowerCase().includes(g)||x.last_message_preview&&x.last_message_preview.toLowerCase().includes(g)})},[n,h]);w.useEffect(()=>{t&&(!e||e.length===0)&&u()},[t]);const m=w.useCallback(g=>{s(g.target.value)},[]),v=g=>{const x=Date.now(),j=new Date(g).getTime(),p=Math.floor((x-j)/1e3);return p<60?"just now":p<3600?`${Math.floor(p/60)} min ago`:p<86400?`${Math.floor(p/3600)}h ago`:p<3*86400?`${Math.floor(p/86400)}d ago`:new Date(g).toLocaleDateString()};return i.jsx(z6,{fallback:i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-red-600",children:[i.jsxs("svg",{width:64,height:64,fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),i.jsx("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#ef4444",strokeWidth:"2"})]}),i.jsx("div",{className:"mt-2 font-semibold text-lg",children:"Sorry, something went wrong loading your inbox."}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600",onClick:()=>u(),children:"Retry"})]}),children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-8 pb-16",children:[i.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-1 text-gray-800",children:"Inbox"}),i.jsx("div",{className:"text-gray-500",children:"Your guest-host conversations"})]}),i.jsx("div",{children:i.jsxs(V,{to:"/search",className:"inline-flex items-center px-4 py-1.5 rounded bg-sky-100 text-sky-700 hover:bg-sky-200 hover:text-sky-900 font-medium transition text-sm",title:"Start a conversation",children:[i.jsx("span",{className:"mr-2",children:"Start New"}),i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 5v14m7-7H5",stroke:"currentColor",strokeWidth:"2",fill:"none"})})]})})]}),i.jsx("div",{className:"mb-8",children:i.jsx("input",{type:"text",autoComplete:"off",className:"w-full rounded border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-sky-300 transition",placeholder:"Search by user, villa, or keywords...",value:n,onChange:m,"aria-label":"Search message threads"})}),a?i.jsxs("div",{className:"flex justify-center items-center py-24",children:[i.jsxs("svg",{className:"animate-spin h-9 w-9 text-sky-500",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.37 0 0 5.37 0 12h4z"})]}),i.jsx("span",{className:"ml-4 text-gray-500 text-lg",children:"Loading your messages..."})]}):o?i.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-rose-600",children:[i.jsxs("svg",{width:"48",height:"48",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),i.jsx("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#ef4444",strokeWidth:"2"})]}),i.jsx("div",{className:"mt-2",children:"Could not load messages."}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-rose-500 text-white rounded hover:bg-rose-600",onClick:()=>u(),children:"Retry"})]}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[i.jsx("img",{src:"https://picsum.photos/seed/inboxempty/180/100",className:"mb-4 rounded",alt:"No messages",width:180,height:100,style:{objectFit:"cover"}}),i.jsx("div",{className:"font-semibold text-lg mb-2",children:"No conversations yet."}),i.jsxs("div",{className:"text-sm mb-4 text-center max-w-xs",children:["Your messages with hosts and guests will appear here.",i.jsx("br",{}),"Once you contact someone on a villa page or have a booking, you'll find your conversations here."]}),i.jsx(V,{to:"/search",className:"mt-1 px-4 py-2 rounded bg-sky-200 text-sky-800 hover:bg-sky-300 font-medium transition",children:i.jsx("span",{children:"Find a beach villa"})})]}):i.jsx("ul",{className:"divide-y divide-gray-200 rounded-xl border border-gray-200 shadow bg-white",children:d.map(g=>i.jsx("li",{className:"block hover:bg-sky-50 transition",children:i.jsxs(V,{to:`/messaging/thread/${encodeURIComponent(g.thread_id)}`,className:"flex items-center gap-3 px-3 py-4 focus:outline-none",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:`https://picsum.photos/seed/user${g.participant_user_id}/48`,className:"h-11 w-11 rounded-full object-cover bg-gray-200 border border-gray-300",alt:`User #${g.participant_user_id} avatar`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["User #",g.participant_user_id]}),g.villa_id?i.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-emerald-50 text-emerald-700 text-xs",children:["Villa #",g.villa_id]}):null,g.booking_id?i.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-sky-50 text-sky-700 text-xs",children:["Booking #",g.booking_id]}):null]}),i.jsx("div",{className:"text-gray-500 text-sm flex items-center truncate mt-0.5",children:g.last_message_preview?i.jsx("span",{className:"truncate",children:g.last_message_preview}):i.jsx("span",{className:"italic",children:"No messages yet"})})]}),i.jsxs("div",{className:"flex flex-col items-end pl-2",children:[i.jsx("span",{className:"text-xs text-gray-400 font-mono mt-1 mb-2",children:v(g.updated_at)}),g.unread_count>0&&i.jsx("span",{className:"inline-block rounded-full bg-rose-500 text-white px-2 text-xs font-semibold min-w-[1.2rem] text-center",children:g.unread_count})]})]})},g.thread_id))})]})})},mf=Fd({message_id:It(),thread_id:It(),sender_user_id:It(),recipient_user_id:It(),content:It(),is_read:hp(),sent_at:Hj([It(),vA()])}),Kv="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api";function Yv(t){return(typeof t=="string"?new Date(t):t).toLocaleString(void 0,{year:"2-digit",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}const W6=()=>{const t=cn(),e=et(),r=t.threadId||t.thread_id;let n=r&&typeof r=="string"?r:"",s=null;n&&!isNaN(Number(n))&&(s=Number(n));const a=n,o=ae(D=>D.user_session),l=ae(D=>D.messaging_threads),c=ae(D=>D.connect_socket);ae(D=>D.socket_connected);const u=ae(D=>D.last_event_received),h=ae(D=>D.set_thread_messages),[d,m]=w.useState(null);w.useEffect(()=>{const D=l.threads.find(ie=>String(ie.thread_id)===String(a))||null;m(D)},[a,l.threads]);const[v,g]=w.useState([]),[x,j]=w.useState(!0),[p,y]=w.useState(null),[f,_]=w.useState(""),[k,T]=w.useState(!1),[P,F]=w.useState(null),L=w.useRef(null);w.useEffect(()=>{L.current&&setTimeout(()=>{var D;return(D=L.current)==null?void 0:D.scrollIntoView({behavior:"smooth"})},40)},[v.length]);const z=async()=>{if(!o.token)throw new Error("Not authenticated");if(!s)throw new Error("Thread ID numeric required");const D=await H.get(`${Kv}/inbox/${s}`,{headers:{Authorization:`Bearer ${o.token}`}});if(!Array.isArray(D.data))throw new Error("Unexpected server response");const ie=D.data.map(Se=>{const Te=mf.safeParse(Se);if(Te.success)return Te.data;throw new Error("Invalid message object from backend")});return ie.length>0&&(d?d.updated_at!==ie[ie.length-1].sent_at&&m({...d,updated_at:ie[ie.length-1].sent_at}):m({thread_id:ie[0].thread_id,villa_id:null,booking_id:null,participant_user_id:null,last_message_preview:ie[ie.length-1].content||"",unread_count:0,updated_at:ie[ie.length-1].sent_at})),typeof h=="function"&&h(a,ie),ie},{data:I,isLoading:Z,isError:E,error:$,refetch:C}=xe({queryKey:["threadMessages",a,o.token],queryFn:z,enabled:!!s&&!!o.is_authenticated,staleTime:1e4,refetchOnWindowFocus:!1});w.useEffect(()=>{I&&(g(I),y(null),j(!1)),E&&(g([]),y(($==null?void 0:$.message)||"Could not load messages."),j(!1)),Z&&j(!0)},[I,E,$,Z]),w.useEffect(()=>{o.token&&c(o.token)},[o.token]),w.useEffect(()=>{if(u&&u.type==="message_new"&&u.payload&&String(u.payload.thread_id)===String(a)){const D=u.payload,ie=mf.safeParse(D);ie.success&&g(Se=>{if(Se.some(Ve=>Ve.message_id===ie.data.message_id))return Se;const Te=[...Se,ie.data].sort((Ve,kt)=>new Date(Ve.sent_at).getTime()-new Date(kt.sent_at).getTime());return typeof h=="function"&&h(a,Te),Te})}},[u,a,h]),Rt();const b=qe({mutationFn:async D=>{if(!o.token)throw new Error("Not authenticated; login to send messages.");if(!D.trim())throw new Error("Cannot send an empty message.");if(!s)throw new Error("Thread ID numeric required");const ie=await H.post(`${Kv}/inbox/${s}`,{content:D},{headers:{Authorization:`Bearer ${o.token}`}}),Se=mf.safeParse(ie.data);if(!Se.success)throw new Error("Invalid message data from server.");return Se.data},onMutate:()=>{T(!0),F(null)},onSuccess:D=>{g(ie=>{const Se=[...ie,D].sort((Te,Ve)=>new Date(Te.sent_at).getTime()-new Date(Ve.sent_at).getTime());return typeof h=="function"&&h(a,Se),Se}),_(""),T(!1),F(null)},onError:D=>{T(!1),F((D==null?void 0:D.message)||"Could not send message.")},onSettled:()=>{T(!1)}}),S=D=>{D.preventDefault(),!(k||!f.trim())&&b.mutate(f)},R=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),!k&&f.trim()&&b.mutate(f))},M=()=>{e("/guest/login")},q=()=>{const D=d;return D?i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-3 flex flex-wrap items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-blue-900",children:D.booking_id!==null&&D.booking_id!==void 0?i.jsx(i.Fragment,{children:i.jsxs("span",{children:["Booking conversation",i.jsx(V,{to:`/reservation/${D.booking_id}`,className:"text-blue-700 underline",children:"(view reservation)"})]})}):D.villa_id!==null&&D.villa_id!==void 0?i.jsx(i.Fragment,{children:i.jsxs("span",{children:["Inquiry for",i.jsxs(V,{to:`/villa/${D.villa_id}`,className:"text-blue-700 underline",children:["villa #",D.villa_id]})]})}):i.jsx("span",{children:"Direct message conversation"})}),i.jsxs("span",{className:"text-xs text-blue-600 mt-1",children:["Updated: ",Yv(D.updated_at||new Date)]})]}),D.booking_id===null&&D.villa_id!==null&&D.villa_id!==void 0?i.jsx(V,{to:`/villa/${D.villa_id}`,className:"ml-2 inline-block rounded bg-blue-600 px-5 py-2 text-sm font-semibold text-white hover:bg-blue-800 transition",children:"Book Now"}):null]}):i.jsx("div",{className:"bg-gray-100 rounded-lg p-4 mb-3 text-gray-700 text-center",children:i.jsx("span",{children:"Conversation: Unknown context"})})},W=!!o&&!!o.token&&!!o.is_authenticated,Y=typeof o.user_id=="number"?String(o.user_id):o.user_id||"",[A,K]=w.useState(null);let ee=A;try{a||(ee="Thread not specified")}catch(D){ee=(D==null?void 0:D.message)||"Unknown error"}return i.jsx(i.Fragment,{children:ee?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[i.jsx("div",{className:"text-red-600 text-2xl font-semibold mb-3",children:"Error"}),i.jsx("div",{className:"mb-6 text-gray-700",children:ee}),i.jsx("button",{className:"bg-blue-600 text-white rounded px-4 py-2",onClick:()=>window.location.href="/inbox",children:"Back to Inbox"})]}):W?i.jsxs("div",{className:"max-w-2xl flex flex-col mx-auto h-[calc(100vh-7rem)] md:h-[calc(100vh-8rem)] p-2 relative",children:[q(),i.jsx("div",{className:"flex-1 overflow-y-auto w-full pb-3",style:{scrollbarWidth:"thin"},children:x?i.jsx("div",{className:"flex flex-col gap-2 p-3",children:[...Array(6)].map((D,ie)=>i.jsx("div",{className:"animate-pulse bg-slate-100 rounded-lg h-8 w-3/4 mx-auto"},ie))}):p?i.jsxs("div",{className:"text-red-500 p-4 text-center",children:[p,i.jsx("button",{className:"ml-3 text-blue-700 underline",onClick:()=>C(),children:"Retry"})]}):v.length===0?i.jsxs("div",{className:"p-8 text-gray-500 text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),"No messages yet in this conversation."]}):i.jsxs("div",{className:"flex flex-col gap-2",children:[v.sort((D,ie)=>new Date(D.sent_at).getTime()-new Date(ie.sent_at).getTime()).map((D,ie)=>{const Se=Y&&String(D.sender_user_id)===String(Y);return i.jsx("div",{className:`flex ${Se?"justify-end items-end":"justify-start items-start"}`,children:i.jsxs("div",{className:`relative max-w-[80%] px-4 py-2 rounded-lg shadow ${Se?"bg-blue-600 text-white ml-8":"bg-gray-100 text-gray-900 mr-8"}`,children:[i.jsx("div",{className:"whitespace-pre-line break-words",children:D.content}),i.jsx("div",{className:`absolute -bottom-5 right-2 text-xs text-gray-400 select-none ${Se?"text-white/70":"text-gray-500"}`,children:Yv(D.sent_at)})]})},D.message_id)}),i.jsx("div",{ref:L})]})}),i.jsxs("div",{className:"sticky bottom-0 left-0 bg-white py-2 px-1 mt-1 border-t border-gray-200",children:[i.jsxs("form",{className:"flex gap-2 items-end",onSubmit:S,autoComplete:"off",children:[i.jsx("label",{htmlFor:"msgTextarea",className:"sr-only",children:"Type your message"}),i.jsx("textarea",{id:"msgTextarea",className:"flex-1 border rounded-md px-2 py-2 resize-none min-h-[38px] max-h-24 text-base bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 ring-blue-100",value:f,onChange:D=>_(D.target.value),onKeyDown:R,rows:1,placeholder:"Type your message",disabled:k||!W,tabIndex:0,autoFocus:!0,"aria-label":"Type your message",spellCheck:!0}),i.jsxs("button",{type:"submit",className:"rounded inline-flex items-center px-5 py-2 font-semibold text-sm bg-blue-700 text-white disabled:bg-blue-300 transition",disabled:k||!W||!(f.trim().length>0),tabIndex:0,"aria-label":"Send message",children:[k?i.jsx("span",{className:"animate-spin mr-2 w-4 h-4 border-2 border-white border-b-transparent rounded-full"}):null,"Send"]})]}),P?i.jsx("div",{className:"text-red-600 text-sm mt-2",children:P}):null]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[i.jsx("div",{className:"text-blue-600 text-xl font-semibold mb-3",children:"Sign in to view or send messages."}),i.jsxs("div",{className:"mb-6 text-gray-700",children:["Please"," ",i.jsx("button",{className:"underline text-blue-700",type:"button",onClick:M,children:"login"})," ","to continue."]})]})})},Ds=25,V6=()=>{const e=cn().bookingId??"",r=e&&!Number.isNaN(Number(e))?Number(e):null,n=ae(f=>f.user_session),[s,a]=w.useState(0),[o,l]=w.useState(""),[c,u]=w.useState(!1),[h,d]=w.useState(null),[m,v]=w.useState(!1),g=(n==null?void 0:n.is_authenticated)&&!!n.token,x=g&&!!r&&s>=1&&s<=5&&o.trim().length>=Ds,j=qe({mutationFn:async f=>(await H.post(`https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/booking/${encodeURIComponent(f.booking_id)}/review`,{booking_id:f.booking_id,rating:f.rating,text:f.text.trim()},{headers:{Authorization:`Bearer ${n.token}`,"Content-Type":"application/json"}})).data,onMutate:()=>{v(!0)},onSuccess:()=>{u(!0),d(null)},onError:f=>{var k;let _="Something went wrong.";f&&f.response&&typeof((k=f.response.data)==null?void 0:k.error)=="string"&&(_=f.response.data.error),d(_)},onSettled:()=>{v(!1)}}),p=f=>{if(f.preventDefault(),d(null),!x){d(s?o.trim().length<Ds?`Comment must be at least ${Ds} characters.`:g?"Invalid form. Check fields.":"You must be logged in to leave a review.":"Please select a star rating (15).");return}if(!r){d("Invalid booking reference.");return}j.mutate({booking_id:r,rating:s,text:o.trim()})},y=()=>i.jsx("div",{className:"flex flex-row items-center gap-2 mt-1",children:[1,2,3,4,5].map(f=>i.jsx("button",{type:"button",className:`p-1 focus:outline-none ${s>=f?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,"aria-label":`Rate ${f} star${f!==1?"s":""}`,disabled:c||m,onClick:()=>a(f),children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:s>=f?"currentColor":"none",className:"h-8 w-8 transition-all",stroke:"currentColor",strokeWidth:s>=f?0:1.5,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.437 4.402a1 1 0 00.95.69h4.624c.969 0 1.371 1.24.588 1.81l-3.742 2.718a1 1 0 00-.364 1.118l1.437 4.402c.299.921-.755 1.688-1.539 1.118l-3.742-2.718a1 1 0 00-1.176 0l-3.742 2.718c-.783.57-1.838-.197-1.539-1.118l1.437-4.402a1 1 0 00-.364-1.118L2.44 9.829c-.783-.57-.38-1.81.588-1.81h4.624a1 1 0 00.95-.69l1.437-4.402z"})})},f))});return e?g?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-2xl mx-auto pt-10 pb-20 px-4",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-10",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Leave a Review"}),i.jsxs("p",{className:"mt-2 text-gray-600",children:["Thanks for staying!",i.jsx("br",{}),"Share your experience: leave a star rating (15) and at least"," ",Ds," characters of feedback. You may edit your review within 48 hours after submission."]})]}),h&&i.jsxs("div",{className:"mb-4 rounded bg-red-50 border border-red-200 px-4 py-2 text-red-700",children:[i.jsx("span",{className:"font-semibold",children:"Error:"})," ",h]}),c?i.jsx("div",{className:"w-full bg-green-50 border border-green-200 rounded-xl py-8 px-5 text-center shadow mt-8",children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[i.jsxs("svg",{className:"w-14 h-14 text-green-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:2,fill:"none"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12l2.5 2.5L16 9",stroke:"currentColor",strokeWidth:2.5,fill:"none"})]}),i.jsx("h2",{className:"font-bold text-green-700 text-2xl",children:"Thank you for your review!"}),i.jsxs("p",{className:"text-green-700 font-medium mb-3",children:["Your feedback helps future guests and hosts.",i.jsx("br",{}),"You can edit your review for up to 48 hours from now from your trips list."]}),i.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[i.jsx(V,{to:"/guest/my-trips",className:"inline-block rounded px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 font-semibold",children:"Back to My Trips"}),i.jsx(V,{to:"/",className:"inline-block rounded px-4 py-2 bg-gray-200 text-gray-800 hover:bg-gray-300 font-semibold",children:"Home"})]})]})}):i.jsxs("form",{className:"max-w-2xl mx-auto flex flex-col gap-5 bg-white shadow border border-gray-100 rounded-xl p-7",onSubmit:p,"aria-disabled":c,children:[i.jsxs("label",{className:"block mb-0.5 font-semibold text-gray-800 text-lg",children:["Star Rating ",i.jsx("span",{className:"text-red-500",children:"*"})]}),y(),i.jsx("span",{className:`text-sm mt-1 ${s>=1?"text-green-600 font-medium":"text-gray-400"}`,children:s>0?["1 (Very poor)","2 (Poor)","3 (Average)","4 (Very good)","5 (Excellent)"][s-1]:"Select a rating"}),i.jsxs("label",{htmlFor:"review_comment",className:"block mb-0.5 font-semibold text-gray-800 text-lg mt-5",children:["Your Review ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"review_comment",rows:6,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-lg focus:outline-none focus:ring focus:border-blue-300 resize-none disabled:opacity-60",maxLength:4096,minLength:Ds,placeholder:"Share your thoughts: what you loved, tips for future guests, or improvements...",value:o,disabled:c||m,onChange:f=>l(f.target.value),required:!0}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[i.jsx("span",{children:o.length<Ds?`At least ${Ds-o.length} more characters required`:"Minimum length reached"}),i.jsxs("span",{children:[o.length,"/4096"]})]}),i.jsxs("button",{type:"submit",className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-5 rounded-lg transition-colors duration-150 shadow disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:!x||c||m,children:[m&&i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Submit Review"]}),i.jsxs("div",{className:"text-xs text-gray-500 pt-2",children:["By submitting your feedback, you agree that your review may be visible to other users.",i.jsx("br",{}),i.jsx("span",{className:"block text-gray-400 mt-2",children:"You can edit or update your review for 48 hours after submission from your Trips page."})]})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto pt-16 pb-24 px-4",children:[i.jsx("div",{className:"rounded-md bg-yellow-50 border border-yellow-200 p-5 text-yellow-800 text-lg font-semibold shadow",children:"You must be logged in to leave a review."}),i.jsxs("div",{className:"mt-6",children:[i.jsx(V,{to:"/guest/login",className:"underline text-blue-700 hover:text-blue-500",children:"Log In"}),i.jsx("span",{children:" or "}),i.jsx(V,{to:"/guest/signup",className:"underline text-blue-700 hover:text-blue-500",children:"Sign Up"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto pt-16 pb-24 px-4",children:[i.jsx("div",{className:"rounded-md bg-red-50 border border-red-200 p-5 text-red-700 text-lg font-semibold shadow",children:"Error: No booking selected for review."}),i.jsx("div",{className:"mt-6",children:i.jsx(V,{to:"/guest/my-trips",className:"underline text-blue-700 hover:text-blue-500",children:"Return to My Trips"})})]})})},Gv="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",Jv=48*60*60*1e3,H6=60*60*1e3,Z6=()=>{const{reviewId:t}=cn(),e=ae(S=>S.user_session.token),r=et(),[n,s]=w.useState(1),[a,o]=w.useState(""),[l,c]=w.useState(!1),[u,h]=w.useState(""),[d,m]=w.useState(!1),[v,g]=w.useState(null),[x,j]=w.useState(!1),[p,y]=w.useState(!1),[f,_]=w.useState(0),k=Rt(),{data:T,isLoading:P,isError:F,error:L,refetch:z}=xe({queryKey:["review",t,e],queryFn:async()=>{if(!t)throw new Error("Invalid review_id");const S=await H.get(`${Gv}/review/${t}`,{headers:e?{Authorization:`Bearer ${e}`}:{}}),R=Np.safeParse(S.data);if(!R.success)throw new Error("Malformed review response");return R.data},enabled:!!t&&!!e,staleTime:10*60*1e3,retry:1,onSuccess:S=>{s(Number.isInteger(S.rating)&&S.rating>=1&&S.rating<=5?S.rating:1),o(S.text??""),c(!!S.is_edited),h(S.updated_at?new Date(S.updated_at).toISOString():"");const R=S.updated_at?new Date(S.updated_at).getTime():0,M=Date.now(),q=R+Jv;_(q-M),y(M>q),g(null)},onError:S=>{g("Unable to load review for editing.")}});w.useEffect(()=>{if(u){const S=setInterval(()=>{const M=new Date(u).getTime()+Jv,q=Date.now();_(M-q),y(q>M)},6e4);return()=>clearInterval(S)}},[u]),w.useEffect(()=>{e||r("/guest/login?to="+encodeURIComponent(window.location.pathname),{replace:!0})},[e,r]);const I=qe(async({rating:S,text:R})=>{if(!t)throw new Error("Missing review id");m(!0),g(null);const M=Number.isInteger(S)&&S>=1&&S<=5?S:1,q=await H.patch(`${Gv}/review/${t}`,{rating:M,text:R},{headers:e?{Authorization:`Bearer ${e}`}:{}}),W=Np.safeParse(q.data);if(!W.success)throw new Error("Malformed response on save");return W.data},{onSuccess:S=>{j(!0),y(!0),c(!0),m(!1),s(S.rating),o(S.text??""),g(null),k.invalidateQueries({queryKey:["review",t]}),k.invalidateQueries({queryKey:["my_reviews"]})},onError:S=>{var R,M;m(!1),(M=(R=S==null?void 0:S.response)==null?void 0:R.data)!=null&&M.error?g(S.response.data.error):g("Failed to update review. Please try again.")}}),Z=f>0?Math.floor(f/(60*1e3)):0,E=f>0?Math.floor(f/(60*60*1e3)):0,$=S=>{!p&&!d&&Number.isInteger(S)&&S>=1&&S<=5&&s(S)},C=S=>{!p&&!d&&o(S.target.value)},b=S=>{if(S.preventDefault(),!(p||d)){if(!Number.isInteger(n)||n<1||n>5){g("Rating must be an integer between 1 and 5.");return}if(a.trim().length===0){g("Review text cannot be empty.");return}g(null),I.mutate({rating:n,text:a.trim()})}};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-xl mx-auto py-10 px-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Edit Your Review"}),P&&i.jsxs("div",{className:"flex flex-col items-center py-12",children:[i.jsx("span",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-primary-500 border-gray-200"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading review..."})]}),v&&i.jsx("div",{className:"bg-red-50 border border-red-300 text-red-700 px-4 py-2 rounded mb-4",children:v}),F&&i.jsxs("div",{className:"bg-red-100 text-red-700 px-4 py-4 rounded shadow mb-8",children:[i.jsx("p",{children:"Unable to load review. The review may not exist, or you may not have access."}),i.jsx(V,{to:"/guest/my-trips",className:"mt-4 inline-block underline text-primary-600",children:"Back to My Trips"})]}),!P&&T&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[p?i.jsxs("div",{className:"flex items-center text-yellow-700 bg-yellow-100 border border-yellow-200 px-4 py-3 rounded mb-1",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"})}),i.jsx("span",{children:"The 48-hour edit window for this review has expired. You cannot make further changes."})]}):i.jsxs("div",{className:"flex items-center text-blue-800 bg-blue-100 border border-blue-200 px-4 py-3 rounded mb-1",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"})}),i.jsxs("span",{children:["You may edit your review within ",i.jsx("b",{children:"48 hours"})," after posting."," ",Z>0&&i.jsxs("span",{children:[E>0?i.jsxs(i.Fragment,{children:[i.jsx("b",{children:E})," hour",E!==1&&"s"]}):i.jsx(i.Fragment,{children:i.jsxs("span",{className:"text-red-700",children:[i.jsx("b",{children:Z})," minutes"]})})," ","remaining."]})]})]}),f>0&&f<H6&&!p&&i.jsx("div",{className:"mt-2 text-sm bg-red-50 text-red-800 p-2 rounded border border-red-200",children:"Warning: Less than 1 hour left to edit your review."}),l&&i.jsxs("span",{className:"inline-flex items-center bg-gray-100 border border-gray-300 rounded px-2 py-0.5 ml-1 text-xs text-gray-700 ml-0.5",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5 9V7a4 4 0 114 4h-2a2 2 0 11-2-2h2V9a2 2 0 11-2-2v2H7a4 4 0 11-4-4h2a2 2 0 112-2H5a4 4 0 110 8z"})}),"Edited"]})]}),x&&i.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-4 rounded mb-4 flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold mb-0.5",children:"Your review has been updated."}),i.jsxs("p",{className:"text-sm",children:["Thank you!"," ",i.jsx(V,{to:"/guest/my-trips",className:"underline text-green-700 ml-1",children:"Back to My Trips"})]})]})]}),i.jsxs("form",{onSubmit:b,className:`space-y-7 mt-6 ${p||x?"opacity-60 pointer-events-none select-none":""}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-semibold mb-2",children:"Your rating"}),i.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(S=>i.jsx("button",{type:"button","aria-label":`Set rating ${S}`,className:`p-0.5 transition ${S<=n?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,disabled:p||d,onClick:()=>$(S),tabIndex:p?-1:0,children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.222 3.764a1 1 0 00.95.69h3.963c.969 0 1.371 1.24.588 1.81l-3.206 2.33a1 1 0 00-.364 1.118l1.222 3.764c.3.921-.755 1.688-1.539 1.118l-3.206-2.33a1 1 0 00-1.175 0l-3.206 2.33c-.783.57-1.838-.197-1.539-1.118l1.222-3.764a1 1 0 00-.364-1.118l-3.206-2.33c-.783-.57-.38-1.81.588-1.81h3.963a1 1 0 00.95-.69l1.222-3.764z"})})},S))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"review-content",className:"block font-semibold mb-2",children:"Review text"}),i.jsx("textarea",{id:"review-content",rows:6,className:"block w-full border border-gray-300 rounded px-3 py-2 text-base focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-400 placeholder-gray-400",placeholder:"Share your experience of your stay...",value:a,onChange:C,disabled:p||d,maxLength:4096,minLength:10,required:!0}),i.jsxs("div",{className:"flex justify-end mt-1 text-xs text-gray-500",children:[a.length,"/4096 characters"]})]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-4",children:[i.jsx("button",{type:"submit",className:`bg-primary-600 text-white rounded font-bold px-6 py-2 shadow hover:bg-primary-700 focus:outline-none transition ${d?"opacity-60 cursor-not-allowed":""}`,disabled:p||d||x,"aria-disabled":p||d||x,children:d?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin w-5 h-5 mr-2 text-white inline",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Saving..."]}):"Save Changes"}),i.jsx(V,{to:"/guest/my-trips",className:"rounded px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium border border-gray-200",tabIndex:0,children:"Cancel"})]})]})]})]})})},zd="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",Q6=async t=>{const{data:e}=await H.get(`${zd}/account/my_trips`,{headers:{Authorization:`Bearer ${t}`}});return{bookings_upcoming:(e.upcoming??[]).map(r=>nr.parse(r)),bookings_past:(e.past??[]).map(r=>nr.parse(r)),bookings_cancelled:(e.cancelled??[]).map(r=>nr.parse(r))}},K6=async({villa_id:t})=>{try{const{data:e}=await H.get(`${zd}/villa/${t}`);return ma.parse(e)}catch{return null}},Y6=async({booking_id:t,token:e})=>{const{data:r}=await H.delete(`${zd}/bookings/${t}`,{headers:{Authorization:`Bearer ${e}`}});return nr.parse(r)},G6=async({booking_id:t,token:e,checkin_date:r,checkout_date:n,num_guests:s})=>{const{data:a}=await H.patch(`${zd}/bookings/${t}`,{checkin_date:r,checkout_date:n,num_guests:s},{headers:{Authorization:`Bearer ${e}`}});return nr.parse(a)},Xv={upcoming:"Upcoming",past:"Past",cancelled:"Cancelled"},J6=t=>{switch(t){case"pending":return"Pending";case"requested":return"Requested";case"confirmed":return"Confirmed";case"completed":return"Completed";case"cancelled":return"Cancelled";case"rejected":return"Rejected";case"modified":return"Modified";default:return t}},X6=()=>{const t=ae(E=>E.user_session.token),e=ae(E=>E.user_session.is_authenticated),r=et(),n=Rt(),[s,a]=w.useState("upcoming"),[o,l]=w.useState({}),[c,u]=w.useState({}),[h,d]=w.useState({}),[m,v]=w.useState({}),{data:g,isLoading:x,isError:j,error:p,refetch:y}=xe(["my_trips",t],()=>{if(!t)throw new Error("No token");return Q6(t)}),f=w.useMemo(()=>[...(g==null?void 0:g.bookings_upcoming)??[],...(g==null?void 0:g.bookings_past)??[],...(g==null?void 0:g.bookings_cancelled)??[]],[g]),_=Array.from(new Set(f.map(E=>Number(E.villa_id)).filter(E=>!Number.isNaN(E)))),k=Om({queries:_.map(E=>({queryKey:["villa",E],queryFn:()=>K6({villa_id:E}),enabled:!!E,staleTime:1e3*60*60}))}),T={};_.forEach((E,$)=>{var C;T[String(E)]=((C=k[$])==null?void 0:C.data)===void 0?null:k[$].data});const P=qe({mutationFn:async E=>{if(!t)throw new Error("Missing token");return await Y6({booking_id:Number(E),token:t})},onMutate:E=>{l($=>({...$,[E]:!0})),u($=>({...$,[E]:null}))},onSuccess:(E,$)=>{l(C=>({...C,[$]:!1})),n.invalidateQueries({queryKey:["my_trips"]})},onError:(E,$)=>{var b,S;l(R=>({...R,[$]:!1}));const C=((S=(b=E==null?void 0:E.response)==null?void 0:b.data)==null?void 0:S.error)||(E==null?void 0:E.message)||"Error cancelling booking";u(R=>({...R,[$]:C}))}}),F=qe({mutationFn:async({booking_id:E,checkin_date:$,checkout_date:C,num_guests:b})=>{if(!t)throw new Error("Missing token");return await G6({booking_id:Number(E),token:t,checkin_date:$,checkout_date:C,num_guests:b})},onMutate:({booking_id:E})=>{l($=>({...$,[E]:!0})),u($=>({...$,[E]:null}))},onSuccess:(E,$)=>{l(C=>({...C,[$.booking_id]:!1})),d(C=>({...C,[$.booking_id]:!1})),n.invalidateQueries({queryKey:["my_trips"]})},onError:(E,$)=>{var b,S;l(R=>({...R,[$.booking_id]:!1}));const C=((S=(b=E==null?void 0:E.response)==null?void 0:b.data)==null?void 0:S.error)||(E==null?void 0:E.message)||"Error modifying booking";u(R=>({...R,[$.booking_id]:C}))}}),L=E=>{P.mutate(E)},z=E=>{d($=>({...$,[E.booking_id]:!$[E.booking_id]})),v($=>({...$,[E.booking_id]:{checkin_date:E.checkin_date,checkout_date:E.checkout_date,num_guests:E.num_guests}}))},I=E=>{const{checkin_date:$,checkout_date:C,num_guests:b}=m[E];if(!$||!C||!b){u(S=>({...S,[E]:"All fields are required"}));return}F.mutate({booking_id:E,checkin_date:$,checkout_date:C,num_guests:b})},Z=w.useMemo(()=>g?s==="upcoming"?g.bookings_upcoming:s==="past"?g.bookings_past:s==="cancelled"?g.bookings_cancelled:[]:[],[g,s]);return ge.useEffect(()=>{e||r("/guest/login")},[e,r]),i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-4xl mx-auto pt-8 pb-20 px-2 sm:px-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"My Trips"}),i.jsxs("div",{className:"flex space-x-2 mb-8 border-b",children:[["upcoming","past","cancelled"].map(E=>i.jsxs("button",{className:`px-4 py-2 border-b-2 font-medium transition-colors ${s===E?"border-primary-600 text-primary-700":"border-transparent text-gray-500 hover:text-primary-500"}`,onClick:()=>a(E),"data-testid":`tab-${E}`,type:"button",children:[Xv[E],g&&(E==="upcoming"&&g.bookings_upcoming.length>0?i.jsxs("span",{className:"ml-1 text-xs text-primary-700 font-bold",children:["(",g.bookings_upcoming.length,")"]}):E==="past"&&g.bookings_past.length>0?i.jsxs("span",{className:"ml-1 text-xs text-primary-700 font-bold",children:["(",g.bookings_past.length,")"]}):E==="cancelled"&&g.bookings_cancelled.length>0?i.jsxs("span",{className:"ml-1 text-xs text-primary-700 font-bold",children:["(",g.bookings_cancelled.length,")"]}):null)]},E)),i.jsx("button",{className:"ml-auto px-3 py-2 text-xs font-semibold rounded hover:bg-gray-100 text-gray-500",onClick:()=>y(),type:"button",children:"Refresh"})]}),x?i.jsx("div",{className:"py-32 text-center text-lg text-primary-600 font-medium animate-pulse",children:"Loading your trips..."}):j?i.jsxs("div",{className:"py-32 text-center text-red-600 font-bold",children:["Unable to load your trips. Please try again.",p instanceof Error&&i.jsx("div",{className:"mt-2 text-sm font-mono text-gray-500",children:p.message}),i.jsx("button",{className:"block mx-auto mt-4 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",onClick:()=>y(),type:"button",children:"Retry"})]}):Z.length===0?i.jsxs("div",{className:"w-full min-h-32 flex flex-col items-center justify-center py-20 text-center",children:[i.jsx("img",{src:"https://picsum.photos/seed/vacationempty1/180/110",alt:"Plan next trip",className:"mx-auto rounded mb-4 shadow",width:180,height:110}),i.jsx("div",{className:"text-lg text-gray-800 font-semibold mb-2",children:"Plan your next beach escape"}),i.jsxs("div",{className:"text-gray-500 mb-6",children:["You have no ",Xv[s].toLowerCase()," trips yet."]}),i.jsx(V,{to:"/search",className:"inline-block px-5 py-2 bg-primary-600 text-white rounded-lg text-base shadow hover:bg-primary-700 transition",children:"Discover Villas"})]}):i.jsx("div",{className:"space-y-6",children:Z.map(E=>{var q,W,Y;const $=T[String(E.villa_id)],C=!!o[E.booking_id],b=c[E.booking_id],S=s==="upcoming"&&E.status!=="cancelled"&&E.status!=="completed",R=s==="upcoming"&&E.status!=="cancelled"&&E.status!=="completed",M=s==="past"&&E.status==="completed";return i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm flex flex-col sm:flex-row","data-testid":`booking-card-${E.booking_id}`,children:[i.jsx("div",{className:"sm:w-48 w-full flex-shrink-0",children:$&&$.main_photo_url?i.jsx("img",{src:$.main_photo_url,alt:$.title,className:"h-36 w-full object-cover rounded-t-lg sm:rounded-l-lg sm:rounded-t-none",width:192,height:144,loading:"lazy"}):i.jsx("img",{src:`https://picsum.photos/seed/villa${E.villa_id}/200/150`,alt:"Villa",className:"h-36 w-full object-cover rounded-t-lg sm:rounded-l-lg sm:rounded-t-none",width:192,height:144,loading:"lazy"})}),i.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-gray-900",children:$?$.title:"Villa unavailable"}),i.jsxs("div",{className:"text-sm text-gray-600",children:[E.checkin_date,"  ",E.checkout_date,"  ",i.jsxs("span",{className:"inline ml-2 text-xs font-medium bg-gray-100 px-2 rounded",children:[E.num_guests," guest",E.num_guests!==1?"s":""]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("span",{className:"text-xs py-1 px-2 rounded bg-blue-50 text-blue-700 font-semibold",children:J6(E.status)}),E.is_instant_book&&i.jsx("span",{className:"text-xs py-1 px-2 rounded bg-green-100 text-green-700 font-semibold",children:"Instant Book"})]})]}),i.jsxs("div",{className:"text-right mt-2 sm:mt-0",children:[i.jsxs("div",{className:"text-[15px] text-gray-700 font-semibold",children:["$",E.total_price.toFixed(2),i.jsx("span",{className:"ml-1 text-xs font-normal text-gray-400",children:"total"})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Night: $",E.nightly_price.toFixed(2)]}),i.jsxs("div",{className:"text-xs text-gray-400",children:[E.num_guests," guest",E.num_guests!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[i.jsx(V,{to:`/reservation/${E.booking_id}`,className:"px-4 py-1 bg-gray-100 text-gray-800 rounded font-medium hover:bg-gray-200 transition",children:"Details"}),S&&i.jsx("button",{className:`px-4 py-1 rounded font-medium transition
                            ${C?"bg-gray-200 text-gray-400":"bg-rose-500 text-white hover:bg-rose-600"}`,disabled:C,onClick:()=>L(E.booking_id),type:"button",children:C?"Cancelling...":"Cancel"}),R&&i.jsx("button",{className:"px-4 py-1 rounded font-medium bg-primary-100 text-primary-900 hover:bg-primary-200 transition",type:"button",onClick:()=>z(E),disabled:C,children:h[E.booking_id]?"Close":"Modify"}),i.jsx(V,{to:`/messaging?booking_id=${E.booking_id}`,className:"px-4 py-1 rounded font-medium bg-blue-50 text-blue-800 hover:bg-blue-100 transition","data-testid":`contact-host-${E.booking_id}`,children:"Contact Host"}),M&&i.jsx(V,{to:`/review/leave/${E.booking_id}`,className:"px-4 py-1 rounded font-medium bg-yellow-50 text-yellow-800 hover:bg-yellow-100 transition",children:"Leave Review"}),(s==="past"||s==="cancelled")&&$&&i.jsx(V,{to:`/villa/${$.villa_id}`,className:"px-4 py-1 rounded font-medium bg-teal-50 text-teal-900 hover:bg-teal-100 transition",children:"Book Again"})]}),b&&i.jsx("div",{className:"mt-2 text-xs text-red-600",children:b}),h[E.booking_id]&&i.jsxs("div",{className:"mt-4 bg-gray-50 border p-4 rounded-lg w-full",children:[i.jsx("div",{className:"text-sm font-semibold mb-2",children:"Modify Trip"}),i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mt-2",children:["Check-in Date",i.jsx("input",{type:"date",value:((q=m[E.booking_id])==null?void 0:q.checkin_date)||"",onChange:A=>v(K=>({...K,[E.booking_id]:{...K[E.booking_id],checkin_date:A.target.value}})),className:"mt-1 block w-full border rounded px-2 py-1 text-sm",disabled:C})]}),i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mt-2",children:["Check-out Date",i.jsx("input",{type:"date",value:((W=m[E.booking_id])==null?void 0:W.checkout_date)||"",onChange:A=>v(K=>({...K,[E.booking_id]:{...K[E.booking_id],checkout_date:A.target.value}})),className:"mt-1 block w-full border rounded px-2 py-1 text-sm",disabled:C})]}),i.jsxs("label",{className:"block text-xs font-medium text-gray-700 mt-2",children:["Number of Guests",i.jsx("input",{type:"number",min:1,step:1,value:((Y=m[E.booking_id])==null?void 0:Y.num_guests)??1,onChange:A=>v(K=>({...K,[E.booking_id]:{...K[E.booking_id],num_guests:Number(A.target.value)}})),className:"mt-1 block w-full border rounded px-2 py-1 text-sm",disabled:C})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("button",{className:`px-4 py-1 rounded font-medium transition ${C?"bg-gray-200 text-gray-400":"bg-primary-600 text-white hover:bg-primary-700"}`,disabled:C,type:"button",onClick:()=>I(E.booking_id),children:C?"Saving...":"Confirm Changes"}),i.jsx("button",{className:"px-4 py-1 bg-gray-100 text-gray-700 rounded font-medium hover:bg-gray-200 transition",type:"button",disabled:C,onClick:()=>d(A=>({...A,[E.booking_id]:!1})),children:"Cancel"})]})]})]})]},E.booking_id)})})]})})},eL=[{value:null,label:"All"},{value:"requested",label:"Requested"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"},{value:"cancelled",label:"Cancelled"},{value:"modified",label:"Modified"}],tL={paid:"text-green-600 bg-green-100",pending:"text-yellow-700 bg-yellow-100",refunded:"text-indigo-700 bg-indigo-100",failed:"text-red-700 bg-red-100"},rL={requested:"text-blue-700 bg-blue-100",pending:"text-yellow-800 bg-yellow-100",confirmed:"text-green-700 bg-green-100",completed:"text-emerald-900 bg-emerald-100",rejected:"text-red-700 bg-red-100",cancelled:"text-gray-700 bg-gray-200",modified:"text-blue-800 bg-blue-50"},wN="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",nL=async t=>{if(!t)throw new Error("Not authenticated");const e=await H.get(`${wN}/host/reservations`,{headers:{Authorization:`Bearer ${t}`}}),r=Ws(nr).safeParse(e.data);if(!r.success)throw new Error("Malformed booking data");return r.data},sL=async(t,{booking_id:e,status:r})=>{if(!["approved","rejected","cancelled"].includes(r))throw new Error("Status must be approved, rejected, or cancelled");const n=typeof e=="string"&&!isNaN(Number(e))?Number(e):e,s=await H.patch(`${wN}/host/reservations/${n}/status`,{status:r},{headers:{Authorization:`Bearer ${t}`}}),a=nr.safeParse(s.data);if(!a.success)throw new Error("Malformed booking data after update");return a.data};class iL extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){return this.state.hasError?this.props.fallback||i.jsx("div",{className:"p-8 text-center text-red-600 font-semibold",children:"An error occurred. Please reload page."}):this.props.children}}const aL=()=>{const t=ae(f=>f.user_session.token);ae(f=>f.user_session.user_id);const e=ae(f=>f.user_session.is_authenticated),r=ae(f=>f.user_session.is_host);et();const[n,s]=ge.useState(null),[a,o]=ge.useState({}),[l,c]=ge.useState({}),u=Rt(),{data:h,isLoading:d,isError:m,error:v,refetch:g}=xe({queryKey:["host_reservations"],queryFn:()=>nL(t||void 0),enabled:!!t,staleTime:1e3*60}),x=qe({mutationFn:({booking_id:f,status:_})=>sL(t,{booking_id:f,status:_}),onMutate:({booking_id:f})=>{o(_=>({..._,[f]:!0})),c(_=>({..._,[f]:null}))},onSuccess:(f,{booking_id:_})=>{u.invalidateQueries({queryKey:["host_reservations"]}),o(k=>({...k,[_]:!1})),c(k=>({...k,[_]:null}))},onError:(f,{booking_id:_})=>{o(k=>({...k,[_]:!1})),c(k=>({...k,[_]:f.message||"Failed to update reservation"}))},retry:1}),j=w.useMemo(()=>h?n?h.filter(f=>f.status===n).sort(p("checkin_date",!0)):h.slice().sort(p("checkin_date",!0)):[],[h,n]);function p(f,_=!0){return function(k,T){if(!k[f]||!T[f])return 0;if(typeof k[f]=="string"&&typeof T[f]=="string"){const P=f.toLowerCase().includes("date")&&!isNaN(Date.parse(k[f]))?Date.parse(k[f]):k[f],F=f.toLowerCase().includes("date")&&!isNaN(Date.parse(T[f]))?Date.parse(T[f]):T[f];return P>F?_?1:-1:P<F?_?-1:1:0}return typeof k[f]=="number"&&typeof T[f]=="number"?_?k[f]-T[f]:T[f]-k[f]:0}}function y(f,_){["approved","rejected","cancelled"].includes(_)&&x.mutate({booking_id:f,status:_})}return e?r?i.jsx(iL,{children:i.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between mb-5 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Reservations Manager"}),i.jsx("p",{className:"text-gray-500 max-w-xl mt-1",children:"Review, approve or reject booking requests, and track all reservation activity for your villas."})]}),i.jsxs("div",{className:"min-w-[180px] flex flex-col items-end",children:[i.jsx("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter: Status"}),i.jsx("select",{id:"filter",value:n??"",onChange:f=>s(f.target.value||null),className:"rounded border-gray-300 text-sm px-2 py-1",children:eL.map(f=>i.jsx("option",{value:f.value??"",children:f.label},f.label))})]})]}),d&&i.jsxs("div",{className:"py-16 flex justify-center text-blue-500 animate-pulse",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Loading reservations..."]}),m&&i.jsxs("div",{className:"py-4 mb-4 rounded bg-red-100 border border-red-300 text-red-800 text-center",children:[(v==null?void 0:v.message)||"Failed to load reservations.",i.jsx("button",{className:"ml-4 inline-block px-2 py-0.5 text-sm rounded bg-red-600 text-white hover:bg-red-700",onClick:()=>g(),children:"Retry"})]}),!d&&(!j||j.length===0)&&i.jsxs("div",{className:"p-10 flex flex-col items-center text-gray-500 bg-gray-50 rounded-lg border mt-8",children:[i.jsx("img",{src:`https://picsum.photos/seed/rsvp-${n||"all"}/180/100`,alt:"Empty State",className:"opacity-40 mb-3 rounded"}),i.jsxs("div",{className:"text-xl",children:["No reservations found",n?` for ${n}`:"","."]}),i.jsx("div",{className:"text-gray-400",children:"You will see booking requests and reservations appear here as they are made."})]}),j&&j.length>0&&i.jsx("div",{className:"overflow-x-auto border rounded-lg bg-white shadow-sm mt-6",children:i.jsxs("table",{className:"min-w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100 text-gray-700 border-b",children:[i.jsx("th",{className:"py-2 px-3 text-left",children:"Villa ID"}),i.jsx("th",{className:"py-2 px-3 text-left",children:"Guest"}),i.jsx("th",{className:"py-2 px-3 text-left",children:"Check-in"}),i.jsx("th",{className:"py-2 px-3 text-left",children:"Check-out"}),i.jsx("th",{className:"py-2 px-3 text-right",children:"Guests"}),i.jsx("th",{className:"py-2 px-3 text-right",children:"Total, $"}),i.jsx("th",{className:"py-2 px-3 text-center",children:"Payment"}),i.jsx("th",{className:"py-2 px-3 text-center",children:"Status"}),i.jsx("th",{className:"py-2 px-3 text-center",children:"Actions"}),i.jsx("th",{className:"py-2 px-3 text-center"})]})}),i.jsx("tbody",{children:j.map(f=>{const _=f.booking_id.toString(),k=f.villa_id.toString();return i.jsxs("tr",{className:"border-b hover:bg-blue-50 transition",children:[i.jsx("td",{className:"py-2 px-3 font-semibold text-blue-900",children:i.jsx(V,{to:`/host/villa/${k}`,className:"hover:underline",title:"View Villa",children:k})}),i.jsx("td",{className:"py-2 px-3",children:i.jsxs(V,{to:`/messaging?booking_id=${_}`,className:"inline-flex items-center text-blue-700 hover:underline",title:"Message Guest",children:[i.jsxs("span",{className:"font-semibold",children:["Guest #",f.guest_user_id.toString()]}),i.jsx("svg",{className:"w-4 h-4 ml-1 text-blue-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),i.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:i.jsx("span",{children:f.checkin_date})}),i.jsx("td",{className:"py-2 px-3 whitespace-nowrap",children:i.jsx("span",{children:f.checkout_date})}),i.jsx("td",{className:"py-2 px-3 text-right",children:f.num_guests}),i.jsx("td",{className:"py-2 px-3 text-right font-semibold text-gray-700",children:f.total_price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"py-2 px-3 text-center",children:i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-bold rounded ${tL[f.payment_status]||"bg-gray-100 text-gray-700"}`,children:f.payment_status})}),i.jsx("td",{className:"py-2 px-3 text-center",children:i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-bold rounded ${rL[f.status]||"bg-gray-200 text-gray-700"}`,children:f.status})}),i.jsxs("td",{className:"py-2 px-3 text-center",children:[(f.status==="requested"||f.status==="pending")&&i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsxs("button",{type:"button",className:"w-24 px-2 py-1 rounded font-semibold text-white bg-green-600 hover:bg-green-700 disabled:opacity-60",disabled:!!a[_],onClick:()=>y(f.booking_id,"approved"),children:[a[_]?i.jsx("span",{className:"animate-spin mr-1",children:""}):null,"Approve"]}),i.jsxs("button",{type:"button",className:"w-24 px-2 py-1 rounded font-semibold text-white bg-red-600 hover:bg-red-700 disabled:opacity-60",disabled:!!a[_],onClick:()=>y(f.booking_id,"rejected"),children:[a[_]?i.jsx("span",{className:"animate-spin mr-1",children:""}):null,"Reject"]})]}),(f.status==="confirmed"||f.status==="completed")&&i.jsxs("button",{type:"button",className:"w-24 px-2 py-1 rounded font-semibold text-white bg-gray-700 hover:bg-gray-800 disabled:opacity-50",disabled:!!a[_],onClick:()=>y(f.booking_id,"cancelled"),children:[a[_]?i.jsx("span",{className:"animate-spin mr-1",children:""}):null,"Cancel"]}),l[_]&&i.jsx("span",{className:"block mt-1 text-xs text-red-600 whitespace-pre",children:l[_]})]}),i.jsx("td",{className:"py-2 px-1 text-center",children:i.jsx(V,{to:`/host/reservation/${_}`,className:"inline-block text-blue-700 hover:underline px-1 py-0.5",title:"View reservation details",children:"Details"})})]},_)})})]})})]})}):i.jsx("div",{className:"py-24 flex justify-center items-center",children:i.jsxs("div",{className:"shadow border p-8 bg-white rounded",children:[i.jsx("div",{className:"text-lg text-gray-800",children:"This page is for hosts only."}),i.jsx(V,{to:"/",className:"block mt-4 px-4 py-2 bg-gray-100 text-blue-700 rounded hover:bg-blue-100 text-center",children:"Go to Homepage"})]})}):i.jsx("div",{className:"py-24 flex justify-center items-center",children:i.jsxs("div",{className:"shadow border p-8 bg-white rounded",children:[i.jsx("div",{className:"text-lg text-gray-800",children:"You must be logged in to view your reservations."}),i.jsx(V,{to:"/guest/login",className:"block mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-800 text-center",children:"Login as Host"})]})})},Cl="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",El=t=>t?{Authorization:`Bearer ${t}`}:{},oL=async(t,e)=>{const r=parseInt(t,10);if(isNaN(r))throw new Error("Invalid booking id");const{data:n}=await H.get(`${Cl}/bookings/${r}`,{headers:El(e)}),s=nr.safeParse(n);if(!s.success)throw new Error("Invalid booking response");return s.data},lL=async(t,e)=>{const r=typeof t=="number"?t:parseInt(t,10);if(isNaN(r))throw new Error("Invalid villa id");const{data:n}=await H.get(`${Cl}/villa/${r}`,{headers:El(e)}),s=ma.safeParse(n);if(!s.success)throw new Error("Invalid villa response");return s.data},cL=async t=>{const{data:e}=await H.get(`${Cl}/account/me`,{headers:El(t)}),r=Pi.safeParse(e);if(!r.success)throw new Error("Invalid user response");return r.data},uL=()=>{const{reservationId:t}=cn();et();const e=Rt(),r=ae(D=>D.user_session),[n,s]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(null),[u,h]=w.useState(null),{data:d,isLoading:m,isError:v,error:g,refetch:x}=xe({queryKey:["reservation",t,r.token],queryFn:()=>t?oL(t,r.token):Promise.reject(new Error("No booking id")),enabled:!!t&&!!r.token,retry:!1}),j=typeof(d==null?void 0:d.villa_id)=="string"?parseInt(d.villa_id,10):d==null?void 0:d.villa_id,{data:p,isLoading:y,isError:f,error:_}=xe({queryKey:["villa",j],queryFn:()=>j?lL(j,r.token):Promise.reject("no_villa"),enabled:!!j,retry:!1}),{data:k,isLoading:T,isError:P}=xe({queryKey:["me",r.token],queryFn:()=>cL(r.token),enabled:!!r.token,retry:!1,onSuccess:D=>{d&&D.user_id===d.guest_user_id&&c(D),d&&D.user_id===d.host_user_id&&h(D)}}),F=k&&d&&Number(k.user_id)===Number(d.guest_user_id),L=k&&d&&Number(k.user_id)===Number(d.host_user_id),z=qe({mutationFn:async()=>{if(!d||!r.token)throw new Error("Unauthorized");const{data:D}=await H.delete(`${Cl}/bookings/${Number(d.booking_id)}`,{headers:El(r.token)}),ie=nr.safeParse(D);if(!ie.success)throw new Error("Cancel failed: Bad booking response");return ie.data},onMutate:()=>{o(null)},onSuccess:D=>{e.invalidateQueries({queryKey:["reservation",t]}),s(null)},onError:D=>{o(D.message)}}),[I,Z]=w.useState(null),E=qe({mutationFn:async D=>{if(!d||!r.token)throw new Error("Unauthorized");const{data:ie}=await H.patch(`${Cl}/bookings/${Number(d.booking_id)}`,D,{headers:El(r.token)}),Se=nr.safeParse(ie);if(!Se.success)throw new Error("Modify failed: Bad booking response");return Se.data},onMutate:()=>{o(null)},onSuccess:D=>{e.invalidateQueries({queryKey:["reservation",t]}),s(null)},onError:D=>{o(D.message)}});function $(){return!(!d||!["confirmed","pending","requested"].includes(d.status)||!F&&!L)}function C(){if(!d||["cancelled","rejected","completed"].includes(d.status)||!F&&!L)return!1;const D=new Date;return!(d.checkout_date&&new Date(d.checkout_date)<D)}function b(){return!(!d||d.status!=="completed"||!F&&!L)}function S(){return d?d.status==="cancelled":!1}const R=d?{user_id:d.guest_user_id,display_name:d.guest_user_id===(k==null?void 0:k.user_id)&&(k!=null&&k.display_name)?k.display_name:"Guest",profile_photo_url:d.guest_user_id===(k==null?void 0:k.user_id)&&(k!=null&&k.profile_photo_url)?k.profile_photo_url:`https://picsum.photos/seed/g_${d.guest_user_id}/80`}:null,M=d?{user_id:d.host_user_id,display_name:d.host_user_id===(k==null?void 0:k.user_id)&&(k!=null&&k.display_name)?k.display_name:"Host",profile_photo_url:d.host_user_id===(k==null?void 0:k.user_id)&&(k!=null&&k.profile_photo_url)?k.profile_photo_url:`https://picsum.photos/seed/h_${d.host_user_id}/80`}:null,q=F&&k?{user_id:k.user_id,display_name:k.display_name||(R==null?void 0:R.display_name)||"Guest",profile_photo_url:k.profile_photo_url||(R==null?void 0:R.profile_photo_url)}:R,W=L&&k?{user_id:k.user_id,display_name:k.display_name||(M==null?void 0:M.display_name)||"Host",profile_photo_url:k.profile_photo_url||(M==null?void 0:M.profile_photo_url)}:M;!l&&q&&c(q),!u&&W&&h(W);const Y=d==null?void 0:d.checkin_date,A=d==null?void 0:d.checkout_date;let K=null;if(Y&&A){const D=new Date(Y),ie=new Date(A);ie>D&&(K=Math.round((ie.getTime()-D.getTime())/(1e3*60*60*24)))}if(m||y&&j)return i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("span",{className:"text-blue-600 font-semibold",children:"Loading reservation..."})});if(v||!d)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[i.jsx("span",{className:"text-red-600 font-bold text-xl",children:"Reservation not found."}),i.jsx(V,{to:"/guest/my-trips",className:"mt-4 text-blue-600 underline",children:"Back to My Trips"})]});if(f)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[i.jsx("span",{className:"text-red-600 font-bold",children:"Unable to load villa information."}),i.jsx("span",{className:"text-gray-500",children:_==null?void 0:_.message})]});const ee=(p==null?void 0:p.main_photo_url)||`https://picsum.photos/seed/villa_${d.villa_id}/400/240`;return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 border-b pb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:ee,alt:(p==null?void 0:p.title)||`Villa photo #${d.villa_id}`,className:"w-32 h-20 object-cover rounded-lg shadow"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg text-gray-800",children:p?i.jsx(V,{to:`/villa/${p.villa_id}`,className:"hover:underline",children:p.title}):i.jsxs("span",{children:["Villa #",d.villa_id]})}),i.jsxs("div",{className:"text-gray-500 text-sm",children:[p==null?void 0:p.address_city,", ",p==null?void 0:p.address_country]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block rounded px-2 py-1 text-xs font-semibold uppercase ${d.status==="confirmed"?"bg-green-100 text-green-700":d.status==="completed"?"bg-gray-200 text-gray-700":d.status==="cancelled"?"bg-red-100 text-red-700":d.status==="pending"?"bg-yellow-100 text-yellow-800":d.status==="requested"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:d.status}),d.is_instant_book&&i.jsx("span",{className:"ml-3 inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded font-medium",children:"Instant Book"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[b()&&i.jsx(V,{to:`/review/leave/${d.booking_id}`,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded shadow text-xs font-medium",children:"Leave Review"}),C()&&i.jsx("button",{onClick:()=>{Z({checkin_date:d.checkin_date,checkout_date:d.checkout_date,num_guests:d.num_guests}),s("modify")},className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded shadow text-xs font-medium",children:"Modify"}),$()&&i.jsx("button",{onClick:()=>s("cancel"),className:"bg-red-500 hover:bg-red-700 text-white px-4 py-2 rounded shadow text-xs font-medium",children:"Cancel"}),i.jsx(V,{to:`/messaging?booking_id=${d.booking_id}`,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded shadow text-xs font-medium",children:F?"Contact Host":"Message Guest"})]})]}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("section",{className:"col-span-1 bg-gray-50 rounded shadow p-5",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"font-semibold text-gray-700",children:"Stay Details"}),i.jsxs("div",{className:"mt-2 text-gray-600 text-sm flex flex-col gap-1",children:[i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Check-in:"})," ",i.jsx("span",{children:d.checkin_date})]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Check-out:"})," ",i.jsx("span",{children:d.checkout_date})]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Nights:"})," ",i.jsx("span",{children:K&&K>0?K:"?"})]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Guests:"})," ",d.num_guests]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"font-semibold text-gray-700",children:"Guest"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("img",{src:(q==null?void 0:q.profile_photo_url)||"https://picsum.photos/seed/guest/40",alt:`Guest: ${(q==null?void 0:q.display_name)||"Guest"}`,className:"w-10 h-10 object-cover rounded-full"}),i.jsx("span",{className:"font-medium text-sm",children:(q==null?void 0:q.display_name)||"Guest"})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-gray-700",children:"Host"}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("img",{src:(W==null?void 0:W.profile_photo_url)||"https://picsum.photos/seed/host/40",alt:`Host: ${(W==null?void 0:W.display_name)||"Host"}`,className:"w-10 h-10 object-cover rounded-full"}),i.jsx("span",{className:"font-medium text-sm",children:(W==null?void 0:W.display_name)||"Host"})]})]})]}),i.jsxs("section",{className:"col-span-1 bg-white rounded shadow p-5 border",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-3",children:"Price Breakdown"}),i.jsxs("ul",{className:"text-sm text-gray-700 mb-2",children:[i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Per night x ",K&&K>0?K:"?"]}),i.jsxs("span",{children:["$",d.nightly_price,"  ",K&&K>0?K:"?"," = $",K&&K>0?d.nightly_price*K:"--"]})]}),i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Cleaning fee"}),i.jsxs("span",{children:["$",d.cleaning_fee]})]}),i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Service fee"}),i.jsxs("span",{children:["$",d.service_fee]})]}),i.jsxs("li",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Taxes"}),i.jsxs("span",{children:["$",d.taxes]})]}),i.jsxs("li",{className:"flex justify-between font-bold border-t pt-2 mt-2",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:["$",d.total_price]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Payment:",i.jsx("span",{className:"ml-2 font-bold",children:d.payment_status==="paid"?"Paid":d.payment_status})]}),S()&&d.cancellation_reason&&i.jsxs("div",{className:"mt-4 p-2 border-l-4 border-red-400 bg-red-50 text-sm text-red-700",children:[i.jsxs("div",{className:"font-semibold",children:["Cancelled: ",d.cancellation_date?new Date(d.cancellation_date).toLocaleString():""]}),i.jsx("div",{children:d.cancellation_reason})]})]})]}),i.jsxs("div",{className:"mt-8 bg-gray-50 rounded shadow p-4",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Policies"}),i.jsxs("ul",{className:"text-gray-700 text-sm flex flex-col gap-1",children:[(p==null?void 0:p.cancellation_policy)&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Cancellation:"})," ",i.jsx("span",{className:"capitalize",children:p.cancellation_policy})]}),(p==null?void 0:p.min_nights)&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Minimum nights:"})," ",p.min_nights]}),(p==null?void 0:p.max_nights)&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Maximum nights:"})," ",p.max_nights]}),typeof(p==null?void 0:p.is_pet_friendly)=="boolean"&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Pet Friendly:"})," ",p.is_pet_friendly?"Yes":"No"]}),typeof(p==null?void 0:p.is_beachfront)=="boolean"&&i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Beachfront:"})," ",p.is_beachfront?"Yes":"No"]})]})]}),n==="cancel"&&i.jsx("div",{className:"fixed z-50 top-0 left-0 w-full h-full bg-black bg-opacity-30 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-md p-6",children:[i.jsx("div",{className:"mb-3 font-bold text-lg",children:"Cancel Reservation"}),i.jsx("div",{className:"mb-4 text-sm text-gray-700",children:"Are you sure you want to cancel this reservation?"}),a&&i.jsx("div",{className:"mb-2 text-red-600",children:a}),i.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[i.jsx("button",{onClick:()=>s(null),className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-700",disabled:z.isLoading,children:"Back"}),i.jsx("button",{className:"px-4 py-1 rounded bg-red-600 text-white font-bold hover:bg-red-800",onClick:()=>z.mutate(),disabled:z.isLoading,children:z.isLoading?"Cancelling...":"Confirm Cancel"})]})]})}),n==="modify"&&i.jsx("div",{className:"fixed z-50 top-0 left-0 w-full h-full bg-black bg-opacity-30 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-lg p-6",children:[i.jsx("div",{className:"mb-4 font-bold text-lg",children:"Modify Reservation"}),i.jsxs("form",{className:"flex flex-col gap-3",onSubmit:D=>{if(D.preventDefault(),!I)return;const ie=new Date(I.checkin_date),Se=new Date(I.checkout_date);if(!(ie<Se)){o("Check-out date must be after check-in date.");return}if(I.num_guests<1||p!=null&&p.max_guests&&I.num_guests>p.max_guests){o(`Guests must be between 1 and ${p==null?void 0:p.max_guests}`);return}o(null),E.mutate(I)},children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Check-in Date"}),i.jsx("input",{type:"date",className:"input input-bordered w-full",value:(I==null?void 0:I.checkin_date)||"",min:new Date().toISOString().substring(0,10),onChange:D=>Z(ie=>ie?{...ie,checkin_date:D.target.value}:null),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Check-out Date"}),i.jsx("input",{type:"date",className:"input input-bordered w-full",value:(I==null?void 0:I.checkout_date)||"",min:I!=null&&I.checkin_date?I.checkin_date:new Date().toISOString().substring(0,10),onChange:D=>Z(ie=>ie?{...ie,checkout_date:D.target.value}:null),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm mb-1",children:"Guests"}),i.jsx("input",{type:"number",min:1,max:(p==null?void 0:p.max_guests)||16,className:"input input-bordered w-full",value:(I==null?void 0:I.num_guests)||1,onChange:D=>Z(ie=>ie?{...ie,num_guests:Number(D.target.value)}:null),required:!0})]}),a&&i.jsx("div",{className:"mb-2 text-red-600",children:a}),i.jsxs("div",{className:"flex gap-3 justify-end mt-4",children:[i.jsx("button",{type:"button",onClick:()=>s(null),className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-700",disabled:E.isLoading,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:E.isLoading,className:"px-4 py-1 rounded bg-yellow-600 text-white font-bold hover:bg-yellow-700",children:E.isLoading?"Modifying...":"Confirm Change"})]})]})]})})]})})},uo="https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api",dL=async t=>(await H.get(`${uo}/account/wishlists`,{headers:{Authorization:`Bearer ${t}`}})).data.map(r=>({...r,wishlist_id:String(r.wishlist_id),villa_ids:Array.isArray(r.villa_ids)?r.villa_ids.map(n=>String(n)):[]})),hL=async t=>{const r=(await H.get(`${uo}/villa/${encodeURIComponent(t)}`)).data;return{villa_id:String(r.villa_id),title:r.title,address_city:r.address_city,main_photo_url:r.main_photo_url||null,price_per_night:Number(r.price_per_night),bedrooms:r.bedrooms,beds:r.beds,bathrooms:r.bathrooms,is_active:r.is_active,is_instant_book:r.is_instant_book,avg_rating:Number(r.avg_rating),reviews_count:Number(r.reviews_count)}},fL=async({name:t,token:e})=>{const n=(await H.post(`${uo}/account/wishlists`,{name:t},{headers:{Authorization:`Bearer ${e}`}})).data;return{...n,wishlist_id:String(n.wishlist_id),villa_ids:Array.isArray(n.villa_ids)?n.villa_ids.map(s=>String(s)):[]}},mL=async({wishlist_id:t,name:e,token:r})=>{const s=(await H.patch(`${uo}/account/wishlists/${encodeURIComponent(t)}`,{name:e},{headers:{Authorization:`Bearer ${r}`}})).data;return{...s,wishlist_id:String(s.wishlist_id),villa_ids:Array.isArray(s.villa_ids)?s.villa_ids.map(a=>String(a)):[]}},pL=async({wishlist_id:t,token:e})=>{const n=(await H.delete(`${uo}/account/wishlists/${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${e}`}})).data;return{...n,wishlist_id:String(n.wishlist_id),villa_ids:Array.isArray(n.villa_ids)?n.villa_ids.map(s=>String(s)):[]}},gL=async({wishlist_id:t,villa_id:e,token:r})=>{const s=(await H.delete(`${uo}/account/wishlists/${encodeURIComponent(t)}/villas/${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${r}`}})).data;return{...s,wishlist_id:String(s.wishlist_id),villa_ids:Array.isArray(s.villa_ids)?s.villa_ids.map(a=>String(a)):[]}},e_=({error:t})=>i.jsxs("div",{className:"max-w-2xl mx-auto p-6 my-12 rounded-lg bg-red-100 text-red-800 border border-red-300 shadow",children:[i.jsx("div",{className:"font-bold text-lg mb-2",children:"An error occurred loading your wishlists."}),i.jsx("div",{className:"mb-2",children:t.message}),i.jsx(V,{className:"text-blue-700 underline",to:"/",children:"Back to homepage"})]}),yL=()=>{const t=ae(C=>C.user_session),e=et();w.useEffect(()=>{t.is_authenticated||e("/guest/login")},[t.is_authenticated,e]),ae(C=>C.wishlist_state);const r=ae(C=>C.set_wishlist_state),[n,s]=w.useState(!1),[a,o]=w.useState(null),[l,c]=w.useState(null),[u,h]=w.useState(""),[d,m]=w.useState(null),[v,g]=w.useState(null),x=Rt(),{data:j,isLoading:p,isError:y,error:f,refetch:_}=xe({queryKey:["wishlists",t.user_id],enabled:!!t.token,queryFn:()=>dL(t.token),onSuccess:C=>{r&&r({wishlists:C})}}),k=w.useMemo(()=>{if(!j)return[];const C=j.filter(b=>!b.is_deleted).flatMap(b=>b.villa_ids||[]).map(b=>String(b));return Array.from(new Set(C))},[j]),T=w.useMemo(()=>k.map(C=>xe({queryKey:["villa",C],enabled:!!C,queryFn:()=>hL(C)})),[k.join(".")]),P={};T.forEach((C,b)=>{C.data&&(P[k[b]]=C.data)}),T.some(C=>C.isLoading);const F=qe({mutationFn:fL,onSuccess:()=>{x.invalidateQueries({queryKey:["wishlists",t.user_id]}),s(!1),h("")}}),L=qe({mutationFn:mL,onSuccess:()=>{x.invalidateQueries({queryKey:["wishlists",t.user_id]}),o(null),h("")}}),z=qe({mutationFn:pL,onSuccess:()=>{x.invalidateQueries({queryKey:["wishlists",t.user_id]}),c(null)}}),I=qe({mutationFn:gL,onMutate:({wishlist_id:C,villa_id:b})=>{m(C),g(b)},onSettled:()=>{m(null),g(null),x.invalidateQueries({queryKey:["wishlists",t.user_id]})}}),[Z,E]=w.useState(null),$=(j||[]).filter(C=>!C.is_deleted);return i.jsxs(i.Fragment,{children:[Z&&i.jsx(e_,{error:Z}),i.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4 flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Your Wishlists"}),i.jsx("button",{className:"bg-blue-600 text-white rounded-md px-4 py-2 font-semibold hover:bg-blue-700 transition",onClick:()=>{s(!0),h("")},children:"+ New Wishlist"})]}),!p&&$.length===0&&i.jsxs("div",{className:"w-full flex flex-col items-center justify-center mt-20",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("div",{className:"text-xl mb-2 font-semibold",children:"No wishlists yet!"}),i.jsx("div",{className:"text-gray-500 mb-4",children:"Start collecting villas for your next dreamy beach trip."}),i.jsx("button",{className:"bg-blue-700 rounded-lg px-5 py-2 text-white font-semibold shadow hover:bg-blue-800",onClick:()=>s(!0),children:"Create Your First Wishlist"})]}),i.jsx("div",{className:"max-w-5xl mx-auto px-4 grid grid-cols-1 gap-8 md:grid-cols-2 mt-8",children:p?i.jsxs("div",{className:"col-span-full flex items-center justify-center py-12",children:[i.jsx("span",{className:"animate-spin mr-2",children:""}),i.jsx("span",{className:"text-gray-600",children:"Loading wishlists..."})]}):y?i.jsx(e_,{error:f}):$.map(C=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 px-5 pt-5 pb-2 border-b",children:[i.jsx("div",{className:"font-bold text-xl truncate",children:C.name}),i.jsxs("div",{className:"flex flex-row items-center gap-3",children:[i.jsx("button",{"aria-label":"Rename Wishlist",onClick:()=>{o(C.wishlist_id),h(C.name)},className:"bg-stone-100 hover:bg-stone-200 rounded px-2 py-1 text-gray-700",children:"Rename"}),i.jsx("button",{"aria-label":"Delete Wishlist",onClick:()=>c(C.wishlist_id),className:"bg-red-100 hover:bg-red-200 rounded px-2 py-1 text-red-600",children:"Delete"})]})]}),i.jsx("div",{className:"p-5",children:C.villa_ids.length===0?i.jsx("div",{className:"italic text-gray-400 text-center",children:"Empty  Add villas to your wishlist from any villa page."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:C.villa_ids.map(b=>{var W;const S=String(b),R=P[S],M=k.findIndex(Y=>Y===S),q=M!==-1?(W=T[M])==null?void 0:W.isLoading:!1;return i.jsxs("div",{className:"relative flex flex-col border border-gray-100 rounded-lg shadow hover:shadow-md bg-gray-50",children:[q&&i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[140px] bg-gray-100 rounded animate-pulse",children:[i.jsx("div",{className:"w-full h-24 rounded bg-gray-200 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 w-2/3 rounded mb-1"}),i.jsx("div",{className:"h-3 bg-gray-200 w-1/2 rounded"})]}),!q&&R&&i.jsxs(i.Fragment,{children:[i.jsxs(V,{to:`/villa/${R.villa_id}`,className:"group",children:[i.jsx("div",{className:"w-full h-36 rounded-t-lg overflow-hidden bg-stone-200",children:R.main_photo_url?i.jsx("img",{src:R.main_photo_url,alt:R.title,className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-200"}):i.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200 text-gray-400 text-2xl",children:""})}),i.jsxs("div",{className:"px-3 py-2 flex flex-col",children:[i.jsx("div",{className:"font-bold text-md truncate",children:R.title}),i.jsx("div",{className:"text-sm text-gray-600 truncate",children:R.address_city}),i.jsxs("div",{className:"flex flex-row items-center space-x-1 text-xs text-gray-500 mt-1",children:[i.jsxs("span",{children:[R.bedrooms," bd"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[R.beds," beds"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[R.bathrooms," ba"]})]}),i.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[i.jsxs("span",{className:"text-blue-800 font-semibold",children:["$",R.price_per_night,"/night"]}),R.is_instant_book&&i.jsx("span",{className:"text-green-700 text-xs font-medium px-2 py-0.5 bg-green-100 rounded",children:"Instant Book"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-yellow-600",children:[i.jsxs("span",{children:[" ",(R.avg_rating||0).toFixed(2)]}),i.jsxs("span",{children:["(",R.reviews_count," reviews)"]})]})]})]}),i.jsx("button",{onClick:()=>I.mutate({wishlist_id:String(C.wishlist_id),villa_id:String(R.villa_id),token:t.token}),"aria-label":"Remove villa from wishlist",disabled:I.isLoading&&d===String(C.wishlist_id)&&v===String(R.villa_id),className:`absolute top-2 right-2 bg-white border border-red-300 hover:bg-red-100 text-red-600 px-2 py-1 rounded text-xs z-10 ${I.isLoading&&d===String(C.wishlist_id)&&v===String(R.villa_id)?"opacity-60 pointer-events-none":""}`,children:I.isLoading&&d===String(C.wishlist_id)&&v===String(R.villa_id)?i.jsx("span",{className:"animate-spin",children:""}):"Remove"})]})]},S)})})})]},C.wishlist_id))}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative",children:[i.jsx("button",{className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",onClick:()=>s(!1),"aria-label":"Close",children:""}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Create New Wishlist"}),i.jsxs("form",{onSubmit:C=>{C.preventDefault(),!(u.trim().length<2)&&F.mutate({name:u.trim(),token:t.token})},children:[i.jsx("input",{className:"border rounded px-3 py-2 w-full mb-3 outline-blue-500",value:u,onChange:C=>h(C.target.value),minLength:2,maxLength:255,placeholder:"Wishlist name",required:!0}),i.jsx("button",{type:"submit",className:"bg-blue-700 text-white px-4 py-2 rounded w-full font-semibold hover:bg-blue-800 transition",disabled:F.isLoading,children:F.isLoading?"Creating...":"Create"}),F.error&&i.jsx("div",{className:"text-red-500 mt-2 text-sm",children:F.error.message})]})]})}),a!==null&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative",children:[i.jsx("button",{className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",onClick:()=>{o(null),h("")},"aria-label":"Close",children:""}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Rename Wishlist"}),i.jsxs("form",{onSubmit:C=>{C.preventDefault(),!(u.trim().length<2)&&L.mutate({wishlist_id:String(a),name:u.trim(),token:t.token})},children:[i.jsx("input",{className:"border rounded px-3 py-2 w-full mb-3 outline-blue-500",value:u,onChange:C=>h(C.target.value),minLength:2,maxLength:255,placeholder:"Wishlist name",required:!0}),i.jsx("button",{type:"submit",className:"bg-blue-700 text-white px-4 py-2 rounded w-full font-semibold hover:bg-blue-800 transition",disabled:L.isLoading,children:L.isLoading?"Saving...":"Save"}),L.error&&i.jsx("div",{className:"text-red-500 mt-2 text-sm",children:L.error.message})]})]})}),l!==null&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full relative",children:[i.jsx("button",{className:"absolute right-2 top-2 text-gray-500 hover:text-gray-700",onClick:()=>c(null),"aria-label":"Close",children:""}),i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Delete Wishlist?"}),i.jsx("p",{className:"mb-4 text-gray-700",children:"Are you sure you want to delete this wishlist? This will remove it for you, but will not affect any villas."}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>z.mutate({wishlist_id:String(l),token:t.token}),className:"bg-red-700 text-white px-4 py-2 rounded font-semibold hover:bg-red-800 transition",disabled:z.isLoading,children:z.isLoading?"Deleting...":"Delete"}),i.jsx("button",{onClick:()=>c(null),className:"bg-gray-200 px-4 py-2 rounded font-semibold hover:bg-gray-300 transition",children:"Cancel"})]}),z.error&&i.jsx("div",{className:"text-red-500 mt-2 text-sm",children:z.error.message})]})})]})},t_=()=>i.jsxs("div",{className:"w-full h-full min-h-[60vh] flex flex-col items-center justify-center py-12 px-4 bg-white",children:[i.jsx("img",{src:"https://picsum.photos/600/400?grayscale&blur=2",alt:"404 Not Found Illustration",className:"w-full max-w-md h-64 object-cover rounded-xl shadow-lg mb-8 border border-gray-200",style:{backgroundColor:"#f3f4f6"},draggable:!1}),i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 mb-3 drop-shadow-sm text-center",children:"404 Not Found"}),i.jsx("p",{className:"text-gray-600 text-lg md:text-xl mb-8 text-center max-w-xl",children:"Page not found. The page you requested does not exist."}),i.jsx(V,{to:"/",className:"inline-block px-8 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 focus:bg-blue-700 text-white font-bold text-base md:text-lg shadow transition-colors duration-150 outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Return to homepage",children:"Return to Homepage"}),i.jsx("div",{className:"mt-8 text-sm text-gray-400 text-center max-w-xs",children:"If you think this is an error, please check the URL or head back to the homepage."})]}),xL=async t=>{const r=await H.get(`https://123a-clone-of-airbnb-but-for-beach-house-villas.launchpulse.ai/api/info/${encodeURIComponent(t)}`);if(!r.data||typeof r.data.content!="string")throw new Error("Malformed response from server.");return r.data},vL={privacy:"Privacy Policy",terms:"Terms of Service",about:"About Us",contact:"Contact Us"},r_="support@beachstay.villas",_L=()=>{var c;const{policy_slug:t}=cn(),e=t||"privacy",{data:r,isLoading:n,error:s,isError:a,refetch:o}=xe({queryKey:["legal_policy",e],queryFn:()=>xL(e),retry:!1,staleTime:1e3*60*10}),l=vL[e.toLowerCase()]||e.charAt(0).toUpperCase()+e.slice(1);return i.jsx(i.Fragment,{children:i.jsx("div",{className:"w-full min-h-screen flex flex-col items-center bg-gray-50 pb-16 pt-10",children:i.jsxs("div",{className:"w-full max-w-2xl shadow-lg rounded-lg bg-white p-6 sm:p-10 mt-6 mb-6 border border-gray-100 flex flex-col",children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 mb-6 text-center",children:l}),n&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-10","aria-live":"polite",children:[i.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:12,cy:12,r:10,stroke:"currentColor",strokeWidth:4}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),i.jsx("div",{className:"text-gray-600 font-medium",children:"Loading..."})]}),a&&i.jsxs("div",{className:"flex flex-col items-center text-center text-red-600 gap-2 py-10","aria-live":"assertive",children:[i.jsx("span",{className:"text-lg font-semibold",children:(c=s==null?void 0:s.message)!=null&&c.match(/404|not found/i)?"Policy Not Found":"Unable to load this policy."}),i.jsx("div",{className:"text-gray-700",children:(s==null?void 0:s.message)||"An error occurred while loading the page."}),i.jsx("button",{className:"mt-4 px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white font-medium transition",onClick:()=>o(),children:"Retry"}),i.jsx(V,{to:"/",className:"mt-3 text-blue-700 hover:underline font-medium focus:outline-none",children:"Back to Home"})]}),!n&&!a&&r&&i.jsx("div",{className:"prose prose-gray max-w-none text-gray-800 policy-content",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:r.content},"aria-label":`${l} Content`})}),!n&&!a&&e.toLowerCase()==="contact"&&i.jsxs("div",{className:"mt-8 flex flex-col items-center border-t pt-8",children:[i.jsx("span",{className:"block text-base text-gray-700 mb-2",children:"For urgent support or inquiries:"}),i.jsx("a",{href:`mailto:${r_}`,className:"inline-block text-blue-600 hover:underline font-semibold text-lg",children:r_})]}),!a&&i.jsx("div",{className:"mt-12 flex justify-center",children:i.jsxs(V,{to:"/",className:"text-blue-500 hover:underline font-medium flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back to Home"]})})]})})})},bL=()=>{const t="mailto:support@beachstay.villas",[e]=Ng(),r=e.get("message"),n=a=>a.replace(/[&<>'\"\\]/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[o]||o),s=typeof r=="string"&&r.trim().length>0?n(r):"Something went wrong.";return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"min-h-[60vh] flex flex-col justify-center items-center px-5 py-12 bg-white",children:[i.jsx("span",{role:"img","aria-label":"Error",className:"mb-4 scale-125 animate-bounce",style:{fontSize:"4rem"},children:i.jsxs("svg",{className:"w-16 h-16 text-red-400",fill:"none",viewBox:"0 0 64 64","aria-hidden":"true",children:[i.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#FEF2F2",stroke:"#F87171",strokeWidth:"4"}),i.jsx("path",{d:"M32 18 v18",stroke:"#F87171",strokeWidth:"4",strokeLinecap:"round"}),i.jsx("circle",{cx:"32",cy:"46",r:"2.5",fill:"#F87171"})]})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Oops! An error occurred"}),i.jsx("div",{className:"text-gray-600 mb-6 text-lg text-center max-w-lg",children:s}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[i.jsx(V,{to:"/",className:"inline-block px-5 py-2 rounded-full font-semibold bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition",children:"Go to homepage"}),i.jsx("a",{href:t,className:"inline-block px-5 py-2 rounded-full font-semibold bg-gray-100 text-blue-700 hover:bg-blue-200 border border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-300 transition",rel:"noopener noreferrer",children:"Contact support"})]}),i.jsx("button",{type:"button",className:"text-sm text-gray-500 underline hover:text-blue-500 mt-2",onClick:()=>window.history.length>1?window.history.back():window.location.assign("/"),"aria-label":"Go back to previous page",children:"Try previous page"})]})})};class wL extends ge.Component{constructor(){super(...arguments);An(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){}render(){var r;return this.state.hasError?i.jsxs("div",{className:"text-red-600 p-8 text-center",children:[i.jsx("h1",{children:"Something went wrong "}),i.jsx("pre",{children:(r=this.state.error)==null?void 0:r.message})]}):this.props.children}}const Zt=({children:t})=>{const e=ae(s=>s.user_session),[r,n]=w.useState(!1);if(w.useEffect(()=>{const s=setTimeout(()=>{n(!0)},50);return()=>clearTimeout(s)},[]),!r)return i.jsx("div",{className:"flex justify-center items-center h-64 text-gray-500",children:"Loading..."});if(!e.is_authenticated){console.log("ProtectedRoute: User not authenticated, redirecting to login",e);const s=window.location.pathname,a=encodeURIComponent(s);return i.jsx(zS,{to:`/guest/login?returnTo=${a}`,replace:!0})}return console.log("ProtectedRoute: User authenticated, allowing access",e),i.jsx(i.Fragment,{children:t})},jL={},NL=()=>{const t=w.useRef();return t.current||(t.current=new yC),i.jsx(ge.StrictMode,{children:i.jsx(qE,{children:i.jsx(CE,{theme:jL,children:i.jsx(wL,{children:i.jsx(JS,{children:i.jsx(jC,{client:t.current,children:i.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[i.jsx(lR,{}),i.jsx(VT,{}),i.jsx("div",{className:"flex-1 w-full",children:i.jsx(w.Suspense,{fallback:i.jsx("div",{className:"flex justify-center items-center h-64 text-gray-500",children:"Loading..."}),children:i.jsxs(WS,{children:[i.jsx(He,{path:"/",element:i.jsx(wA,{})}),i.jsx(He,{path:"/search",element:i.jsx(x5,{})}),i.jsx(He,{path:"/villa/:villaId",element:i.jsx(v5,{})}),i.jsx(He,{path:"/booking/start",element:i.jsx(b5,{})}),i.jsx(He,{path:"/booking/confirmation",element:i.jsx(r6,{})}),i.jsx(He,{path:"/booking/failure",element:i.jsx(o6,{})}),i.jsx(He,{path:"/guest/signup",element:i.jsx(d6,{})}),i.jsx(He,{path:"/guest/login",element:i.jsx(h6,{})}),i.jsx(He,{path:"/guest/password-reset",element:i.jsx(p6,{})}),i.jsx(He,{path:"/guest/dashboard",element:i.jsx(Zt,{children:i.jsx(w6,{})})}),i.jsx(He,{path:"/guest/profile/edit",element:i.jsx(Zt,{children:i.jsx(C6,{})})}),i.jsx(He,{path:"/guest/my-trips",element:i.jsx(Zt,{children:i.jsx(X6,{})})}),i.jsx(He,{path:"/guest/wishlists",element:i.jsx(Zt,{children:i.jsx(yL,{})})}),i.jsx(He,{path:"/host/signup",element:i.jsx(P6,{})}),i.jsx(He,{path:"/host/dashboard",element:i.jsx(Zt,{children:i.jsx(R6,{})})}),i.jsx(He,{path:"/host/profile/edit",element:i.jsx(Zt,{children:i.jsx($6,{})})}),i.jsx(He,{path:"/host/onboarding",element:i.jsx(Zt,{children:i.jsx(I6,{})})}),i.jsx(He,{path:"/host/villa/:villaId",element:i.jsx(Zt,{children:i.jsx(D6,{})})}),i.jsx(He,{path:"/host/reservations",element:i.jsx(Zt,{children:i.jsx(aL,{})})}),i.jsx(He,{path:"/messaging",element:i.jsx(Zt,{children:i.jsx(q6,{})})}),i.jsx(He,{path:"/messaging/thread/:threadId",element:i.jsx(Zt,{children:i.jsx(W6,{})})}),i.jsx(He,{path:"/reservation/:reservationId",element:i.jsx(Zt,{children:i.jsx(uL,{})})}),i.jsx(He,{path:"/review/leave/:bookingId",element:i.jsx(Zt,{children:i.jsx(V6,{})})}),i.jsx(He,{path:"/review/edit/:reviewId",element:i.jsx(Zt,{children:i.jsx(Z6,{})})}),i.jsx(He,{path:"/legal/:policy",element:i.jsx(_L,{})}),i.jsx(He,{path:"/error",element:i.jsx(bL,{})}),i.jsx(He,{path:"/404",element:i.jsx(t_,{})}),i.jsx(He,{path:"*",element:i.jsx(t_,{})})]})})}),i.jsx(fR,{})]})})})})})})})},kL=()=>i.jsx(i.Fragment,{children:i.jsx(NL,{})});Cw(document.getElementById("root")).render(i.jsx(kL,{}));
